# Part 13-E: ê·¸ë˜í”„ í‘œí˜„ë°©ë²•ê³¼ ë™í˜• ê·¸ë˜í”„ (1) â€” ì¸ì ‘ë¦¬ìŠ¤íŠ¸, ì¸ì ‘í–‰ë ¬, ê²°í•©í–‰ë ¬

> **Rosen ì´ì‚°ìˆ˜í•™ 8íŒ Â· Section 10.3 ê¸°ë°˜**
> ã€Mathematics in Leanã€ + Lean 4 ê³µì‹í™”

---

## 0. ë“¤ì–´ê°€ë©°: ì´ íŒŒíŠ¸ì—ì„œ ë°°ìš¸ ê²ƒ

Part 13-C, 13-Dì—ì„œëŠ” ê·¸ë˜í”„ì˜ **ê¸°ë³¸ ìš©ì–´**(ì¸ì ‘, ì°¨ìˆ˜, ì•…ìˆ˜ ì •ë¦¬)ì™€ **íŠ¹ìˆ˜í•œ ê·¸ë˜í”„**(ì™„ì „ ê·¸ë˜í”„, ì´ë¶„ ê·¸ë˜í”„ ë“±)ë¥¼ ë°°ì› ë‹¤. ì´ë²ˆ Part 13-Eì—ì„œëŠ” ê·¸ë˜í”„ë¥¼ ì»´í“¨í„°ì—ì„œ **ì–´ë–»ê²Œ ì €ì¥í•˜ê³  í‘œí˜„í•˜ëŠ”ì§€**, ê·¸ë¦¬ê³  ë‘ ê·¸ë˜í”„ê°€ **ê°™ì€ êµ¬ì¡°**ì¸ì§€(ë™í˜•ì¸ì§€) íŒë³„í•˜ëŠ” ë°©ë²•ì„ ë°°ìš´ë‹¤.

ì´ íŒŒíŠ¸ì—ì„œ ë‹¤ë£¨ëŠ” ë‚´ìš©:

1. **ì¸ì ‘ ë¦¬ìŠ¤íŠ¸**(adjacency list) â€” ê° ê¼­ì§€ì ë§ˆë‹¤ ì´ì›ƒì„ ë‚˜ì—´
2. **ì¸ì ‘ í–‰ë ¬**(adjacency matrix) â€” 0ê³¼ 1ë¡œ ëœ ì •ì‚¬ê° í–‰ë ¬
3. **ê²°í•© í–‰ë ¬**(incidence matrix) â€” ê¼­ì§€ì Ã—ëª¨ì„œë¦¬ í–‰ë ¬
4. **ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ vs ì¸ì ‘ í–‰ë ¬**ì˜ ì¥ë‹¨ì 
5. **ë™í˜• ê·¸ë˜í”„**(isomorphic graphs)ì˜ ì •ì˜
6. **ê·¸ë˜í”„ ë¶ˆë³€ì„±**(graph invariant) â€” ë™í˜• íŒë³„ ë„êµ¬
7. Lean 4ì—ì„œ í–‰ë ¬ê³¼ ê·¸ë˜í”„ ë™í˜•ì„ í‘œí˜„í•˜ê³  ì¦ëª…í•˜ê¸°

> **í•µì‹¬ ë¹„ìœ **: ê·¸ë˜í”„ë¥¼ í‘œí˜„í•˜ëŠ” ê²ƒì€ ë§ˆì¹˜ ì¹œêµ¬ ê´€ê³„ë¥¼ ê¸°ë¡í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤. **ì¸ì ‘ ë¦¬ìŠ¤íŠ¸**ëŠ” "ì² ìˆ˜ì˜ ì¹œêµ¬: ì˜í¬, ë¯¼ìˆ˜"ì²˜ëŸ¼ ê° ì‚¬ëŒë§ˆë‹¤ ì¹œêµ¬ ëª©ë¡ì„ ì ëŠ” ê²ƒì´ê³ , **ì¸ì ‘ í–‰ë ¬**ì€ ëª¨ë“  ì‚¬ëŒ ìŒì— ëŒ€í•´ "ì¹œêµ¬ì¸ê°€? ì˜ˆ/ì•„ë‹ˆì˜¤"ë¥¼ í‘œì— ì ëŠ” ê²ƒì´ë‹¤. ë‘ ë°©ë²• ëª¨ë‘ ê°™ì€ ì •ë³´ë¥¼ ë‹´ì§€ë§Œ, ìƒí™©ì— ë”°ë¼ í¸ë¦¬í•œ ë°©ë²•ì´ ë‹¤ë¥´ë‹¤!

---

## 1. ê·¸ë˜í”„ í‘œí˜„ ë°©ë²•ë“¤ (Section 10.3.1~10.3.2)

### 1.1 ì™œ ê·¸ë˜í”„ë¥¼ í‘œí˜„í•´ì•¼ í•˜ëŠ”ê°€?

ê·¸ë˜í”„ë¥¼ ê·¸ë¦¼ìœ¼ë¡œ ê·¸ë¦¬ë©´ ì§ê´€ì ì´ì§€ë§Œ, ì»´í“¨í„°ëŠ” ê·¸ë¦¼ì„ ì§ì ‘ ì´í•´í•˜ì§€ ëª»í•œë‹¤. ì»´í“¨í„°ê°€ ê·¸ë˜í”„ë¥¼ ë‹¤ë£¨ë ¤ë©´ **ë°ì´í„° êµ¬ì¡°**(data structure)ë¡œ í‘œí˜„í•´ì•¼ í•œë‹¤. ëŒ€í‘œì ìœ¼ë¡œ ì„¸ ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤:

1. **ì¸ì ‘ ë¦¬ìŠ¤íŠ¸**(adjacency list): ê° ê¼­ì§€ì ë§ˆë‹¤ ì¸ì ‘í•œ ê¼­ì§€ì ë“¤ì˜ ëª©ë¡ì„ ì €ì¥
2. **ì¸ì ‘ í–‰ë ¬**(adjacency matrix): nÃ—n í–‰ë ¬ë¡œ ì¸ì ‘ ê´€ê³„ë¥¼ 0/1ë¡œ í‘œí˜„
3. **ê²°í•© í–‰ë ¬**(incidence matrix): nÃ—m í–‰ë ¬ë¡œ ê¼­ì§€ì ê³¼ ëª¨ì„œë¦¬ì˜ ê´€ê³„ë¥¼ í‘œí˜„

> **ì¼ìƒì  ë¹„ìœ **: í•™êµì—ì„œ í•™ìƒë“¤ì˜ ì¹œêµ¬ ê´€ê³„ë¥¼ ê¸°ë¡í•œë‹¤ê³  ìƒê°í•˜ì.
> - **ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ ë°©ì‹**: ê° í•™ìƒì˜ í”„ë¡œí•„ì— "ì¹œêµ¬ ëª©ë¡"ì„ ì ëŠ”ë‹¤ â†’ ì¹œêµ¬ê°€ ì ì€ í•™ìƒì´ ë§ìœ¼ë©´ íš¨ìœ¨ì 
> - **ì¸ì ‘ í–‰ë ¬ ë°©ì‹**: í•™ìƒ ì „ì²´ë¥¼ í–‰ê³¼ ì—´ì— ë†“ê³ , ì¹œêµ¬ì´ë©´ âœ“, ì•„ë‹ˆë©´ âœ—ë¥¼ ì ëŠ”ë‹¤ â†’ ì¹œêµ¬ê°€ ë§ìœ¼ë©´ íš¨ìœ¨ì 
> - **ê²°í•© í–‰ë ¬ ë°©ì‹**: í–‰ì— í•™ìƒ, ì—´ì— "ê´€ê³„"ë¥¼ ë†“ê³ , ê·¸ ê´€ê³„ì— í¬í•¨ë˜ë©´ 1ì„ ì ëŠ”ë‹¤

### 1.2 ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ (Adjacency List)

**ì¸ì ‘ ë¦¬ìŠ¤íŠ¸**(adjacency list)ëŠ” ê·¸ë˜í”„ì˜ ê° ê¼­ì§€ì ì— ëŒ€í•´, ê·¸ ê¼­ì§€ì ê³¼ **ì¸ì ‘í•œ**(adjacent) ëª¨ë“  ê¼­ì§€ì ë“¤ì„ ë‚˜ì—´í•˜ëŠ” ë°©ë²•ì´ë‹¤.

#### ì˜ˆì œ 1: ë‹¨ìˆœ ê·¸ë˜í”„ì˜ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ (Rosen ì˜ˆì œ 1)

ë‹¤ìŒ ë‹¨ìˆœ ê·¸ë˜í”„ë¥¼ ìƒê°í•˜ì. ê¼­ì§€ì ì€ {a, b, c, d, e}ì´ê³ , ëª¨ì„œë¦¬ëŠ” {a,b}, {a,c}, {a,e}, {b,a}, {c,a}, {c,d}, {c,e}, {d,c}, {d,e}, {e,a}, {e,c}, {e,d}ì´ë‹¤.

| **ê¼­ì§€ì **(vertex) | **ì¸ì ‘ ê¼­ì§€ì ë“¤**(adjacent vertices) |
|:---:|:---:|
| a | b, c, e |
| b | a |
| c | a, d, e |
| d | c, e |
| e | a, c, d |

> **ì½ëŠ” ë²•**: ê¼­ì§€ì  aì—ì„œ ì¶œë°œí•˜ë©´ b, c, eë¡œ ì§ì ‘ ê°ˆ ìˆ˜ ìˆë‹¤. ê¼­ì§€ì  bì—ì„œëŠ” aë¡œë§Œ ê°ˆ ìˆ˜ ìˆë‹¤.

Lean 4ì—ì„œ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ë¥¼ í‘œí˜„í•˜ëŠ” ê°€ì¥ ìì—°ìŠ¤ëŸ¬ìš´ ë°©ë²•ì€ **í•¨ìˆ˜**ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤:

```lean
-- ì¸ì ‘ ë¦¬ìŠ¤íŠ¸: ê° ê¼­ì§€ì ì— ëŒ€í•´ ì´ì›ƒë“¤ì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
-- VëŠ” ê¼­ì§€ì  íƒ€ì…

-- ë°©ë²• 1: í•¨ìˆ˜ë¡œ í‘œí˜„ (ê°€ì¥ ê¸°ë³¸ì )
inductive V5 | a | b | c | d | e
  deriving DecidableEq, Repr

open V5

-- ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ë¥¼ í•¨ìˆ˜ë¡œ ì •ì˜
def adjList : V5 â†’ List V5
  | V5.a => [V5.b, V5.c, V5.e]
  | V5.b => [V5.a]
  | V5.c => [V5.a, V5.d, V5.e]
  | V5.d => [V5.c, V5.e]
  | V5.e => [V5.a, V5.c, V5.d]

-- ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì¸ì ‘ì„± íŒë‹¨:
-- "vì˜ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ì— uê°€ í¬í•¨ë˜ì–´ ìˆëŠ”ê°€?"
def isAdjacentViaList (u v : V5) : Bool :=
  (adjList u).contains v

-- ì˜ˆ: aì™€ bê°€ ì¸ì ‘í•˜ëŠ”ê°€?
#eval isAdjacentViaList V5.a V5.b  -- true
#eval isAdjacentViaList V5.a V5.d  -- false (aì™€ dëŠ” ì¸ì ‘í•˜ì§€ ì•ŠìŒ!)
```

> **í•µì‹¬ í¬ì¸íŠ¸**: ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ëŠ” `V â†’ List V` íƒ€ì…ì˜ í•¨ìˆ˜ì´ë‹¤. ê° ê¼­ì§€ì ì„ ì…ë ¥í•˜ë©´ ì´ì›ƒë“¤ì˜ ëª©ë¡ì„ ë°˜í™˜í•œë‹¤.

#### ì˜ˆì œ 2: ë°©í–¥ì„± ê·¸ë˜í”„ì˜ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ (Rosen ì˜ˆì œ 2)

**ë°©í–¥ì„± ê·¸ë˜í”„**(directed graph)ì—ì„œëŠ” í™”ì‚´í‘œì˜ ë°©í–¥ì´ ìˆìœ¼ë¯€ë¡œ, ê° ê¼­ì§€ì ì—ì„œ **ë‚˜ê°€ëŠ”**(outgoing) ëª¨ì„œë¦¬ì˜ ëì ì„ ë‚˜ì—´í•œë‹¤.

| **ì‹œì‘ ê¼­ì§€ì **(initial vertex) | **ì¢…ë£Œ ê¼­ì§€ì ë“¤**(terminal vertices) |
|:---:|:---:|
| a | b, c, d, e |
| b | b, d |
| c | a, c, e |
| d | (ì—†ìŒ) |
| e | b, c, d |

```lean
-- ë°©í–¥ì„± ê·¸ë˜í”„ì˜ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸
-- ê° ê¼­ì§€ì ì—ì„œ "ë‚˜ê°€ëŠ”" ëª¨ì„œë¦¬ì˜ ëì ë“¤

def dirAdjList : V5 â†’ List V5
  | V5.a => [V5.b, V5.c, V5.d, V5.e]  -- aì—ì„œ b,c,d,eë¡œ í™”ì‚´í‘œ
  | V5.b => [V5.b, V5.d]              -- bì—ì„œ ìê¸°ìì‹ , dë¡œ í™”ì‚´í‘œ
  | V5.c => [V5.a, V5.c, V5.e]        -- cì—ì„œ a, ìê¸°ìì‹ , eë¡œ í™”ì‚´í‘œ
  | V5.d => []                         -- dì—ì„œ ë‚˜ê°€ëŠ” í™”ì‚´í‘œ ì—†ìŒ!
  | V5.e => [V5.b, V5.c, V5.d]        -- eì—ì„œ b,c,dë¡œ í™”ì‚´í‘œ

-- ì£¼ì˜: ë°©í–¥ì„± ê·¸ë˜í”„ì—ì„œëŠ” aâ†’bì´ì§€ë§Œ bâ†’aëŠ” ì•„ë‹ ìˆ˜ ìˆë‹¤!
-- dirAdjList aì— bê°€ ìˆì§€ë§Œ, dirAdjList bì— aëŠ” ì—†ë‹¤.
```

> **ë¹„ë°©í–¥ vs ë°©í–¥**: ë¹„ë°©í–¥ ê·¸ë˜í”„ì—ì„œëŠ” ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ê°€ ëŒ€ì¹­ì ì´ë‹¤ (aì˜ ëª©ë¡ì— bê°€ ìˆìœ¼ë©´ bì˜ ëª©ë¡ì—ë„ aê°€ ìˆë‹¤). ë°©í–¥ì„± ê·¸ë˜í”„ì—ì„œëŠ” ê·¸ë ‡ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.

---

## 2. ì¸ì ‘ í–‰ë ¬ (Section 10.3.3)

### 2.1 ì¸ì ‘ í–‰ë ¬ì˜ ì •ì˜

> **ì •ì˜** (Rosen): ê·¸ë˜í”„ G = (V, E)ì—ì„œ |V| = nì¸ ë‹¨ìˆœ ê·¸ë˜í”„ë¼ í•˜ì. Gì˜ ê° ê¼­ì§€ì  vâ‚, vâ‚‚, ..., vâ‚™ì„ ì„ì˜ë¡œ ë‚˜ì—´í–ˆë‹¤ê³  ê°€ì •í•œë‹¤. Gì˜ **ì¸ì ‘ í–‰ë ¬**(adjacency matrix) **A** (ë˜ëŠ” **A**_G)ëŠ” nì°¨ì˜ 0-1 í–‰ë ¬ì´ë‹¤. ì´ í–‰ë ¬ì˜ (i, j)í•­ì€ Gì˜ ê¼­ì§€ì ì„ ì´ìš©í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜ëœë‹¤:
>
> - a_ij = 1 : v_iì™€ v_jê°€ ì¸ì ‘í•  ë•Œ
> - a_ij = 0 : v_iì™€ v_jê°€ ì¸ì ‘í•˜ì§€ ì•Šì„ ë•Œ

ì‰½ê²Œ ë§í•´ì„œ, **ì¸ì ‘ í–‰ë ¬**ì€ "ì´ ë‘ ê¼­ì§€ì ì´ ì—°ê²°ë˜ì–´ ìˆëŠ”ê°€?"ë¼ëŠ” ì§ˆë¬¸ì— ëŒ€í•œ ë‹µì„ í‘œë¡œ ì •ë¦¬í•œ ê²ƒì´ë‹¤.

### 2.2 ì¸ì ‘ í–‰ë ¬ì˜ í•µì‹¬ ì„±ì§ˆ

ì¸ì ‘ í–‰ë ¬ì—ëŠ” ì¤‘ìš”í•œ ì„±ì§ˆë“¤ì´ ìˆë‹¤:

1. **ëŒ€ê°ì„ ì€ 0**: ë‹¨ìˆœ ê·¸ë˜í”„ì—ëŠ” **ë£¨í”„**(loop)ê°€ ì—†ìœ¼ë¯€ë¡œ, a_ii = 0ì´ë‹¤ (i = 1, 2, ..., n).
2. **ëŒ€ì¹­ í–‰ë ¬**: ë‹¨ìˆœ ê·¸ë˜í”„ì˜ ì¸ì ‘ í–‰ë ¬ì€ **ëŒ€ì¹­ì **(symmetric)ì´ë‹¤. ì¦‰, a_ij = a_jiì´ë‹¤. ì™œëƒí•˜ë©´ v_iì™€ v_jê°€ ì¸ì ‘í•˜ë©´ v_jì™€ v_ië„ ì¸ì ‘í•˜ê¸° ë•Œë¬¸ì´ë‹¤ (ë¹„ë°©í–¥ì´ë‹ˆê¹Œ!).
3. **ìœ ì‚¬ ê·¸ë˜í”„**: ìœ ì‚¬ ê·¸ë˜í”„(pseudograph)ì—ì„œëŠ” ë£¨í”„ê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ëŒ€ê°ì„ ì´ 0ì´ ì•„ë‹ ìˆ˜ ìˆê³ , ë‹¤ì¤‘ ëª¨ì„œë¦¬ê°€ ìˆìœ¼ë©´ í•­ì´ 1ë³´ë‹¤ í´ ìˆ˜ ìˆë‹¤.

### 2.3 ì˜ˆì œ 3: ë‹¨ìˆœ ê·¸ë˜í”„ â†’ ì¸ì ‘ í–‰ë ¬ (Rosen ì˜ˆì œ 3)

ê¼­ì§€ì  {a, b, c, d}ì— ëŒ€í•´, ëª¨ì„œë¦¬ê°€ {a,b}, {a,c}, {a,d}, {b,c}ì¸ ë‹¨ìˆœ ê·¸ë˜í”„ë¥¼ ìƒê°í•˜ì.

ê¼­ì§€ì  a, b, c, dì— ëŒ€ì‘í•˜ì—¬ 4ê°œì˜ í–‰ê³¼ ì—´ì„ ë‚˜ì—´í•˜ë©´ ì¸ì ‘ í–‰ë ¬ì€:

```
     a  b  c  d
a [  0  1  1  1 ]
b [  1  0  1  0 ]
c [  1  1  0  0 ]
d [  1  0  0  0 ]
```

> **ì½ëŠ” ë²•**: (a, b) ìœ„ì¹˜ê°€ 1ì´ë©´ aì™€ bê°€ ì—°ê²°ë˜ì–´ ìˆë‹¤. (b, d) ìœ„ì¹˜ê°€ 0ì´ë©´ bì™€ dëŠ” ì—°ê²°ë˜ì–´ ìˆì§€ ì•Šë‹¤.

```lean
-- Lean 4ì—ì„œ ì¸ì ‘ í–‰ë ¬ í‘œí˜„
-- ë°©ë²• 1: Fin n â†’ Fin n â†’ â„• í•¨ìˆ˜ë¡œ í‘œí˜„ (Part 12-Dì—ì„œ ë°°ìš´ ë°©ë²•)

-- 4ê°œ ê¼­ì§€ì  {0=a, 1=b, 2=c, 3=d}
-- ëª¨ì„œë¦¬: {a,b}, {a,c}, {a,d}, {b,c}

def adjMatrix_ex3 : Fin 4 â†’ Fin 4 â†’ â„• := fun i j =>
  match i.val, j.val with
  | 0, 1 => 1 | 1, 0 => 1   -- {a,b}
  | 0, 2 => 1 | 2, 0 => 1   -- {a,c}
  | 0, 3 => 1 | 3, 0 => 1   -- {a,d}
  | 1, 2 => 1 | 2, 1 => 1   -- {b,c}
  | _, _ => 0

-- ë°©ë²• 2: Mathlibì˜ Matrix í‘œê¸°ë²• ì‚¬ìš©
-- !![0, 1, 1, 1; 1, 0, 1, 0; 1, 1, 0, 0; 1, 0, 0, 0]

-- ì¸ì ‘ í–‰ë ¬ì´ ëŒ€ì¹­ì ì„ì„ í™•ì¸
-- ì¦‰, adjMatrix_ex3 i j = adjMatrix_ex3 j i
theorem adjMatrix_ex3_symm (i j : Fin 4) :
    adjMatrix_ex3 i j = adjMatrix_ex3 j i := by
  fin_cases i <;> fin_cases j <;> simp [adjMatrix_ex3]
```

### 2.4 ì˜ˆì œ 4: ì¸ì ‘ í–‰ë ¬ â†’ ê·¸ë˜í”„ ê·¸ë¦¬ê¸° (Rosen ì˜ˆì œ 4)

ì¸ì ‘ í–‰ë ¬ì´ ì£¼ì–´ì§€ë©´, ì—­ìœ¼ë¡œ ê·¸ë˜í”„ë¥¼ ê·¸ë¦´ ìˆ˜ ìˆë‹¤:

```
     a  b  c  d
a [  0  1  1  0 ]
b [  1  0  0  1 ]
c [  1  0  0  1 ]
d [  0  1  1  0 ]
```

ì´ í–‰ë ¬ì—ì„œ 1ì¸ ìœ„ì¹˜ë¥¼ ì½ìœ¼ë©´: ëª¨ì„œë¦¬ = {a,b}, {a,c}, {b,d}, {c,d}. ì´ê²ƒì€ **ì‚¬ê°í˜•** ëª¨ì–‘ì˜ ê·¸ë˜í”„ì´ë‹¤!

```lean
-- ì¸ì ‘ í–‰ë ¬ì—ì„œ SimpleGraph ë§Œë“¤ê¸°
-- í•µì‹¬: í–‰ë ¬ì˜ (i,j)ê°€ 1ì´ë©´ Adj i j = True

def matrixToGraph (M : Fin n â†’ Fin n â†’ â„•)
    (h_symm : âˆ€ i j, M i j = M j i)
    (h_loop : âˆ€ i, M i i = 0) : SimpleGraph (Fin n) where
  Adj i j := M i j â‰  0
  symm := by
    intro i j h
    rw [h_symm] at h
    exact h
  loopless := by
    intro i h
    exact h (h_loop i)
```

### 2.5 ìœ ì‚¬ ê·¸ë˜í”„ì˜ ì¸ì ‘ í–‰ë ¬ (Rosen ì˜ˆì œ 5)

**ìœ ì‚¬ ê·¸ë˜í”„**(pseudograph)ì—ì„œëŠ” ë‹¤ì¤‘ ëª¨ì„œë¦¬ì™€ ë£¨í”„ê°€ í—ˆìš©ë˜ë¯€ë¡œ, ì¸ì ‘ í–‰ë ¬ì˜ í•­ì´ 1ë³´ë‹¤ í´ ìˆ˜ ìˆë‹¤.

ì˜ˆ: ê¼­ì§€ì  {a, b, c, d}ì— ëŒ€í•´ aì™€ b ì‚¬ì´ì— ëª¨ì„œë¦¬ê°€ 3ê°œ, cì™€ d ì‚¬ì´ì— ëª¨ì„œë¦¬ê°€ 2ê°œì¸ ìœ ì‚¬ ê·¸ë˜í”„:

```
     a  b  c  d
a [  0  3  0  2 ]
b [  3  0  1  1 ]
c [  0  1  1  2 ]
d [  2  1  2  0 ]
```

> **ëŒ€ê°ì„ ì˜ ì˜ë¯¸**: cì™€ c ì‚¬ì´ì— ë£¨í”„ê°€ 1ê°œ ìˆìœ¼ë©´ (c, c) ìœ„ì¹˜ì— 1ì´ ì˜¨ë‹¤. ìœ ì‚¬ ê·¸ë˜í”„ì—ì„œëŠ” ëŒ€ê°ì„ ì´ 0ì´ ì•„ë‹ ìˆ˜ ìˆë‹¤!

### 2.6 ë°©í–¥ì„± ê·¸ë˜í”„ì˜ ì¸ì ‘ í–‰ë ¬

ë°©í–¥ì„± ê·¸ë˜í”„ G = (V, E)ì˜ ì¸ì ‘ í–‰ë ¬ì€ ë¹„ëŒ€ì¹­ì¼ ìˆ˜ ìˆë‹¤:

- a_ij = 1 : v_iì—ì„œ v_jë¡œ ê°€ëŠ” ëª¨ì„œë¦¬ê°€ ì¡´ì¬í•  ë•Œ
- a_ij = 0 : ê·¸ë ‡ì§€ ì•Šì„ ë•Œ

> **í•µì‹¬ ì°¨ì´**: v_iì—ì„œ v_jë¡œ ê°€ëŠ” ëª¨ì„œë¦¬ê°€ ìˆì–´ë„, v_jì—ì„œ v_ië¡œ ê°€ëŠ” ëª¨ì„œë¦¬ëŠ” ì—†ì„ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ a_ij â‰  a_jiì¼ ìˆ˜ ìˆê³ , ì¸ì ‘ í–‰ë ¬ì€ **ë¹„ëŒ€ì¹­**(asymmetric)ì´ë‹¤!

```lean
-- ë°©í–¥ì„± ê·¸ë˜í”„ì˜ ì¸ì ‘ í–‰ë ¬
-- ë¹„ëŒ€ì¹­ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ symm ì¡°ê±´ì´ ì—†ë‹¤!

structure SimpleDigraph (V : Type) where
  Adj : V â†’ V â†’ Prop
  loopless : âˆ€ v, Â¬ Adj v v  -- ë£¨í”„ ì—†ìŒë§Œ ìš”êµ¬ (ëŒ€ì¹­ì€ ìš”êµ¬í•˜ì§€ ì•ŠìŒ!)

-- ë°©í–¥ì„± ê·¸ë˜í”„ì˜ ì¸ì ‘ í–‰ë ¬
def dirAdjMatrix (G : SimpleDigraph (Fin n)) : Fin n â†’ Fin n â†’ â„• :=
  fun i j => if G.Adj i j then 1 else 0
```

---

## 3. ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ì™€ ì¸ì ‘ í–‰ë ¬ì˜ ì¥ë‹¨ì 

ê·¸ë˜í”„ë¥¼ í‘œí˜„í•  ë•Œ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ì™€ ì¸ì ‘ í–‰ë ¬ ì¤‘ ì–´ë–¤ ê²ƒì„ ì‚¬ìš©í• ì§€ëŠ” ê·¸ë˜í”„ì˜ **ë°€ë„**(density)ì— ë”°ë¼ ê²°ì •ëœë‹¤.

### 3.1 ë¹„êµí‘œ

| ê¸°ì¤€ | **ì¸ì ‘ ë¦¬ìŠ¤íŠ¸**(adjacency list) | **ì¸ì ‘ í–‰ë ¬**(adjacency matrix) |
|:---|:---|:---|
| ì €ì¥ ê³µê°„ | O(n + m) (n=ê¼­ì§€ì , m=ëª¨ì„œë¦¬) | O(nÂ²) |
| ëª¨ì„œë¦¬ ì¡´ì¬ í™•ì¸ | O(c) â€” ëª©ë¡ íƒìƒ‰ í•„ìš” (cëŠ” ì°¨ìˆ˜) | O(1) â€” ì¦‰ì‹œ í™•ì¸! |
| **í¬ë°•í•œ**(sparse) ê·¸ë˜í”„ | âœ… íš¨ìœ¨ì  | âŒ ë¹„íš¨ìœ¨ì  (0ì´ ëŒ€ë¶€ë¶„) |
| **ì´˜ì´˜í•œ**(dense) ê·¸ë˜í”„ | âŒ ë¹„íš¨ìœ¨ì  | âœ… íš¨ìœ¨ì  |
| ì í•©í•œ ìƒí™© | ëª¨ì„œë¦¬ê°€ ì ì€ ê·¸ë˜í”„ | ëª¨ì„œë¦¬ê°€ ë§ì€ ê·¸ë˜í”„ |

> **í¬ë°•í•˜ë‹¤**(sparse): ëª¨ì„œë¦¬ì˜ ìˆ˜ê°€ ê¼­ì§€ì  ìˆ˜ì— ë¹„í•´ ì ì€ ê·¸ë˜í”„. ì˜ˆ: ë„ë¡œ ë„¤íŠ¸ì›Œí¬ (ê° êµì°¨ë¡œì—ì„œ ë‚˜ê°€ëŠ” ë„ë¡œëŠ” ë³´í†µ 3~4ê°œ).
>
> **ì´˜ì´˜í•˜ë‹¤**(dense): ëª¨ì„œë¦¬ì˜ ìˆ˜ê°€ ê°€ëŠ¥í•œ ìµœëŒ€ ëª¨ì„œë¦¬ ìˆ˜ì— ê°€ê¹Œìš´ ê·¸ë˜í”„. ì˜ˆ: ì™„ì „ ê·¸ë˜í”„ K_n (ëª¨ë“  ìŒì´ ì—°ê²°ë¨).

### 3.2 Lean 4ì—ì„œì˜ ë¹„êµ

```lean
-- í¬ë°•í•œ ê·¸ë˜í”„: ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ê°€ ìœ ë¦¬
-- 100ê°œ ê¼­ì§€ì ì— ëª¨ì„œë¦¬ê°€ 150ê°œì¸ ê·¸ë˜í”„

-- ì¸ì ‘ ë¦¬ìŠ¤íŠ¸: ì•½ 300ê°œì˜ í•­ëª© ì €ì¥ (ê° ëª¨ì„œë¦¬ê°€ ì–‘ìª½ì— í•œ ë²ˆì”©)
-- ì¸ì ‘ í–‰ë ¬: 10000ê°œì˜ í•­ëª© ì €ì¥ (ëŒ€ë¶€ë¶„ 0!)

-- ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ë¡œ ì¸ì ‘ì„± í™•ì¸: í‰ê·  3ê°œ íƒìƒ‰
-- ì¸ì ‘ í–‰ë ¬ë¡œ ì¸ì ‘ì„± í™•ì¸: ì¦‰ì‹œ (ì¸ë±ìŠ¤ ì ‘ê·¼)

-- Lean 4ì—ì„œ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ ê¸°ë°˜ ê·¸ë˜í”„
structure AdjListGraph (V : Type) [DecidableEq V] where
  vertices : List V
  neighbors : V â†’ List V
  -- ëŒ€ì¹­ ì¡°ê±´: uì˜ ì´ì›ƒì— vê°€ ìˆìœ¼ë©´ vì˜ ì´ì›ƒì—ë„ uê°€ ìˆì–´ì•¼ í•¨
  symm_cond : âˆ€ u v, v âˆˆ neighbors u â†’ u âˆˆ neighbors v

-- Lean 4ì—ì„œ ì¸ì ‘ í–‰ë ¬ ê¸°ë°˜ ê·¸ë˜í”„
structure AdjMatrixGraph (n : â„•) where
  matrix : Fin n â†’ Fin n â†’ â„•
  symm_cond : âˆ€ i j, matrix i j = matrix j i
  loop_free : âˆ€ i, matrix i i = 0
```

---

## 4. ê²°í•© í–‰ë ¬ (Section 10.3.4)

### 4.1 ê²°í•© í–‰ë ¬ì˜ ì •ì˜

> **ì •ì˜** (Rosen): ê·¸ë˜í”„ë¥¼ í‘œí˜„í•˜ëŠ” ë˜ ë‹¤ë¥¸ ì¼ë°˜ì ì¸ ë°©ë²•ì€ **ê²°í•© í–‰ë ¬**(incidence matrix)ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. G = (V, E)ë¼ëŠ” ë¹„ë°©í–¥ì„± ê·¸ë˜í”„ê°€ ì•„ë˜ ìˆœì„œëŒ€ë¡œì˜ nê°œì˜ ê¼­ì§€ì  vâ‚, vâ‚‚, ..., vâ‚™ê³¼ mê°œì˜ ëª¨ì„œë¦¬ eâ‚, eâ‚‚, ..., eâ‚˜ì„ ê°–ëŠ”ë‹¤ í•˜ì. Vì™€ Eì— ëŒ€í•œ ê²°í•© í–‰ë ¬ì€ n Ã— m í–‰ë ¬ **M** = [m_ij]ì´ê³  ì„±ë¶„ì€ ì•„ë˜ì™€ ê°™ì´ ì •ì˜ëœë‹¤:
>
> - m_ij = 1 : ëª¨ì„œë¦¬ e_jê°€ v_iì™€ ì—°ê²°ëœ ê²½ìš°
> - m_ij = 0 : ê·¸ë ‡ì§€ ì•Šì„ ê²½ìš°

ì‰½ê²Œ ë§í•´ì„œ, ê²°í•© í–‰ë ¬ì€ "ì´ ê¼­ì§€ì ì´ ì´ ëª¨ì„œë¦¬ì— **ì°¸ì—¬**(ì°¸ê°€, ë¶™ì–´ ìˆë‹¤)í•˜ê³  ìˆëŠ”ê°€?"ë¥¼ ê¸°ë¡í•œ í‘œì´ë‹¤.

### 4.2 ì˜ˆì œ 6: ë¹„ë°©í–¥ ê·¸ë˜í”„ì˜ ê²°í•© í–‰ë ¬ (Rosen ì˜ˆì œ 6)

5ê°œ ê¼­ì§€ì  {vâ‚, vâ‚‚, vâ‚ƒ, vâ‚„, vâ‚…}ê³¼ 6ê°œ ëª¨ì„œë¦¬ {eâ‚, eâ‚‚, eâ‚ƒ, eâ‚„, eâ‚…, eâ‚†}ì„ ê°€ì§„ ê·¸ë˜í”„:

ëª¨ì„œë¦¬ ì—°ê²° ê´€ê³„:
- eâ‚: {vâ‚, vâ‚„} â€” vâ‚ê³¼ vâ‚„ë¥¼ ì—°ê²°
- eâ‚‚: {vâ‚, vâ‚…} â€” vâ‚ê³¼ vâ‚…ë¥¼ ì—°ê²°
- eâ‚ƒ: {vâ‚‚, vâ‚„} â€” vâ‚‚ì™€ vâ‚„ë¥¼ ì—°ê²°
- eâ‚„: {vâ‚‚, vâ‚…} â€” vâ‚‚ì™€ vâ‚…ë¥¼ ì—°ê²°
- eâ‚…: {vâ‚ƒ, vâ‚…} â€” vâ‚ƒê³¼ vâ‚…ë¥¼ ì—°ê²°
- eâ‚†: {vâ‚ƒ, vâ‚‚} â€” vâ‚ƒê³¼ vâ‚‚ë¥¼ ì—°ê²°

ê²°í•© í–‰ë ¬ (5Ã—6):

```
       eâ‚  eâ‚‚  eâ‚ƒ  eâ‚„  eâ‚…  eâ‚†
vâ‚ [   1   1   0   0   0   0  ]
vâ‚‚ [   0   0   1   1   0   1  ]
vâ‚ƒ [   0   0   0   0   1   1  ]
vâ‚„ [   1   0   1   0   0   0  ]
vâ‚… [   0   1   0   1   1   0  ]
```

> **ì½ëŠ” ë²•**: vâ‚ í–‰ì„ ë³´ë©´, eâ‚ê³¼ eâ‚‚ì— 1ì´ ìˆë‹¤. ì´ê²ƒì€ vâ‚ì´ ëª¨ì„œë¦¬ eâ‚ê³¼ eâ‚‚ì— ì°¸ì—¬(ì—°ê²°)í•œë‹¤ëŠ” ëœ»ì´ë‹¤. ê° ì—´(ëª¨ì„œë¦¬)ì—ëŠ” ì •í™•íˆ 2ê°œì˜ 1ì´ ìˆë‹¤ â€” ê° ëª¨ì„œë¦¬ëŠ” ì •í™•íˆ 2ê°œì˜ ëì ì„ ê°–ê¸° ë•Œë¬¸ì´ë‹¤!

```lean
-- ê²°í•© í–‰ë ¬: Fin n â†’ Fin m â†’ â„• (n = ê¼­ì§€ì  ìˆ˜, m = ëª¨ì„œë¦¬ ìˆ˜)

-- ì˜ˆì œ 6ì˜ ê²°í•© í–‰ë ¬
def incMatrix_ex6 : Fin 5 â†’ Fin 6 â†’ â„• := fun i j =>
  match i.val, j.val with
  | 0, 0 => 1 | 0, 1 => 1  -- vâ‚: eâ‚, eâ‚‚ì— ì°¸ì—¬
  | 1, 2 => 1 | 1, 3 => 1 | 1, 5 => 1  -- vâ‚‚: eâ‚ƒ, eâ‚„, eâ‚†ì— ì°¸ì—¬
  | 2, 4 => 1 | 2, 5 => 1  -- vâ‚ƒ: eâ‚…, eâ‚†ì— ì°¸ì—¬
  | 3, 0 => 1 | 3, 2 => 1  -- vâ‚„: eâ‚, eâ‚ƒì— ì°¸ì—¬
  | 4, 1 => 1 | 4, 3 => 1 | 4, 4 => 1  -- vâ‚…: eâ‚‚, eâ‚„, eâ‚…ì— ì°¸ì—¬
  | _, _ => 0

-- ê²°í•© í–‰ë ¬ì˜ í•µì‹¬ ì„±ì§ˆ:
-- ê° ì—´(ëª¨ì„œë¦¬)ì˜ í•© = 2 (ëª¨ì„œë¦¬ëŠ” ì •í™•íˆ 2ê°œì˜ ëì ì„ ê°€ì§)
-- ê° í–‰(ê¼­ì§€ì )ì˜ í•© = ê·¸ ê¼­ì§€ì ì˜ ì°¨ìˆ˜!

-- í–‰ì˜ í•© = ì°¨ìˆ˜
def rowSum (M : Fin n â†’ Fin m â†’ â„•) (i : Fin n) : â„• :=
  Finset.sum Finset.univ (fun j => M i j)

-- ì—´ì˜ í•© = 2 (ë‹¨ìˆœ ê·¸ë˜í”„ì—ì„œ)
def colSum (M : Fin n â†’ Fin m â†’ â„•) (j : Fin m) : â„• :=
  Finset.sum Finset.univ (fun i => M i j)
```

### 4.3 ê²°í•© í–‰ë ¬ì˜ í•µì‹¬ ì„±ì§ˆ

| ì„±ì§ˆ | ì„¤ëª… |
|:---|:---|
| ê° ì—´ì˜ í•© = 2 | ê° ëª¨ì„œë¦¬ëŠ” ì •í™•íˆ 2ê°œì˜ ëì ì„ ê°€ì§„ë‹¤ |
| ê° í–‰ì˜ í•© = deg(v) | ê·¸ ê¼­ì§€ì ì˜ ì°¨ìˆ˜ì™€ ê°™ë‹¤ |
| ë£¨í”„ | ë£¨í”„ëŠ” í•´ë‹¹ ì—´ì˜ í•œ ê¼­ì§€ì  í–‰ì— ì •í™•íˆ 1ê°œì˜ 1ì„ ì¤€ë‹¤ |
| ë‹¤ì¤‘ ëª¨ì„œë¦¬ | ê°™ì€ ë‘ ê¼­ì§€ì ì— ëŒ€í•´ ë™ì¼í•œ íŒ¨í„´ì˜ ì—´ì´ ì—¬ëŸ¬ ê°œ ë‚˜ì˜¨ë‹¤ |

---

## 5. ë™í˜• ê·¸ë˜í”„ (Section 10.3.5)

### 5.1 ë™í˜•ì˜ ì§ê´€

ë•Œë•Œë¡œ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ë‘ ê°œì˜ ë‹¤ë¥¸ ê·¸ë˜í”„ë¥¼ ê·¸ë¦¬ëŠ” ê²ƒì´ ê°€ëŠ¥í•œì§€ ì•Œ í•„ìš”ê°€ ìˆë‹¤. ì¦‰, ê¼­ì§€ì ì— ì£¼ì–´ì§€ëŠ” ì´ë¦„ì„ ê³ ë ¤í•˜ì§€ ì•Šì„ ë•Œ ë‘ ê°œì˜ ê·¸ë˜í”„ëŠ” ê°™ì€ êµ¬ì¡°ë¥¼ ê°–ëŠ”ê°€?

> **ì¼ìƒì  ë¹„ìœ **: ë‘ í•™êµì˜ ì¹œêµ¬ ê´€ê³„ ê·¸ë˜í”„ë¥¼ ë¹„êµí•œë‹¤ê³  í•˜ì. í•™ìƒë“¤ì˜ ì´ë¦„ì€ ë‹¤ë¥´ì§€ë§Œ, "Aí•™êµì—ì„œ ì¹œêµ¬ì¸ ìŒì˜ íŒ¨í„´"ê³¼ "Bí•™êµì—ì„œ ì¹œêµ¬ì¸ ìŒì˜ íŒ¨í„´"ì´ ì™„ì „íˆ ê°™ë‹¤ë©´, ë‘ ê·¸ë˜í”„ëŠ” **ë™í˜•**(isomorphic)ì´ë‹¤.
>
> ë” ì‰½ê²Œ: ê·¸ë˜í”„ë¥¼ ê³ ë¬´ì¤„ë¡œ ë§Œë“¤ì–´ì„œ ê¼­ì§€ì ì˜ ì´ë¦„ì„ ì§€ìš°ë©´, ëª¨ì–‘ì´ ì™„ì „íˆ ê°™ì•„ì§€ëŠ” ê²ƒì´ë‹¤!

### 5.2 ë™í˜•ì˜ ì •ì˜

> **ì •ì˜ 1** (Rosen): ë‹¨ìˆœ ê·¸ë˜í”„ Gâ‚ = (Vâ‚, Eâ‚)ê³¼ Gâ‚‚ = (Vâ‚‚, Eâ‚‚) ì‚¬ì´ì— Vâ‚ì˜ ëª¨ë“  a, bì— ëŒ€í•´ a, bê°€ Gâ‚ì—ì„œ ì¸ì ‘í•˜ë©´ f(a)ì™€ f(b)ë„ Gâ‚‚ì—ì„œ ì¸ì ‘í•˜ê³  ê·¸ ì—­ë„ ì„±ë¦½í•˜ëŠ”, Vâ‚ì—ì„œ Vâ‚‚ë¡œì˜ **ì „ë‹¨ì‚¬ í•¨ìˆ˜**(bijection) fê°€ ì¡´ì¬í•˜ë©´, ë‘ ê·¸ë˜í”„ëŠ” **ë™í˜•**(isomorphic)ì´ë¼ê³  í•œë‹¤. ì´ë•Œ í•¨ìˆ˜ fë¥¼ **ë™í˜•ì‚¬ìƒ**(isomorphism)ì´ë¼ ë¶€ë¥¸ë‹¤.

ì´ê²ƒì„ ì¡°ê±´ë³„ë¡œ ë¶„í•´í•´ë³´ì:

1. **ì „ë‹¨ì‚¬ í•¨ìˆ˜**: fëŠ” ì¼ëŒ€ì¼(ë‹¨ì‚¬) + ìœ„ë¡œ(ì „ì‚¬) í•¨ìˆ˜ì´ë‹¤. ì¦‰, Gâ‚ì˜ ëª¨ë“  ê¼­ì§€ì ì´ Gâ‚‚ì˜ ì •í™•íˆ í•˜ë‚˜ì˜ ê¼­ì§€ì ê³¼ ëŒ€ì‘ëœë‹¤.
2. **ì¸ì ‘ ë³´ì¡´**: Gâ‚ì—ì„œ ì¸ì ‘í•œ ìŒì€ fë¥¼ ì ìš©í•´ë„ Gâ‚‚ì—ì„œ ì¸ì ‘í•˜ë‹¤.
3. **ì—­ë„ ì„±ë¦½**: Gâ‚‚ì—ì„œ f(a)ì™€ f(b)ê°€ ì¸ì ‘í•˜ë©´, Gâ‚ì—ì„œë„ aì™€ bê°€ ì¸ì ‘í•˜ë‹¤ (ì¦‰, ì¸ì ‘í•˜ì§€ ì•Šì€ ìŒë„ ë³´ì¡´ë¨).

```lean
-- Lean 4ì—ì„œ ê·¸ë˜í”„ ë™í˜•ì˜ ì •ì˜
-- Gâ‚ê³¼ Gâ‚‚ê°€ ê°™ì€ íƒ€ì…ì˜ ê¼­ì§€ì ì„ ê°€ì§ˆ ë•Œì˜ ê°„ë‹¨í•œ ì •ì˜

def GraphIso (Gâ‚ Gâ‚‚ : SimpleGraph V) : Prop :=
  âˆƒ f : V â‰ƒ V,  -- fëŠ” Vì—ì„œ Vë¡œì˜ ì „ë‹¨ì‚¬ í•¨ìˆ˜ (ë™ì¹˜, Equiv)
    âˆ€ u v, Gâ‚.Adj u v â†” Gâ‚‚.Adj (f u) (f v)

-- ë” ì¼ë°˜ì ìœ¼ë¡œ: ê¼­ì§€ì  íƒ€ì…ì´ ë‹¤ë¥¼ ë•Œ
def GraphIso' (Gâ‚ : SimpleGraph Vâ‚) (Gâ‚‚ : SimpleGraph Vâ‚‚) : Prop :=
  âˆƒ f : Vâ‚ â‰ƒ Vâ‚‚,
    âˆ€ u v, Gâ‚.Adj u v â†” Gâ‚‚.Adj (f u) (f v)

-- Mathlibì—ì„œëŠ” SimpleGraph.Isoë¡œ ì •ì˜ë˜ì–´ ìˆë‹¤:
-- G â‰ƒg H í‘œê¸°ë²• ì‚¬ìš©
```

### 5.3 ì˜ˆì œ 8: ë™í˜•ì¸ ê·¸ë˜í”„ (Rosen ì˜ˆì œ 8)

G = (V, E)ì™€ H = (W, F)ê°€ ë™í˜•ì„ì„ ë³´ì´ì.

Gì˜ ê¼­ì§€ì : {uâ‚, uâ‚‚, uâ‚ƒ, uâ‚„}  
Hì˜ ê¼­ì§€ì : {vâ‚, vâ‚‚, vâ‚ƒ, vâ‚„}

Gì˜ ì¸ì ‘ ê´€ê³„: uâ‚~uâ‚‚, uâ‚~uâ‚ƒ, uâ‚‚~uâ‚„, uâ‚ƒ~uâ‚„  
Hì˜ ì¸ì ‘ ê´€ê³„: vâ‚~vâ‚‚, vâ‚~vâ‚ƒ, vâ‚‚~vâ‚„, vâ‚ƒ~vâ‚„

ë™í˜•ì‚¬ìƒ f: f(uâ‚) = vâ‚, f(uâ‚‚) = vâ‚„, f(uâ‚ƒ) = vâ‚ƒ, f(uâ‚„) = vâ‚‚

ì´ í•¨ìˆ˜ê°€ ì¸ì ‘ì„±ì„ ë³´ì¡´í•˜ëŠ”ì§€ í™•ì¸:
- uâ‚~uâ‚‚ â†’ f(uâ‚)~f(uâ‚‚) = vâ‚~vâ‚„ âœ“ (Hì—ì„œ ì¸ì ‘)
- uâ‚~uâ‚ƒ â†’ f(uâ‚)~f(uâ‚ƒ) = vâ‚~vâ‚ƒ âœ“
- uâ‚‚~uâ‚„ â†’ f(uâ‚‚)~f(uâ‚„) = vâ‚„~vâ‚‚ âœ“
- uâ‚ƒ~uâ‚„ â†’ f(uâ‚ƒ)~f(uâ‚„) = vâ‚ƒ~vâ‚‚ âœ“

```lean
-- ì˜ˆì œ 8: ë‘ ê·¸ë˜í”„ì˜ ë™í˜• ì¦ëª…

-- ê·¸ë˜í”„ G (4ê°œ ê¼­ì§€ì )
def G_ex8 : SimpleGraph (Fin 4) where
  Adj := fun i j => match i.val, j.val with
    | 0, 1 => True | 1, 0 => True  -- uâ‚~uâ‚‚
    | 0, 2 => True | 2, 0 => True  -- uâ‚~uâ‚ƒ
    | 1, 3 => True | 3, 1 => True  -- uâ‚‚~uâ‚„
    | 2, 3 => True | 3, 2 => True  -- uâ‚ƒ~uâ‚„
    | _, _ => False
  symm := by intros i j h; revert h; fin_cases i <;> fin_cases j <;> simp_all
  loopless := by intro i; fin_cases i <;> simp_all

-- ê·¸ë˜í”„ H (4ê°œ ê¼­ì§€ì , ë‹¤ë¥¸ ì¸ì ‘ íŒ¨í„´)
def H_ex8 : SimpleGraph (Fin 4) where
  Adj := fun i j => match i.val, j.val with
    | 0, 1 => True | 1, 0 => True  -- vâ‚~vâ‚‚
    | 0, 2 => True | 2, 0 => True  -- vâ‚~vâ‚ƒ
    | 1, 3 => True | 3, 1 => True  -- vâ‚‚~vâ‚„
    | 2, 3 => True | 3, 2 => True  -- vâ‚ƒ~vâ‚„
    | _, _ => False
  symm := by intros i j h; revert h; fin_cases i <;> fin_cases j <;> simp_all
  loopless := by intro i; fin_cases i <;> simp_all

-- ì´ ê²½ìš° ë‘ ê·¸ë˜í”„ëŠ” ì‚¬ì‹¤ ë™ì¼í•œ ì¸ì ‘ í–‰ë ¬ì„ ê°€ì§„ë‹¤!
-- ë™í˜•ì‚¬ìƒì€ í•­ë“± í•¨ìˆ˜ë¡œ ì¶©ë¶„í•˜ë‹¤.
-- ë” í¥ë¯¸ë¡œìš´ ê²½ìš°: ê¼­ì§€ì  ë²ˆí˜¸ ë§¤í•‘ì´ ë‹¤ë¥¸ ê²½ìš°
```

### 5.4 ë™í˜•ì´ ì•„ë‹Œ ê·¸ë˜í”„ íŒë³„ â€” ë¶ˆë³€ì„± (Rosen ì˜ˆì œ 9~10)

ë‘ ê·¸ë˜í”„ê°€ ë™í˜•ì´ **ì•„ë‹˜**ì„ ë³´ì´ë ¤ë©´, ë™í˜•ì´ë©´ ë°˜ë“œì‹œ ê°™ì•„ì•¼ í•˜ëŠ” íŠ¹ì„±(**ê·¸ë˜í”„ ë¶ˆë³€ì„±**, graph invariant)ì´ ë‹¤ë¦„ì„ ë³´ì´ë©´ ëœë‹¤.

#### ê·¸ë˜í”„ ë¶ˆë³€ì„±ì˜ ì¢…ë¥˜

ë™í˜•ì¸ ë‘ ê·¸ë˜í”„ëŠ” ë‹¤ìŒì´ **ë°˜ë“œì‹œ** ê°™ë‹¤:

| **ë¶ˆë³€ì„±**(invariant) | ì„¤ëª… |
|:---|:---|
| ê¼­ì§€ì ì˜ ìˆ˜ | \|Vâ‚\| = \|Vâ‚‚\| |
| ëª¨ì„œë¦¬ì˜ ìˆ˜ | \|Eâ‚\| = \|Eâ‚‚\| |
| **ì°¨ìˆ˜ ìˆ˜ì—´**(degree sequence) | ì •ë ¬ëœ ì°¨ìˆ˜ ëª©ë¡ì´ ê°™ì•„ì•¼ í•¨ |
| íŠ¹ì • ê¸¸ì´ì˜ **ë‹¨ìˆœ ìˆœí™˜**(simple cycle) ì¡´ì¬ | ê¸¸ì´ kì¸ ìˆœí™˜ì´ ìˆìœ¼ë©´ ë‹¤ë¥¸ ìª½ì—ë„ ìˆì–´ì•¼ í•¨ |

> **ì£¼ì˜**: ì´ ë¶ˆë³€ì„±ì´ ëª¨ë‘ ê°™ë‹¤ê³  í•´ì„œ ë°˜ë“œì‹œ ë™í˜•ì¸ ê²ƒì€ **ì•„ë‹ˆë‹¤**! ë¶ˆë³€ì„±ì´ ë‹¤ë¥´ë©´ ë¹„ë™í˜•ì´ í™•ì‹¤í•˜ì§€ë§Œ, ê°™ìœ¼ë©´ ì¶”ê°€ í™•ì¸ì´ í•„ìš”í•˜ë‹¤.

```lean
-- ì˜ˆì œ 9: ë™í˜•ì´ ì•„ë‹Œ ê·¸ë˜í”„ (Rosen ì˜ˆì œ 9)
-- G: 5ê°œ ê¼­ì§€ì , 6ê°œ ëª¨ì„œë¦¬
-- H: 5ê°œ ê¼­ì§€ì , 6ê°œ ëª¨ì„œë¦¬, ì°¨ìˆ˜ 1ì¸ ê¼­ì§€ì ì´ ìˆìŒ
-- Gì—ëŠ” ì°¨ìˆ˜ 1ì¸ ê¼­ì§€ì ì´ ì—†ìŒ â†’ ë¹„ë™í˜•!

-- ì°¨ìˆ˜ ìˆ˜ì—´ ë¹„êµë¡œ ë¹„ë™í˜• íŒë³„
-- Gì˜ ì°¨ìˆ˜ ìˆ˜ì—´: [2, 3, 3, 2, 2] (ì •ë ¬: [2, 2, 2, 3, 3])
-- Hì˜ ì°¨ìˆ˜ ìˆ˜ì—´: [1, 2, 3, 3, 3] (ì •ë ¬: [1, 2, 3, 3, 3])
-- ë‹¤ë¥´ë¯€ë¡œ ë¹„ë™í˜•!

-- Lean 4ì—ì„œ ì°¨ìˆ˜ ìˆ˜ì—´ ê³„ì‚°
def degreeSeq (G : SimpleGraph (Fin n)) [DecidableRel G.Adj] : List â„• :=
  (List.ofFn (fun i => Finset.card (Finset.filter (G.Adj i) Finset.univ))).mergeSort (Â· â‰¤ Â·)
```

---

## 6. ë™í˜• í™•ì¸ ë°©ë²•: ì¸ì ‘ í–‰ë ¬ í™œìš© (Rosen ì˜ˆì œ 11)

### 6.1 ì¸ì ‘ í–‰ë ¬ì„ ì´ìš©í•œ ë™í˜• í™•ì¸

ê·¸ë˜í”„ Gì˜ ê¼­ì§€ì  ì§‘í•©ì„ Hì˜ ê¼­ì§€ì  ì§‘í•©ìœ¼ë¡œ ë³´ë‚´ëŠ” í•¨ìˆ˜ fê°€ ë™í˜•í•¨ìˆ˜ì„ì„ ë³´ì´ë ¤ë©´, **Gì˜ ì¸ì ‘ í–‰ë ¬ì˜ í–‰ê³¼ ì—´ì— ì´ë¦„ì„ fë¡œ ë³´ë‚¸ ëŒ€ì‘í•˜ëŠ” ìƒì˜ í–‰ê³¼ ì—´ì„ ë¹„êµí•˜ì—¬** Hì˜ ì¸ì ‘ í–‰ë ¬ê³¼ ê°™ë‹¤ëŠ” ê²ƒì„ ë³´ì—¬ì•¼ í•œë‹¤.

ë” ì‰½ê²Œ ë§í•˜ë©´: Gì˜ ì¸ì ‘ í–‰ë ¬ì—ì„œ í–‰ê³¼ ì—´ì˜ ìˆœì„œë¥¼ fì— ë”°ë¼ ì¬ë°°ì—´í•˜ë©´, Hì˜ ì¸ì ‘ í–‰ë ¬ê³¼ ë˜‘ê°™ì•„ì ¸ì•¼ í•œë‹¤.

### 6.2 ì˜ˆì œ 11: ì¸ì ‘ í–‰ë ¬ë¡œ ë™í˜• í™•ì¸ (Rosen ì˜ˆì œ 11)

G: 6ê°œ ê¼­ì§€ì  {uâ‚, ..., uâ‚†}  
H: 6ê°œ ê¼­ì§€ì  {vâ‚, ..., vâ‚†}

Gì˜ ì¸ì ‘ í–‰ë ¬ A_G:

```
       uâ‚  uâ‚‚  uâ‚ƒ  uâ‚„  uâ‚…  uâ‚†
uâ‚ [    0   1   0   1   0   0  ]
uâ‚‚ [    1   0   1   0   0   1  ]
uâ‚ƒ [    0   1   0   1   0   0  ]
uâ‚„ [    1   0   1   0   1   0  ]
uâ‚… [    0   0   0   1   0   1  ]
uâ‚† [    0   1   0   0   1   0  ]
```

ë™í˜•ì‚¬ìƒ f: f(uâ‚) = vâ‚†, f(uâ‚‚) = vâ‚ƒ, f(uâ‚ƒ) = vâ‚„, f(uâ‚„) = vâ‚…, f(uâ‚…) = vâ‚, f(uâ‚†) = vâ‚‚

Hì˜ ì¸ì ‘ í–‰ë ¬ì„ fì— ëŒ€ì‘í•˜ëŠ” ìˆœì„œ(vâ‚†, vâ‚ƒ, vâ‚„, vâ‚…, vâ‚, vâ‚‚)ë¡œ ì¬ë°°ì—´í•˜ë©´ A_Gì™€ ê°™ì•„ì§„ë‹¤!

A_G = A_H ì´ë¯€ë¡œ fëŠ” ëª¨ì„œë¦¬ë“¤ë„ ë³´ì¡´í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ fëŠ” ë™í˜•ì‚¬ìƒì´ê³  Gì™€ HëŠ” ë™í˜• ê·¸ë˜í”„ì´ë‹¤.

```lean
-- ì¸ì ‘ í–‰ë ¬ ì¬ë°°ì—´ë¡œ ë™í˜• í™•ì¸
-- í•µì‹¬ ì•„ì´ë””ì–´: A_G[i][j] = A_H[f(i)][f(j)]ì´ë©´ ë™í˜•

-- ë™í˜•ì‚¬ìƒ í™•ì¸ í•¨ìˆ˜
def checkIso (A_G A_H : Fin n â†’ Fin n â†’ â„•) (f : Fin n â†’ Fin n) : Bool :=
  (Finset.univ.product Finset.univ).forall
    (fun p => A_G p.1 p.2 == A_H (f p.1) (f p.2))

-- ì •ë¦¬: A_G = fë¡œ ì¬ë°°ì—´í•œ A_Hì´ë©´ ë™í˜•
theorem iso_iff_matrix_eq (G H : SimpleGraph (Fin n))
    [DecidableRel G.Adj] [DecidableRel H.Adj]
    (f : Fin n â‰ƒ Fin n)
    (h : âˆ€ i j, G.Adj i j â†” H.Adj (f i) (f j)) :
    GraphIso' G H := by
  exact âŸ¨f, hâŸ©
```

---

## 7. ì—°ìŠµë¬¸ì œ

### ì—°ìŠµ 7.1: ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ ì‘ì„± (skeleton â€” ê´„í˜¸ ì±„ìš°ê¸°)

**ë¬¸ì œ**: ë‹¤ìŒ ë‹¨ìˆœ ê·¸ë˜í”„ì˜ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ë¥¼ Lean 4ë¡œ ì‘ì„±í•˜ë¼. ê¼­ì§€ì  {0, 1, 2, 3}ì— ëŒ€í•´ ëª¨ì„œë¦¬ëŠ” {0,1}, {0,2}, {1,2}, {2,3}ì´ë‹¤.

```lean
def adjList_ex1 : Fin 4 â†’ List (Fin 4)
  | âŸ¨0, _âŸ© => [âŸ¨ã€â‘ ã€‘, by omegaâŸ©, âŸ¨ã€â‘¡ã€‘, by omegaâŸ©]   -- 0ì˜ ì´ì›ƒ
  | âŸ¨1, _âŸ© => [âŸ¨ã€â‘¢ã€‘, by omegaâŸ©, âŸ¨ã€â‘£ã€‘, by omegaâŸ©]   -- 1ì˜ ì´ì›ƒ
  | âŸ¨2, _âŸ© => [âŸ¨0, by omegaâŸ©, âŸ¨1, by omegaâŸ©, âŸ¨ã€â‘¤ã€‘, by omegaâŸ©]  -- 2ì˜ ì´ì›ƒ
  | âŸ¨3, _âŸ© => [âŸ¨ã€â‘¥ã€‘, by omegaâŸ©]  -- 3ì˜ ì´ì›ƒ
```

<details>
<summary>ğŸ“ ë‹µ ë³´ê¸°</summary>

```lean
def adjList_ex1 : Fin 4 â†’ List (Fin 4)
  | âŸ¨0, _âŸ© => [âŸ¨1, by omegaâŸ©, âŸ¨2, by omegaâŸ©]     -- â‘ =1, â‘¡=2
  | âŸ¨1, _âŸ© => [âŸ¨0, by omegaâŸ©, âŸ¨2, by omegaâŸ©]     -- â‘¢=0, â‘£=2
  | âŸ¨2, _âŸ© => [âŸ¨0, by omegaâŸ©, âŸ¨1, by omegaâŸ©, âŸ¨3, by omegaâŸ©]  -- â‘¤=3
  | âŸ¨3, _âŸ© => [âŸ¨2, by omegaâŸ©]                      -- â‘¥=2
```

**ì„¤ëª…**: ëª¨ì„œë¦¬ {0,1}ì´ ìˆìœ¼ë¯€ë¡œ 0ì˜ ì´ì›ƒì— 1ì´, 1ì˜ ì´ì›ƒì— 0ì´ í¬í•¨ëœë‹¤ (ë¹„ë°©í–¥ì´ë‹ˆê¹Œ!). ëª¨ì„œë¦¬ {2,3}ì´ ìˆìœ¼ë¯€ë¡œ 2ì˜ ì´ì›ƒì— 3ì´, 3ì˜ ì´ì›ƒì— 2ê°€ í¬í•¨ëœë‹¤.
</details>

---

### ì—°ìŠµ 7.2: ì¸ì ‘ í–‰ë ¬ ì‘ì„± (skeleton â€” ê´„í˜¸ ì±„ìš°ê¸°)

**ë¬¸ì œ**: ê¼­ì§€ì  {0, 1, 2}ì— ëŒ€í•´ ëª¨ì„œë¦¬ê°€ {0,1}, {1,2}ì¸ **ê²½ë¡œ ê·¸ë˜í”„**(path graph) Pâ‚ƒì˜ ì¸ì ‘ í–‰ë ¬ì„ ì™„ì„±í•˜ë¼.

```lean
def adjMatrix_P3 : Fin 3 â†’ Fin 3 â†’ â„• := fun i j =>
  match i.val, j.val with
  | 0, 0 => ã€â‘ ã€‘  -- 0ê³¼ 0: ë£¨í”„?
  | 0, 1 => ã€â‘¡ã€‘  -- 0ê³¼ 1: ì¸ì ‘?
  | 0, 2 => ã€â‘¢ã€‘  -- 0ê³¼ 2: ì¸ì ‘?
  | 1, 0 => ã€â‘£ã€‘  -- 1ê³¼ 0: ì¸ì ‘?
  | 1, 1 => ã€â‘¤ã€‘  -- 1ê³¼ 1: ë£¨í”„?
  | 1, 2 => ã€â‘¥ã€‘  -- 1ê³¼ 2: ì¸ì ‘?
  | 2, 0 => ã€â‘¦ã€‘  -- 2ê³¼ 0: ì¸ì ‘?
  | 2, 1 => ã€â‘§ã€‘  -- 2ê³¼ 1: ì¸ì ‘?
  | 2, 2 => ã€â‘¨ã€‘  -- 2ê³¼ 2: ë£¨í”„?
  | _, _ => 0
```

<details>
<summary>ğŸ“ ë‹µ ë³´ê¸°</summary>

```lean
def adjMatrix_P3 : Fin 3 â†’ Fin 3 â†’ â„• := fun i j =>
  match i.val, j.val with
  | 0, 0 => 0  -- â‘ =0 (ë£¨í”„ ì—†ìŒ)
  | 0, 1 => 1  -- â‘¡=1 (0~1 ì¸ì ‘!)
  | 0, 2 => 0  -- â‘¢=0 (0~2 ë¹„ì¸ì ‘)
  | 1, 0 => 1  -- â‘£=1 (ëŒ€ì¹­!)
  | 1, 1 => 0  -- â‘¤=0 (ë£¨í”„ ì—†ìŒ)
  | 1, 2 => 1  -- â‘¥=1 (1~2 ì¸ì ‘!)
  | 2, 0 => 0  -- â‘¦=0 (ëŒ€ì¹­!)
  | 2, 1 => 1  -- â‘§=1 (ëŒ€ì¹­!)
  | 2, 2 => 0  -- â‘¨=0 (ë£¨í”„ ì—†ìŒ)
  | _, _ => 0
```

**í–‰ë ¬ í˜•íƒœ**:
```
    0  1  2
0 [ 0  1  0 ]
1 [ 1  0  1 ]
2 [ 0  1  0 ]
```

**í¬ì¸íŠ¸**: ëŒ€ê°ì„ ì€ ëª¨ë‘ 0 (ë£¨í”„ ì—†ìŒ). í–‰ë ¬ì´ ëŒ€ì¹­ì  (ë‹¨ìˆœ ê·¸ë˜í”„ì´ë¯€ë¡œ).
</details>

---

### ì—°ìŠµ 7.3: ì¸ì ‘ í–‰ë ¬ì˜ ëŒ€ì¹­ì„± ì¦ëª… (skeleton)

**ë¬¸ì œ**: ë‹¤ìŒ ì¸ì ‘ í–‰ë ¬ì´ ëŒ€ì¹­ì ì„ì„ ì¦ëª…í•˜ë¼.

```lean
-- ì •ì˜
def myAdj : Fin 3 â†’ Fin 3 â†’ â„• := fun i j =>
  match i.val, j.val with
  | 0, 1 => 1 | 1, 0 => 1
  | 1, 2 => 1 | 2, 1 => 1
  | _, _ => 0

-- ì¦ëª…
theorem myAdj_symm : âˆ€ (i j : Fin 3), myAdj i j = myAdj j i := by
  intro i j
  ã€ë¹ˆì¹¸ã€‘
```

<details>
<summary>ğŸ“ ë‹µ ë³´ê¸°</summary>

```lean
theorem myAdj_symm : âˆ€ (i j : Fin 3), myAdj i j = myAdj j i := by
  intro i j
  fin_cases i <;> fin_cases j <;> simp [myAdj]
```

**ì„¤ëª…**: `fin_cases`ëŠ” `Fin 3`ì˜ ëª¨ë“  ê°€ëŠ¥í•œ ê°’ (0, 1, 2)ì„ ë‚˜ì—´í•œë‹¤. `<;>`ëŠ” ëª¨ë“  ê²½ìš°ì— ê°™ì€ ì „ìˆ ì„ ì ìš©í•œë‹¤. `simp [myAdj]`ëŠ” `myAdj`ì˜ ì •ì˜ë¥¼ í¼ì³ì„œ ìë™ìœ¼ë¡œ ì¦ëª…í•œë‹¤.

ì´ ë°©ë²•ì´ í†µí•˜ëŠ” ì´ìœ : `Fin 3`ì€ ìœ í•œ íƒ€ì…ì´ë¯€ë¡œ ëª¨ë“  (i, j) ìŒì„ ë‚˜ì—´í•˜ë©´ 9ê°€ì§€ë¿ì´ë‹¤. ê° ê²½ìš°ë¥¼ ê³„ì‚°ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤!
</details>

---

### ì—°ìŠµ 7.4: ê²°í•© í–‰ë ¬ ì‘ì„± (skeleton)

**ë¬¸ì œ**: 3ê°œ ê¼­ì§€ì  {vâ‚€, vâ‚, vâ‚‚}ê³¼ 2ê°œ ëª¨ì„œë¦¬ {eâ‚€ = {vâ‚€, vâ‚}, eâ‚ = {vâ‚, vâ‚‚}}ë¥¼ ê°€ì§„ ê²½ë¡œ ê·¸ë˜í”„ì˜ ê²°í•© í–‰ë ¬ì„ ì‘ì„±í•˜ë¼.

```lean
def incMatrix_path : Fin 3 â†’ Fin 2 â†’ â„• := fun i j =>
  match i.val, j.val with
  | 0, 0 => ã€â‘ ã€‘  -- vâ‚€ì€ eâ‚€ì— ì°¸ì—¬í•˜ëŠ”ê°€?
  | 0, 1 => ã€â‘¡ã€‘  -- vâ‚€ì€ eâ‚ì— ì°¸ì—¬í•˜ëŠ”ê°€?
  | 1, 0 => ã€â‘¢ã€‘  -- vâ‚ì€ eâ‚€ì— ì°¸ì—¬í•˜ëŠ”ê°€?
  | 1, 1 => ã€â‘£ã€‘  -- vâ‚ì€ eâ‚ì— ì°¸ì—¬í•˜ëŠ”ê°€?
  | 2, 0 => ã€â‘¤ã€‘  -- vâ‚‚ëŠ” eâ‚€ì— ì°¸ì—¬í•˜ëŠ”ê°€?
  | 2, 1 => ã€â‘¥ã€‘  -- vâ‚‚ëŠ” eâ‚ì— ì°¸ì—¬í•˜ëŠ”ê°€?
  | _, _ => 0
```

<details>
<summary>ğŸ“ ë‹µ ë³´ê¸°</summary>

```lean
def incMatrix_path : Fin 3 â†’ Fin 2 â†’ â„• := fun i j =>
  match i.val, j.val with
  | 0, 0 => 1  -- â‘ =1: vâ‚€ì€ eâ‚€={vâ‚€,vâ‚}ì— ì°¸ì—¬ âœ“
  | 0, 1 => 0  -- â‘¡=0: vâ‚€ì€ eâ‚={vâ‚,vâ‚‚}ì— ì°¸ì—¬ âœ—
  | 1, 0 => 1  -- â‘¢=1: vâ‚ì€ eâ‚€={vâ‚€,vâ‚}ì— ì°¸ì—¬ âœ“
  | 1, 1 => 1  -- â‘£=1: vâ‚ì€ eâ‚={vâ‚,vâ‚‚}ì— ì°¸ì—¬ âœ“
  | 2, 0 => 0  -- â‘¤=0: vâ‚‚ëŠ” eâ‚€={vâ‚€,vâ‚}ì— ì°¸ì—¬ âœ—
  | 2, 1 => 1  -- â‘¥=1: vâ‚‚ëŠ” eâ‚={vâ‚,vâ‚‚}ì— ì°¸ì—¬ âœ“
  | _, _ => 0
```

**í–‰ë ¬ í˜•íƒœ**:
```
       eâ‚€  eâ‚
vâ‚€ [   1   0  ]
vâ‚ [   1   1  ]
vâ‚‚ [   0   1  ]
```

**í™•ì¸**: ê° ì—´ì˜ í•© = 2 âœ“ (ëª¨ì„œë¦¬ë§ˆë‹¤ ëì  2ê°œ). vâ‚ì˜ í–‰ í•© = 2 = deg(vâ‚) âœ“ (vâ‚ì˜ ì°¨ìˆ˜ê°€ 2).
</details>

---

### ì—°ìŠµ 7.5: ì°¨ìˆ˜ ìˆ˜ì—´ë¡œ ë¹„ë™í˜• íŒë³„ (sorry)

**ë¬¸ì œ**: ë‹¤ìŒ ë‘ ê·¸ë˜í”„ê°€ ë™í˜•ì´ ì•„ë‹˜ì„ ì°¨ìˆ˜ ìˆ˜ì—´ì„ ë¹„êµí•˜ì—¬ ë³´ì—¬ë¼.

```lean
-- ê·¸ë˜í”„ G1: Kâ‚ƒ (ì™„ì „ ê·¸ë˜í”„ â€” 3ê°œ ê¼­ì§€ì  ëª¨ë‘ ì—°ê²°)
def G1_noiso : SimpleGraph (Fin 3) where
  Adj i j := i â‰  j
  symm := by intro i j h; exact Ne.symm h
  loopless := by intro i; exact absurd rfl

-- ê·¸ë˜í”„ G2: Pâ‚ƒ (ê²½ë¡œ ê·¸ë˜í”„ â€” 0~1~2)
def G2_noiso : SimpleGraph (Fin 3) where
  Adj := fun i j => match i.val, j.val with
    | 0, 1 => True | 1, 0 => True
    | 1, 2 => True | 2, 1 => True
    | _, _ => False
  symm := by intros i j h; revert h; fin_cases i <;> fin_cases j <;> simp_all
  loopless := by intro i; fin_cases i <;> simp_all

-- ì°¨ìˆ˜ ìˆ˜ì—´ ë¹„êµ:
-- G1ì˜ ì°¨ìˆ˜ ìˆ˜ì—´: [2, 2, 2] (ëª¨ë“  ê¼­ì§€ì ì˜ ì°¨ìˆ˜ê°€ 2)
-- G2ì˜ ì°¨ìˆ˜ ìˆ˜ì—´: [1, 2, 1] (ì •ë ¬: [1, 1, 2])
-- ë‹¤ë¥´ë¯€ë¡œ ë¹„ë™í˜•!

theorem G1_G2_not_iso : Â¬ GraphIso' G1_noiso G2_noiso := by
  sorry
```

<details>
<summary>ğŸ“ ë‹µ ë³´ê¸°</summary>

```lean
theorem G1_G2_not_iso : Â¬ GraphIso' G1_noiso G2_noiso := by
  intro âŸ¨f, hfâŸ©
  -- G1ì—ì„œ ê¼­ì§€ì  0ì˜ ì°¨ìˆ˜ = 2 (0~1, 0~2)
  -- G2ì—ì„œ f(0)ì˜ ì°¨ìˆ˜ë„ 2ì—¬ì•¼ í•¨
  -- G2ì—ì„œ ì°¨ìˆ˜ê°€ 2ì¸ ê¼­ì§€ì ì€ 1ë¿
  -- ë”°ë¼ì„œ f(0) = 1
  -- G1ì—ì„œ ê¼­ì§€ì  1ì˜ ì°¨ìˆ˜ = 2 (1~0, 1~2)
  -- G2ì—ì„œ f(1)ì˜ ì°¨ìˆ˜ë„ 2ì—¬ì•¼ í•¨
  -- G2ì—ì„œ ì°¨ìˆ˜ê°€ 2ì¸ ê¼­ì§€ì ì€ 1ë¿ì¸ë° ì´ë¯¸ f(0) = 1
  -- fëŠ” ì „ë‹¨ì‚¬ì´ë¯€ë¡œ f(1) â‰  f(0) = 1 â€” ëª¨ìˆœ!
  have h0 : G1_noiso.Adj 0 1 := by simp [G1_noiso]
  have h1 : G2_noiso.Adj (f 0) (f 1) := (hf 0 1).mp h0
  have h2 : G1_noiso.Adj 0 2 := by simp [G1_noiso]
  have h3 : G2_noiso.Adj (f 0) (f 2) := (hf 0 2).mp h2
  have h4 : G1_noiso.Adj 1 2 := by simp [G1_noiso]
  have h5 : G2_noiso.Adj (f 1) (f 2) := (hf 1 2).mp h4
  -- G2ì—ì„œ ê° ê¼­ì§€ì ì˜ ì¸ì ‘ ê¼­ì§€ì  ìˆ˜ í™•ì¸ í›„ ëª¨ìˆœ ë„ì¶œ
  fin_cases (f 0) <;> fin_cases (f 1) <;> fin_cases (f 2) <;>
    simp_all [G2_noiso, G1_noiso]
```

**í•µì‹¬ ì „ëµ**: G1(ì™„ì „ ê·¸ë˜í”„)ì—ì„œëŠ” ëª¨ë“  ê¼­ì§€ì ì˜ ì°¨ìˆ˜ê°€ 2ì´ë‹¤. G2(ê²½ë¡œ ê·¸ë˜í”„)ì—ì„œëŠ” ì°¨ìˆ˜ 2ì¸ ê¼­ì§€ì ì´ í•˜ë‚˜ë¿(ê¼­ì§€ì  1)ì´ë‹¤. ì „ë‹¨ì‚¬ í•¨ìˆ˜ fê°€ ì°¨ìˆ˜ë¥¼ ë³´ì¡´í•´ì•¼ í•˜ë¯€ë¡œ 3ê°œì˜ ê¼­ì§€ì ì„ ëª¨ë‘ ì°¨ìˆ˜ 2ì¸ ê³³ìœ¼ë¡œ ë³´ë‚´ì•¼ í•˜ëŠ”ë°, ê·¸ëŸ° ê³³ì´ í•˜ë‚˜ë°–ì— ì—†ìœ¼ë¯€ë¡œ ëª¨ìˆœì´ë‹¤!
</details>

---

### ì—°ìŠµ 7.6: ë™í˜•ì¸ ê·¸ë˜í”„ ì¦ëª… (sorry)

**ë¬¸ì œ**: ë‹¤ìŒ ë‘ ê·¸ë˜í”„ê°€ ë™í˜•ì„ì„ ë³´ì—¬ë¼.

```lean
-- G: ì‚¬ê°í˜• 0~1~2~3~0
def G_square : SimpleGraph (Fin 4) where
  Adj := fun i j => match i.val, j.val with
    | 0, 1 => True | 1, 0 => True
    | 1, 2 => True | 2, 1 => True
    | 2, 3 => True | 3, 2 => True
    | 3, 0 => True | 0, 3 => True
    | _, _ => False
  symm := by intros i j h; revert h; fin_cases i <;> fin_cases j <;> simp_all
  loopless := by intro i; fin_cases i <;> simp_all

-- H: ì‚¬ê°í˜• 0~2~1~3~0 (ë‹¤ë¥¸ ë²ˆí˜¸ ë§¤í•‘)
def H_square : SimpleGraph (Fin 4) where
  Adj := fun i j => match i.val, j.val with
    | 0, 2 => True | 2, 0 => True
    | 2, 1 => True | 1, 2 => True
    | 1, 3 => True | 3, 1 => True
    | 3, 0 => True | 0, 3 => True
    | _, _ => False
  symm := by intros i j h; revert h; fin_cases i <;> fin_cases j <;> simp_all
  loopless := by intro i; fin_cases i <;> simp_all

-- ë™í˜•ì‚¬ìƒ f: 0â†¦0, 1â†¦2, 2â†¦1, 3â†¦3
theorem square_iso : GraphIso' G_square H_square := by
  sorry
```

<details>
<summary>ğŸ“ ë‹µ ë³´ê¸°</summary>

```lean
-- ë™í˜•ì‚¬ìƒ ì •ì˜
def f_square : Fin 4 â‰ƒ Fin 4 where
  toFun := fun i => match i.val with
    | 0 => âŸ¨0, by omegaâŸ©
    | 1 => âŸ¨2, by omegaâŸ©
    | 2 => âŸ¨1, by omegaâŸ©
    | 3 => âŸ¨3, by omegaâŸ©
    | _ => i  -- ë„ë‹¬ ë¶ˆê°€
  invFun := fun i => match i.val with
    | 0 => âŸ¨0, by omegaâŸ©
    | 1 => âŸ¨2, by omegaâŸ©
    | 2 => âŸ¨1, by omegaâŸ©
    | 3 => âŸ¨3, by omegaâŸ©
    | _ => i
  left_inv := by intro i; fin_cases i <;> rfl
  right_inv := by intro i; fin_cases i <;> rfl

theorem square_iso : GraphIso' G_square H_square := by
  exact âŸ¨f_square, by
    intro i j
    fin_cases i <;> fin_cases j <;> simp [G_square, H_square, f_square]âŸ©
```

**ì„¤ëª…**: f(0)=0, f(1)=2, f(2)=1, f(3)=3ìœ¼ë¡œ ë§¤í•‘í•œë‹¤. `Equiv`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì—­í•¨ìˆ˜ì™€ ì–‘ë°©í–¥ ì—­ê´€ê³„ë¥¼ ì¦ëª…í•œë‹¤. ê·¸ ë‹¤ìŒ `fin_cases`ë¡œ ëª¨ë“  (i, j) ìŒì— ëŒ€í•´ ì¸ì ‘ì„±ì´ ë³´ì¡´ë¨ì„ í™•ì¸í•œë‹¤.
</details>

---

## 8. í•µì‹¬ ìš”ì•½

1. **ì¸ì ‘ ë¦¬ìŠ¤íŠ¸**(adjacency list)ëŠ” ê° ê¼­ì§€ì ë§ˆë‹¤ ì´ì›ƒ ëª©ë¡ì„ ì €ì¥í•œë‹¤. Lean 4ì—ì„œ `V â†’ List V` íƒ€ì….
2. **ì¸ì ‘ í–‰ë ¬**(adjacency matrix)ì€ nÃ—n í–‰ë ¬ë¡œ, (i,j)í•­ì´ 1ì´ë©´ ì¸ì ‘, 0ì´ë©´ ë¹„ì¸ì ‘ì´ë‹¤. Lean 4ì—ì„œ `Fin n â†’ Fin n â†’ â„•`.
3. **ê²°í•© í–‰ë ¬**(incidence matrix)ì€ nÃ—m í–‰ë ¬ë¡œ, (i,j)í•­ì´ 1ì´ë©´ ê¼­ì§€ì  iê°€ ëª¨ì„œë¦¬ jì— ì°¸ì—¬í•œë‹¤. Lean 4ì—ì„œ `Fin n â†’ Fin m â†’ â„•`.
4. **í¬ë°•í•œ**(sparse) ê·¸ë˜í”„ì—ëŠ” ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ê°€, **ì´˜ì´˜í•œ**(dense) ê·¸ë˜í”„ì—ëŠ” ì¸ì ‘ í–‰ë ¬ì´ ìœ ë¦¬í•˜ë‹¤.
5. ë‹¨ìˆœ ê·¸ë˜í”„ì˜ ì¸ì ‘ í–‰ë ¬ì€ **ëŒ€ì¹­ì **ì´ê³  **ëŒ€ê°ì„ ì´ 0**ì´ë‹¤.
6. ë‘ ê·¸ë˜í”„ê°€ **ë™í˜•**(isomorphic)ì´ë€ ì¸ì ‘ì„±ì„ ë³´ì¡´í•˜ëŠ” **ì „ë‹¨ì‚¬ í•¨ìˆ˜**(bijection)ê°€ ì¡´ì¬í•œë‹¤ëŠ” ëœ»ì´ë‹¤.
7. **ê·¸ë˜í”„ ë¶ˆë³€ì„±**(invariant) â€” ê¼­ì§€ì  ìˆ˜, ëª¨ì„œë¦¬ ìˆ˜, **ì°¨ìˆ˜ ìˆ˜ì—´**(degree sequence) â€” ì´ ë‹¤ë¥´ë©´ ë¹„ë™í˜•ì´ë‹¤.
8. Lean 4ì—ì„œ ë™í˜•ì€ `Equiv`(ì „ë‹¨ì‚¬) + `âˆ€ u v, G.Adj u v â†” H.Adj (f u) (f v)`ë¡œ ì •ì˜í•œë‹¤.
9. `fin_cases` ì „ìˆ ë¡œ ìœ í•œ ê·¸ë˜í”„ì˜ ëª¨ë“  ê²½ìš°ë¥¼ ë‚˜ì—´í•˜ì—¬ ì¦ëª…í•  ìˆ˜ ìˆë‹¤.

---

## 9. ì‚¬ìš©ëœ Lean 4 ì „ìˆ  ì •ë¦¬

| ì „ìˆ /í‚¤ì›Œë“œ | ìš©ë„ | ì˜ˆì‹œ |
|:---|:---|:---|
| `Equiv` | ì „ë‹¨ì‚¬ í•¨ìˆ˜ ì •ì˜ | `f : Fin n â‰ƒ Fin n` |
| `Equiv.toFun` / `invFun` | ì •ë°©í–¥/ì—­ë°©í–¥ í•¨ìˆ˜ | `f.toFun x`, `f.invFun y` |
| `left_inv` / `right_inv` | ì—­í•¨ìˆ˜ ê´€ê³„ ì¦ëª… | `f.left_inv : âˆ€ x, f.invFun (f x) = x` |
| `fin_cases` | `Fin n`ì˜ ëª¨ë“  ê°’ ë‚˜ì—´ | `fin_cases i <;> fin_cases j` |
| `simp_all` | ëª¨ë“  ê°€ì„¤ë¡œ ë‹¨ìˆœí™” | ìë™ ì¦ëª…ì— ìœ ìš© |
| `Finset.filter` | ì¡°ê±´ì— ë§ëŠ” ì›ì†Œ í•„í„°ë§ | ì°¨ìˆ˜ ê³„ì‚°ì— ì‚¬ìš© |
| `List.contains` | ë¦¬ìŠ¤íŠ¸ ë©¤ë²„ì‹­ í™•ì¸ | ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ íƒìƒ‰ |
| `mergeSort` | ë¦¬ìŠ¤íŠ¸ ì •ë ¬ | ì°¨ìˆ˜ ìˆ˜ì—´ ë¹„êµ |

---

> **ë‹¤ìŒ íŒŒíŠ¸ ì˜ˆê³ **: Part 13-Fì—ì„œëŠ” **ì—°ê²°ì„±**(connectivity, Section 10.4)ì„ ë‹¤ë£¬ë‹¤. **ê²½ë¡œ**(path), **ìˆœí™˜**(cycle), **ì—°ê²° ê·¸ë˜í”„**(connected graph), **ì—°ê²° ìš”ì†Œ**(connected component), **ì ˆë‹¨ ê¼­ì§€ì **(cut vertex), **ì ˆë‹¨ ëª¨ì„œë¦¬**(bridge), ê·¸ë¦¬ê³  ë°©í–¥ì„± ê·¸ë˜í”„ì˜ **ê°•í•œ ì—°ê²°**(strongly connected)ê³¼ **ì•½í•œ ì—°ê²°**(weakly connected)ì„ ë°°ìš´ë‹¤!
