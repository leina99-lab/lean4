# Lean4 ì™„ì „ ì •ë³µ ê°€ì´ë“œ â€” ì œ8-Aí¸

## **ìˆ˜í•™ì  ê·€ë‚©ë²•**(Mathematical Induction) â€” ì›ë¦¬ì™€ ê¸°ì´ˆ ì™„ì „ ì •ë³µ

> **êµì¬**: Kenneth H. Rosen, "Discrete Mathematics and Its Applications" 8íŒ, 5.1ì ˆ  
> **ì°¸ê³ **: ã€Mathematics in Leanã€ Chapter 5.2 (Induction and Recursion), Chapter 5.4 (More Induction)  
> **ì„ ìˆ˜ í•™ìŠµ**: ì œ7í¸ê¹Œì§€ì˜ ë‚´ìš© (ê¸°ë³¸ ì „ìˆ , ì •ìˆ˜ë¡  ê¸°ì´ˆ)

---

## 8A.0 ì´ ì¥ì˜ ëª©í‘œ

ì´ ì¥ì—ì„œ ë°°ìš¸ ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ë‹¤:

1. **ìˆ˜í•™ì  ê·€ë‚©ë²•**(mathematical induction)ì´ë€ ë¬´ì—‡ì¸ê°€ â€” ì‚¬ë‹¤ë¦¬ ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°
2. Lean4ì—ì„œ **ê·€ë‚©ë²•**ìœ¼ë¡œ ì¦ëª…í•˜ëŠ” ë°©ë²• â€” `induction` ì „ìˆ ì˜ ì‚¬ìš©ë²•
3. **ê¸°ë³¸ ë‹¨ê³„**(basis step)ì™€ **ê·€ë‚©ì  ë‹¨ê³„**(inductive step)ì˜ ì˜ë¯¸
4. **ê·€ë‚©ì  ê°€ì„¤**(inductive hypothesis)ì´ë€ ë¬´ì—‡ì´ë©° ì–´ë–»ê²Œ í™œìš©í•˜ëŠ”ê°€
5. **ì‘ì€ ì •ë¦¬**(lemma)ì™€ **í° ì •ë¦¬**(theorem)ì˜ ê´€ê³„ â€” í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ë²•
6. **ì¡°ê±´ë¬¸** `â†’`(if)ê³¼ **ìŒì¡°ê±´ë¬¸** `â†”`(if and only if)ì˜ ì°¨ì´ â€” ê·€ë‚©ë²• ì•ˆì—ì„œì˜ í™œìš©
7. **ì¹˜í™˜/ëŒ€ì…**(substitution = rewrite) â€” ê·€ë‚©ì  ê°€ì„¤ì„ "ë¼ì›Œë„£ëŠ”" ë°©ë²•
8. êµì¬ ì˜ˆì œ 1~4ë¥¼ Lean4ë¡œ í’€ê¸° (í•©ì˜ ê³µì‹)

---

## 8A.1 **ìˆ˜í•™ì  ê·€ë‚©ë²•**(Mathematical Induction)ì´ë€?

### 8A.1.1 ì™œ ê·€ë‚©ë²•ì´ í•„ìš”í•œê°€?

ìˆ˜í•™ì—ëŠ” "**ëª¨ë“ ** ì–‘ì˜ ì •ìˆ˜ nì— ëŒ€í•´ P(n)ì´ ì°¸ì´ë‹¤"ë¼ëŠ” í˜•íƒœì˜ ì£¼ì¥ì´ ë§¤ìš° ë§ë‹¤. ì˜ˆë¥¼ ë“¤ë©´:

- "ëª¨ë“  ì–‘ì˜ ì •ìˆ˜ nì— ëŒ€í•˜ì—¬ n! â‰¤ nâ¿ì´ë‹¤" (n=1ì¼ ë•Œ: 1! â‰¤ 1Â¹ âœ“, n=2: 2! â‰¤ 2Â² âœ“, ...)
- "ëª¨ë“  ì–‘ì˜ ì •ìˆ˜ nì— ëŒ€í•˜ì—¬ 1 + 2 + ... + n = n(n+1)/2ì´ë‹¤"
- "nê°œì˜ ì›ì†Œë¥¼ ê°–ëŠ” ì§‘í•©ì€ 2â¿ê°œì˜ ë¶€ë¶„ì§‘í•©ì„ ê°–ëŠ”ë‹¤"

ì´ëŸ° ì£¼ì¥ì„ ì–´ë–»ê²Œ ì¦ëª…í•  ìˆ˜ ìˆì„ê¹Œ? n = 1, 2, 3, 4, ... ë¥¼ í•˜ë‚˜ì”© ëŒ€ì…í•´ì„œ í™•ì¸í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ì–‘ì˜ ì •ìˆ˜ëŠ” **ë¬´í•œíˆ** ë§ê¸° ë•Œë¬¸ì´ë‹¤. n = 1ë¶€í„° n = 1000ê¹Œì§€ í™•ì¸í–ˆë‹¤ê³  í•´ì„œ, n = 1001ì—ì„œë„ ì°¸ì´ë¼ëŠ” ë³´ì¥ì€ ì—†ë‹¤.

ë°”ë¡œ ì´ëŸ° ìƒí™©ì—ì„œ **ìˆ˜í•™ì  ê·€ë‚©ë²•**(mathematical induction)ì´ í•„ìš”í•˜ë‹¤. ê·€ë‚©ë²•ì€ **ë¬´í•œíˆ ë§ì€ ê²½ìš°ë¥¼ ìœ í•œí•œ ë‹¨ê³„ë¡œ ì¦ëª…**í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê°•ë ¥í•œ ë„êµ¬ì´ë‹¤.

### 8A.1.2 ì‚¬ë‹¤ë¦¬ ë¹„ìœ  â€” êµì¬ì˜ í•µì‹¬ ì•„ì´ë””ì–´

êµì¬(Rosen 5.1ì ˆ)ëŠ” ì•„ì£¼ ì¢‹ì€ ë¹„ìœ ë¥¼ ì œì‹œí•œë‹¤. **ë¬´í•œê°œì˜ ê³„ë‹¨ì„ ê°€ì§„ ì‚¬ë‹¤ë¦¬**ë¥¼ ìƒê°í•´ ë³´ì.

ìš°ë¦¬ê°€ ì´ ì‚¬ë‹¤ë¦¬ì˜ **ëª¨ë“  ê³„ë‹¨**ì— ë„ë‹¬í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì¦ëª…í•˜ë ¤ë©´, ë‹¤ìŒ **ë‘ ê°€ì§€**ë§Œ ì•Œë©´ ëœë‹¤:

> **ì‚¬ì‹¤ 1**: ìš°ë¦¬ëŠ” ì‚¬ë‹¤ë¦¬ì˜ **ë§¨ ì•„ë˜ ê³„ë‹¨**ì— ë‹¿ì„ ìˆ˜ ìˆë‹¤.  
> **ì‚¬ì‹¤ 2**: ë§Œì•½ ìš°ë¦¬ê°€ ì‚¬ë‹¤ë¦¬ì˜ **ì–´ë–¤ ê³„ë‹¨ì— ë„ë‹¬í–ˆë‹¤ë©´**, ê·¸ **ë‹¤ìŒ ê³„ë‹¨ì—ë„** ë‹¿ì„ ìˆ˜ ìˆë‹¤.

ì´ ë‘ ê°€ì§€ê°€ ì°¸ì´ë©´:
- (1)ì— ì˜í•˜ì—¬ ì²« ë²ˆì§¸ ê³„ë‹¨ì— ë‹¿ì„ ìˆ˜ ìˆë‹¤.
- (2)ì— ì˜í•˜ì—¬ ì²« ë²ˆì§¸ â†’ ë‘ ë²ˆì§¸ ê³„ë‹¨ì— ë‹¿ì„ ìˆ˜ ìˆë‹¤.
- (2)ë¥¼ ë‹¤ì‹œ ì ìš©í•˜ë©´ ë‘ ë²ˆì§¸ â†’ ì„¸ ë²ˆì§¸ ê³„ë‹¨ì— ë‹¿ì„ ìˆ˜ ìˆë‹¤.
- ì´ë¥¼ ê³„ì†í•˜ë©´ 100ë²ˆì§¸, 1000ë²ˆì§¸, ... **ëª¨ë“ ** ê³„ë‹¨ì— ë‹¿ì„ ìˆ˜ ìˆë‹¤!

### 8A.1.3 ë„ë¯¸ë…¸ ë¹„ìœ  â€” ë˜ ë‹¤ë¥¸ ì´í•´ ë°©ë²•

**ë¬´í•œê°œì˜ ë„ë¯¸ë…¸**ê°€ 1, 2, 3, ..., n, ... ìœ¼ë¡œ ë²ˆí˜¸ê°€ ë§¤ê²¨ì ¸ ì¼ë ¬ë¡œ ì„œ ìˆë‹¤ê³  ìƒìƒí•˜ì.

> **ì‚¬ì‹¤ 1**: ì²« ë²ˆì§¸ ë„ë¯¸ë…¸ë¥¼ **ì“°ëŸ¬ëœ¨ë¦°ë‹¤** (P(1)ì´ ì°¸).  
> **ì‚¬ì‹¤ 2**: ëª¨ë“  ì–‘ì˜ ì •ìˆ˜ kì— ëŒ€í•˜ì—¬, kë²ˆì§¸ ë„ë¯¸ë…¸ê°€ ì“°ëŸ¬ì§€ë©´ (k+1)ë²ˆì§¸ ë„ë¯¸ë…¸ë„ **ë°˜ë“œì‹œ ì“°ëŸ¬ì§„ë‹¤** (P(k) â†’ P(k+1)ì´ ì°¸).

ì´ ë‘ ê°€ì§€ê°€ ì„±ë¦½í•˜ë©´, ì²˜ìŒë¶€í„° ì‹œì‘í•˜ì—¬ **ëª¨ë“  ë„ë¯¸ë…¸ê°€ ì“°ëŸ¬ì§„ë‹¤**. ì´ê²ƒì´ ìˆ˜í•™ì  ê·€ë‚©ë²•ì˜ í•µì‹¬ ì•„ì´ë””ì–´ì´ë‹¤!

### 8A.1.4 ê³µì‹ì  ì •ì˜ â€” ìˆ˜í•™ì  ê·€ë‚©ë²•ì˜ ì›ë¦¬

> **ìˆ˜í•™ì  ê·€ë‚©ë²•ì˜ ì›ë¦¬**(Principle of Mathematical Induction):  
> ëª¨ë“  ì–‘ì˜ ì •ìˆ˜ nì— ëŒ€í•˜ì—¬ **ëª…ì œí•¨ìˆ˜**(propositional function) P(n)ì´ ì°¸ì„ì„ ë³´ì´ê¸° ìœ„í•˜ì—¬ ë‹¤ìŒ ë‘ ë‹¨ê³„ë¥¼ í™•ì¸í•œë‹¤.
>
> **ê¸°ë³¸ ë‹¨ê³„**(basis step): ëª…ì œ P(1)ì´ ì°¸ì„ì„ ë³´ì¸ë‹¤.  
> **ê·€ë‚©ì  ë‹¨ê³„**(inductive step): ëª¨ë“  ì–‘ì˜ ì •ìˆ˜ kì— ëŒ€í•´ì„œ P(k) â†’ P(k + 1)ì€ ì°¸ì„ì„ ë³´ì¸ë‹¤.

ì´ê²ƒì„ **ì¶”ë¡  ê·œì¹™**(inference rule)ìœ¼ë¡œ í‘œí˜„í•˜ë©´:

```
(P(1) âˆ§ âˆ€k(P(k) â†’ P(k + 1))) â†’ âˆ€n P(n)
```

í’€ì–´ì„œ ë§í•˜ë©´: "P(1)ì´ ì°¸ì´ê³ , ëª¨ë“  kì— ëŒ€í•´ P(k)ì´ë©´ P(k+1)ì´ë‹¤"ê°€ ì„±ë¦½í•˜ë©´, "ëª¨ë“  nì— ëŒ€í•´ P(n)ì´ ì°¸"ì´ë¼ê³  ê²°ë¡ ì§“ëŠ”ë‹¤.

### 8A.1.5 ê° ìš©ì–´ ì •ë¦¬

| ìš©ì–´ | ì˜ì–´ | ì˜ë¯¸ |
|------|------|------|
| **ê¸°ë³¸ ë‹¨ê³„** | basis step | P(1)ì´ ì°¸ì„ì„ ì§ì ‘ ë³´ì´ëŠ” ë‹¨ê³„ |
| **ê·€ë‚©ì  ë‹¨ê³„** | inductive step | P(k) â†’ P(k+1)ì´ ì°¸ì„ì„ ë³´ì´ëŠ” ë‹¨ê³„ |
| **ê·€ë‚©ì  ê°€ì„¤** | inductive hypothesis (IH) | ê·€ë‚©ì  ë‹¨ê³„ì—ì„œ P(k)ê°€ ì°¸ì´ë¼ê³  **ê°€ì •**í•˜ëŠ” ê²ƒ |
| **ëª…ì œí•¨ìˆ˜** | propositional function | nì— ë”°ë¼ ì°¸/ê±°ì§“ì´ ê²°ì •ë˜ëŠ” ë¬¸ì¥ P(n) |

> âš ï¸ **ì£¼ì˜**: ê·€ë‚©ë²•ìœ¼ë¡œ ì¦ëª…í•  ë•Œ P(k)ê°€ **ëª¨ë“ ** ì–‘ì˜ ì •ìˆ˜ì— ëŒ€í•´ ì°¸ì´ë¼ê³  ê°€ì •í•˜ëŠ” ê²ƒì´ **ì•„ë‹ˆë‹¤**. ìš°ë¦¬ëŠ” ë‹¨ì§€ P(k)ê°€ ì°¸ì´ë¼ê³  ê°€ì •í•˜ê³ , P(k+1)ì´ ì°¸ì„ì„ ë³´ì´ëŠ” ê²ƒë¿ì´ë‹¤. ì´ê²ƒì€ ìˆœí™˜ ì¶”ë¡ ì´ ì•„ë‹ˆë‹¤!

---

## 8A.2 Lean4ì—ì„œ **ê·€ë‚©ë²•** ì‚¬ìš©í•˜ê¸° â€” `induction` ì „ìˆ 

### 8A.2.1 Lean4ì˜ ìì—°ìˆ˜ ì •ì˜

Lean4ì—ì„œ ìì—°ìˆ˜(`Nat`, ì¤„ì—¬ì„œ `â„•`)ëŠ” **ê·€ë‚©ì ìœ¼ë¡œ**(inductively) ì •ì˜ëœ íƒ€ì…ì´ë‹¤:

```lean
-- Lean4 ë‚´ë¶€ ì •ì˜ (ì°¸ê³ ìš©)
inductive Nat where
  | zero : Nat           -- 0ì€ ìì—°ìˆ˜ì´ë‹¤
  | succ (n : Nat) : Nat -- nì´ ìì—°ìˆ˜ì´ë©´ n+1ë„ ìì—°ìˆ˜ì´ë‹¤
```

ëª¨ë“  ìì—°ìˆ˜ëŠ” ì´ ë‘ ê°€ì§€ **ìƒì„±ì**(constructor)ë¡œ ë§Œë“¤ì–´ì§„ë‹¤:
- `Nat.zero` â€” 0
- `Nat.succ n` â€” nì˜ ë‹¤ìŒ ìˆ˜ (n + 1)

ì˜ˆë¥¼ ë“¤ì–´:
- 0 = `Nat.zero`
- 1 = `Nat.succ Nat.zero`
- 2 = `Nat.succ (Nat.succ Nat.zero)`
- 3 = `Nat.succ (Nat.succ (Nat.succ Nat.zero))`

ì´ëŸ° êµ¬ì¡° ë•Œë¬¸ì—, **ëª¨ë“  ìì—°ìˆ˜ì— ëŒ€í•œ ì¦ëª…ì€ ë‘ ê²½ìš°ë¡œ ë‚˜ë‰œë‹¤**:
1. n = 0ì¸ ê²½ìš° (ê¸°ë³¸ ë‹¨ê³„)
2. n = k + 1ì¸ ê²½ìš° (ê·€ë‚©ì  ë‹¨ê³„), ì´ë•Œ kì— ëŒ€í•œ ê²°ê³¼ë¥¼ ì´ë¯¸ ì•Œê³  ìˆë‹¤ê³  ê°€ì •

ì´ê²ƒì´ ë°”ë¡œ ìˆ˜í•™ì  ê·€ë‚©ë²•ì´ë‹¤!

### 8A.2.2 `induction` ì „ìˆ ì˜ ê¸°ë³¸ ì‚¬ìš©ë²•

Lean4ì—ì„œ ê·€ë‚©ë²•ì„ ì‚¬ìš©í•˜ëŠ” ì „ìˆ ì€ **`induction`** ì´ë‹¤. ì„¸ ê°€ì§€ ë¬¸ë²•ì´ ìˆë‹¤:

**ë¬¸ë²• 1**: `induction'` (í”„ë¼ì„ í¬í•¨) â€” ê°„ê²°í•œ í˜•íƒœ

```lean
theorem example_thm (n : â„•) : P n := by
  induction' n with n ih
  Â· -- ê¸°ë³¸ ë‹¨ê³„: P 0ì„ ì¦ëª…
    sorry
  -- ê·€ë‚©ì  ë‹¨ê³„: ih : P nì¼ ë•Œ P (n + 1)ì„ ì¦ëª…
  sorry
```

**ë¬¸ë²• 2**: `induction` + `case` â€” êµ¬ì¡°ì  í˜•íƒœ

```lean
theorem example_thm (n : â„•) : P n := by
  induction n
  case zero =>
    -- ê¸°ë³¸ ë‹¨ê³„: P 0
    sorry
  case succ n ih =>
    -- ê·€ë‚©ì  ë‹¨ê³„: ih : P nì¼ ë•Œ P (n + 1)
    sorry
```

**ë¬¸ë²• 3**: `induction` + `with` + `|` â€” íŒ¨í„´ ë§¤ì¹­ í˜•íƒœ

```lean
theorem example_thm (n : â„•) : P n := by
  induction n with
  | zero =>
    -- ê¸°ë³¸ ë‹¨ê³„: P 0
    sorry
  | succ n ih =>
    -- ê·€ë‚©ì  ë‹¨ê³„: ih : P nì¼ ë•Œ P (n + 1)
    sorry
```

ì„¸ ê°€ì§€ ëª¨ë‘ ë™ì¼í•œ íš¨ê³¼ë¥¼ ê°€ì§„ë‹¤. ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” **ë¬¸ë²• 3**ì„ ì£¼ë¡œ ì‚¬ìš©í•  ê²ƒì´ë‹¤. ê°€ì¥ ê¹”ë”í•˜ê³  ì½ê¸° ì‰½ê¸° ë•Œë¬¸ì´ë‹¤.

### 8A.2.3 ê° ë¶€ë¶„ì˜ ì˜ë¯¸

| ì½”ë“œ ë¶€ë¶„ | ì˜ë¯¸ |
|---------|------|
| `induction n with` | "nì— ëŒ€í•´ ê·€ë‚©ë²•ì„ ì‹œì‘í•œë‹¤" |
| `\| zero =>` | **ê¸°ë³¸ ë‹¨ê³„**: n = 0ì¸ ê²½ìš° |
| `\| succ n ih =>` | **ê·€ë‚©ì  ë‹¨ê³„**: nì´ ì–´ë–¤ ìì—°ìˆ˜ì´ê³ , `ih`ê°€ **ê·€ë‚©ì  ê°€ì„¤** |
| `n` | ê·€ë‚©ì  ë‹¨ê³„ì—ì„œì˜ ë³€ìˆ˜ (ì´ë¦„ì€ ììœ ë¡­ê²Œ ì„ íƒ ê°€ëŠ¥) |
| `ih` | **ê·€ë‚©ì  ê°€ì„¤**(inductive hypothesis) â€” "P(n)ì´ ì°¸ì´ë‹¤"ë¼ëŠ” ê°€ì • |

> ğŸ’¡ `ih`ëŠ” "inductive hypothesis"ì˜ ì•½ìì´ë‹¤. ì›í•˜ëŠ” ì´ë¦„ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `| succ k hk =>`ë¼ê³  ì“°ë©´ ë³€ìˆ˜ê°€ `k`, ê°€ì„¤ì´ `hk`ê°€ ëœë‹¤.

### 8A.2.4 Lean4ì—ì„œ 0 vs 1: ê¸°ë³¸ ë‹¨ê³„ì˜ ì£¼ì˜ì 

Lean4ì˜ ìì—°ìˆ˜ëŠ” **0ë¶€í„°** ì‹œì‘í•œë‹¤. ë”°ë¼ì„œ `induction n`ì„ í•˜ë©´ ê¸°ë³¸ ë‹¨ê³„ëŠ” **n = 0**ì´ë‹¤.

ê·¸ëŸ°ë° êµì¬(Rosen)ì—ì„œëŠ” "ëª¨ë“  **ì–‘ì˜** ì •ìˆ˜ nì— ëŒ€í•´..."ë¼ê³  í•˜ì—¬ **n = 1**ë¶€í„° ì‹œì‘í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ì´ ê²½ìš° Lean4ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ì„ ì‚¬ìš©í•œë‹¤:

**ë°©ë²• 1**: ëª…ì œ ìì²´ë¥¼ "n â‰¥ 1ì¼ ë•Œ"ë¡œ ì¡°ê±´ ê±¸ê¸°

```lean
-- "ëª¨ë“  ì–‘ì˜ ì •ìˆ˜ nì— ëŒ€í•´ P(n)"ì„ Lean4ë¡œ:
theorem example1 (n : â„•) (hn : n â‰¥ 1) : P n := by
  sorry
```

**ë°©ë²• 2**: n ëŒ€ì‹  n + 1ë¡œ í‘œí˜„í•˜ì—¬ ìë™ìœ¼ë¡œ ì–‘ì˜ ì •ìˆ˜ ë³´ì¥

```lean
-- n â‰¥ 0ì´ë©´ n + 1 â‰¥ 1ì´ë¯€ë¡œ ì–‘ì˜ ì •ìˆ˜
theorem example2 (n : â„•) : P (n + 1) := by
  induction n with
  | zero => -- n = 0, ì¦‰ P(1)
    sorry
  | succ n ih => -- ih : P(n+1), ì¦ëª… ëª©í‘œ: P(n+2)
    sorry
```

**ë°©ë²• 3**: 0ì¸ ê²½ìš°ë¥¼ `omega`ë¡œ ì²˜ë¦¬

```lean
theorem example3 (n : â„•) (hn : 0 < n) : P n := by
  induction n with
  | zero => omega  -- 0 < 0ì€ ê±°ì§“ì´ë¯€ë¡œ ëª¨ìˆœìœ¼ë¡œ ëë‚¨
  | succ n ih => sorry
```

---

## 8A.3 **ì •ë¦¬**(theorem)ì™€ **ë³´ì¡°ì •ë¦¬**(lemma) ë³µìŠµ â€” ê·€ë‚©ë²•ì—ì„œì˜ í™œìš©

### 8A.3.1 ë³µìŠµ: lemmaì™€ theoremì˜ ì°¨ì´

ì œ7-Aí¸ì—ì„œ ì´ë¯¸ ë°°ìš´ ë‚´ìš©ì„ ë³µìŠµí•˜ì. Lean4ì—ì„œ `lemma`ì™€ `theorem`ì€ **ê¸°ëŠ¥ì ìœ¼ë¡œ ì™„ì „íˆ ë™ì¼**í•˜ë‹¤:

```lean
-- ì´ ë‘ ì„ ì–¸ì€ Lean4ì—ê²Œ ì™„ì „íˆ ê°™ì€ ì˜ë¯¸ì´ë‹¤!
lemma my_lemma (n : â„•) : n + 0 = n := by omega
theorem my_theorem (n : â„•) : n + 0 = n := by omega
```

ì°¨ì´ëŠ” ì˜¤ì§ **ì‚¬ëŒì„ ìœ„í•œ ì˜ë„ í‘œì‹œ**ì— ìˆë‹¤:

| í‚¤ì›Œë“œ | ì˜ë„ | ë¹„ìœ  |
|--------|------|------|
| `lemma` | **ì‘ì€ ë³´ì¡° ê²°ê³¼** â€” ë” í° ì¦ëª…ì„ ìœ„í•œ "ì§•ê²€ë‹¤ë¦¬" | ê±´ë¬¼ì˜ ë²½ëŒ |
| `theorem` | **ì£¼ìš” ê²°ê³¼** â€” ìš°ë¦¬ê°€ ìµœì¢…ì ìœ¼ë¡œ ì¦ëª…í•˜ê³  ì‹¶ì€ ê²ƒ | ì™„ì„±ëœ ê±´ë¬¼ |

### 8A.3.2 ê·€ë‚©ë²•ì—ì„œ lemmaê°€ íŠ¹íˆ ì¤‘ìš”í•œ ì´ìœ 

ê·€ë‚©ë²• ì¦ëª…ì€ ì¢…ì¢… **ì—¬ëŸ¬ ë‹¨ê³„ì˜ ë³´ì¡° ì‚¬ì‹¤**ì´ í•„ìš”í•˜ë‹¤. ì˜ˆë¥¼ ë“¤ì–´, "1 + 2 + ... + n = n(n+1)/2"ë¥¼ ì¦ëª…í•˜ë ¤ë©´:

1. ë§ì…ˆì˜ êµí™˜ë²•ì¹™ (ì´ë¯¸ Lean4ì— ìˆìŒ)
2. ê³±ì…ˆì˜ ë¶„ë°°ë²•ì¹™ (ì´ë¯¸ Lean4ì— ìˆìŒ)
3. í•©ì˜ ë²”ìœ„ë¥¼ í•œ ì¹¸ ëŠ˜ë¦¬ëŠ” ë³´ì¡°ì •ë¦¬ (`Finset.sum_range_succ`)
4. ë¶„ìˆ˜ë¥¼ í”¼í•˜ê¸° ìœ„í•´ ì–‘ë³€ì— 2ë¥¼ ê³±í•˜ëŠ” ì „ëµ

ì´ëŸ° ë³´ì¡° ì‚¬ì‹¤ë“¤ì„ `lemma`ë¡œ ë”°ë¡œ ì¦ëª…í•´ ë‘ë©´, ë³¸ ì¦ëª…ì´ ê¹”ë”í•´ì§„ë‹¤.

```lean
-- ë³´ì¡°ì •ë¦¬: ì‘ì€ ì‚¬ì‹¤ì„ ë¨¼ì € ì¦ëª…
lemma helper (k : â„•) : 2 * k + 2 = 2 * (k + 1) := by ring

-- ì£¼ ì •ë¦¬: ë³´ì¡°ì •ë¦¬ë¥¼ í™œìš©
theorem main_thm (n : â„•) : some_property n := by
  induction n with
  | zero => sorry
  | succ n ih =>
    rw [helper]  -- ë³´ì¡°ì •ë¦¬ë¥¼ ì ìš©!
    sorry
```

### 8A.3.3 Lean4ì—ì„œ lemma ì‚¬ìš© íŒ¨í„´

```lean
-- íŒ¨í„´ 1: haveë¡œ ì¦ëª… ì•ˆì—ì„œ ë³´ì¡°ì •ë¦¬ ë§Œë“¤ê¸°
theorem my_thm (n : â„•) : P n := by
  have helper : Q := by sorry  -- ì§€ì—­ì  ë³´ì¡°ì •ë¦¬
  exact use_helper helper

-- íŒ¨í„´ 2: ì™¸ë¶€ì—ì„œ lemmaë¡œ ì„ ì–¸í•˜ê³  ì‚¬ìš©
lemma my_helper (n : â„•) : Q n := by sorry
theorem my_thm' (n : â„•) : P n := by
  exact use_helper (my_helper n)
```

---

## 8A.4 **ì¡°ê±´ë¬¸** `â†’`(if)ê³¼ **ìŒì¡°ê±´ë¬¸** `â†”`(iff) ë³µìŠµ â€” ê·€ë‚©ë²•ì˜ í•µì‹¬

### 8A.4.1 ì™œ ì´ê²ƒì´ ê·€ë‚©ë²•ì—ì„œ ì¤‘ìš”í•œê°€?

ìˆ˜í•™ì  ê·€ë‚©ë²•ì˜ í•µì‹¬ì€ **ê·€ë‚©ì  ë‹¨ê³„**ì´ë‹¤:

> "ëª¨ë“  ì–‘ì˜ ì •ìˆ˜ kì— ëŒ€í•˜ì—¬, **P(k)ì´ë©´** P(k+1)ì´ë‹¤"

ì´ê²ƒì€ **ì¡°ê±´ë¬¸**(â†’, if...then)ì´ë‹¤! P(k) **â†’** P(k+1)

Lean4ì—ì„œ `â†’`ëŠ” **í•¨ì¶•**(implication)ì„ ë‚˜íƒ€ë‚´ë©°, ê·€ë‚©ì  ê°€ì„¤ `ih : P n`ì€ "P(n)ì´ ì°¸ì´ë¼ëŠ” ê°€ì •"ì´ë‹¤. ì´ ê°€ì •ì„ ì‚¬ìš©í•˜ì—¬ P(n+1)ì„ ì¦ëª…í•˜ëŠ” ê²ƒì´ ê·€ë‚©ì  ë‹¨ê³„ì´ë‹¤.

### 8A.4.2 `â†’`(ì¡°ê±´ë¬¸, if)ì˜ ì˜ë¯¸

| í‘œí˜„ | ì½ëŠ” ë°©ë²• | Lean4ì—ì„œ ì˜ë¯¸ |
|------|---------|-------------|
| A â†’ B | "Aì´ë©´ Bì´ë‹¤" | Aì˜ ì¦ëª…ì´ ì£¼ì–´ì§€ë©´ Bì˜ ì¦ëª…ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤ |
| P(k) â†’ P(k+1) | "P(k)ì´ë©´ P(k+1)ì´ë‹¤" | P(k)ì˜ ì¦ëª…ìœ¼ë¡œë¶€í„° P(k+1)ì˜ ì¦ëª…ì„ êµ¬ì„± |

Lean4ì—ì„œ `â†’`ëŠ” `intro`ë¡œ ê°€ì •ì— ë„£ê³ , `exact`ë‚˜ `apply`ë¡œ ì‚¬ìš©í•œë‹¤:

```lean
-- "Aì´ë©´ B"ë¥¼ ì¦ëª…í•˜ë ¤ë©´:
-- 1. Aë¥¼ ê°€ì •í•œë‹¤ (intro)
-- 2. Bë¥¼ ë³´ì¸ë‹¤

example (h : A â†’ B) (ha : A) : B := by
  exact h ha     -- hì— haë¥¼ ë„£ìœ¼ë©´ Bì˜ ì¦ëª…ì´ ë‚˜ì˜¨ë‹¤

-- ë˜ëŠ”
example (h : A â†’ B) (ha : A) : B := by
  apply h        -- ëª©í‘œê°€ Bì—ì„œ Aë¡œ ë°”ë€œ
  exact ha       -- Aë¥¼ ì¦ëª…
```

### 8A.4.3 `â†”`(ìŒì¡°ê±´ë¬¸, iff)ì˜ ì˜ë¯¸

| í‘œí˜„ | ì½ëŠ” ë°©ë²• | Lean4ì—ì„œ ì˜ë¯¸ |
|------|---------|-------------|
| A â†” B | "Aì¼ ë•Œ ê·¸ë¦¬ê³  ê·¸ë•Œì—ë§Œ B" | A â†’ B **ì´ê³ ** B â†’ A |
| | "Aì™€ BëŠ” ë™ì¹˜(equivalent)" | ì–‘ë°©í–¥ í•¨ì¶•ì´ ëª¨ë‘ ì„±ë¦½ |

`â†”`ëŠ” `â†’`ì˜ **ê°•í™”ëœ ë²„ì „**ì´ë‹¤. `â†’`ëŠ” í•œ ë°©í–¥ë§Œ ë§í•˜ì§€ë§Œ, `â†”`ëŠ” **ì–‘ë°©í–¥** ëª¨ë‘ë¥¼ ë§í•œë‹¤.

```
A â†’ B   "Aì´ë©´ Bì´ë‹¤"          (í•œ ë°©í–¥)
A â†” B   "Aì´ë©´ Bì´ê³ , Bì´ë©´ A" (ì–‘ ë°©í–¥)
```

**ì¼ìƒì  ë¹„ìœ **:
- `â†’` (í•œë°©í–¥): "ë¹„ê°€ ì˜¤ë©´ ë•…ì´ ì –ëŠ”ë‹¤" (ë¹„ â†’ ì –ìŒ. ê·¸ëŸ¬ë‚˜ ë•…ì´ ì –ì—ˆë‹¤ê³  í•´ì„œ ë°˜ë“œì‹œ ë¹„ê°€ ì˜¨ ê²ƒì€ ì•„ë‹˜)
- `â†”` (ì–‘ë°©í–¥): "ì‚¼ê°í˜•ì´ ì •ì‚¼ê°í˜•ì´ë‹¤ â†” ì„¸ ë³€ì˜ ê¸¸ì´ê°€ ê°™ë‹¤" (ì •ì‚¼ê°í˜•ì´ë©´ ì„¸ ë³€ì´ ê°™ê³ , ì„¸ ë³€ì´ ê°™ìœ¼ë©´ ì •ì‚¼ê°í˜•)

### 8A.4.4 Lean4ì—ì„œ `â†”` ë‹¤ë£¨ê¸°

```lean
-- â†”ë¥¼ ë‘ ë°©í–¥ìœ¼ë¡œ ë¶„ë¦¬í•˜ê¸°
example (h : A â†” B) : A â†’ B := h.mp    -- "ì •ë°©í–¥"(mp = modus ponens)
example (h : A â†” B) : B â†’ A := h.mpr   -- "ì—­ë°©í–¥"(mpr = modus ponens reverse)

-- â†”ë¥¼ ë§Œë“¤ê¸°: ì–‘ë°©í–¥ì„ ê°ê° ì¦ëª…
example : A â†” B := by
  constructor           -- ë‘ ëª©í‘œë¡œ ë¶„ë¦¬: A â†’ Bì™€ B â†’ A
  Â· intro ha            -- A â†’ B ì¦ëª…
    sorry
  Â· intro hb            -- B â†’ A ì¦ëª…
    sorry

-- â†”ë¥¼ rewriteì— ì‚¬ìš©í•˜ê¸° (ë§¤ìš° ìœ ìš©!)
-- h : A â†” Bì´ë©´, rw [h]ë¡œ ëª©í‘œì˜ Aë¥¼ Bë¡œ ë°”ê¿€ ìˆ˜ ìˆë‹¤
example (h : A â†” B) (goal : A) : B := by
  rwa [h] at goal       -- goalì˜ Aë¥¼ Bë¡œ ë°”ê¾¸ê³  ìë™ ì™„ì„±
```

### 8A.4.5 `â†’`ì™€ `â†”`ì˜ ë¹„êµí‘œ

| íŠ¹ì„± | `â†’` (ì¡°ê±´ë¬¸) | `â†”` (ìŒì¡°ê±´ë¬¸) |
|------|-----------|-------------|
| ë°©í–¥ | í•œ ë°©í–¥ (Aì—ì„œ Bë¡œ) | ì–‘ ë°©í–¥ (Aâ‡ŒB) |
| ì½ê¸° | "Aì´ë©´ B" | "Aì¼ ë•Œ ê·¸ë¦¬ê³  ê·¸ë•Œì—ë§Œ B" |
| ë§Œë“¤ê¸° | `intro` | `constructor` (ë‘ `â†’`ë¥¼ ê°ê°) |
| ì‚¬ìš©í•˜ê¸° | `apply`, `exact` | `.mp`, `.mpr`, `rw` |
| `rw`ì— ì‚¬ìš© | âŒ ë¶ˆê°€ | âœ… ê°€ëŠ¥ |
| ë¶„í•´ | ë¶ˆí•„ìš” | `.mp` / `.mpr`ë¡œ ë¶„í•´ |

> ğŸ’¡ **í•µì‹¬**: `rw`(ì¹˜í™˜)ëŠ” **`â†”`ì—ë§Œ** ì‚¬ìš©í•  ìˆ˜ ìˆê³ , `â†’`ì—ëŠ” ì‚¬ìš©í•  ìˆ˜ **ì—†ë‹¤**. ì´ê²ƒì´ ì‹¤ì „ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ì°¨ì´ì´ë‹¤!

---

## 8A.5 **ì¹˜í™˜/ëŒ€ì…**(Substitution = Rewrite) ë³µìŠµ â€” ê·€ë‚©ë²•ì˜ í•µì‹¬ ë¬´ê¸°

### 8A.5.1 ê·€ë‚©ë²•ì—ì„œ `rw`ê°€ ì™œ í•µì‹¬ì¸ê°€?

ê·€ë‚©ë²• ì¦ëª…ì˜ **ê·€ë‚©ì  ë‹¨ê³„**ì—ì„œ ê°€ì¥ ìì£¼ í•˜ëŠ” ì¼ì€:

1. **ê·€ë‚©ì  ê°€ì„¤**(IH)ì„ ì‚¬ìš©í•˜ì—¬ ì‹ì˜ ì¼ë¶€ë¥¼ **ì¹˜í™˜**(rewrite)í•˜ëŠ” ê²ƒ

ì˜ˆë¥¼ ë“¤ì–´, "1 + 2 + ... + n = n(n+1)/2"ë¥¼ ì¦ëª…í•  ë•Œ:
- ê·€ë‚©ì  ê°€ì„¤ `ih`: 1 + 2 + ... + k = k(k+1)/2 â† ì´ë¯¸ ì•Œê³  ìˆìŒ
- ì¦ëª… ëª©í‘œ: 1 + 2 + ... + k + (k+1) = (k+1)(k+2)/2

ì´ë•Œ, ì¢Œë³€ì˜ `1 + 2 + ... + k` ë¶€ë¶„ì„ ê·€ë‚©ì  ê°€ì„¤ì„ ì´ìš©í•˜ì—¬ `k(k+1)/2`ë¡œ **ì¹˜í™˜**í•œë‹¤. ì´ê²ƒì´ `rw [ih]`ì´ë‹¤!

### 8A.5.2 `rw` ì „ìˆ ì˜ ê¸°ë³¸ ì‚¬ìš©ë²• ë³µìŠµ

```lean
-- h : a = bì¼ ë•Œ
-- rw [h]ëŠ” ëª©í‘œì—ì„œ aë¥¼ bë¡œ ë°”ê¾¼ë‹¤
-- rw [â† h]ëŠ” ëª©í‘œì—ì„œ bë¥¼ aë¡œ ë°”ê¾¼ë‹¤

example (a b : â„•) (h : a = b) : a + 1 = b + 1 := by
  rw [h]   -- ëª©í‘œê°€ b + 1 = b + 1ì´ ë˜ì–´ ìë™ ì™„ì„±

-- ì—¬ëŸ¬ ë²ˆ ì¹˜í™˜í•˜ê¸°
example (a b c : â„•) (h1 : a = b) (h2 : b = c) : a = c := by
  rw [h1, h2]  -- aâ†’b, bâ†’cë¡œ ì—°ì† ì¹˜í™˜
```

### 8A.5.3 ì¹˜í™˜ì˜ ë°©í–¥

| ì½”ë“œ | ì˜ë¯¸ | hê°€ `a = b`ì¼ ë•Œ |
|------|------|----------------|
| `rw [h]` | ì •ë°©í–¥ ì¹˜í™˜ | ëª©í‘œì˜ `a`ë¥¼ `b`ë¡œ ë°”ê¿ˆ |
| `rw [â† h]` | ì—­ë°©í–¥ ì¹˜í™˜ | ëª©í‘œì˜ `b`ë¥¼ `a`ë¡œ ë°”ê¿ˆ |
| `rw [h] at hyp` | ê°€ì„¤ì—ì„œ ì¹˜í™˜ | ê°€ì„¤ `hyp`ì˜ `a`ë¥¼ `b`ë¡œ ë°”ê¿ˆ |

### 8A.5.4 "ì¹˜í™˜ = ìŠˆí¼í¬ì§€ì…˜"ì´ë¼ëŠ” ë¹„ìœ 

"**ì¹˜í™˜**(substitution)"ì„ "**ìŠˆí¼í¬ì§€ì…˜**(superposition)"ì´ë¼ ë¹„ìœ í•  ìˆ˜ ìˆë‹¤. ë¬¼ë¦¬í•™ì—ì„œ ìŠˆí¼í¬ì§€ì…˜ì€ "ê²¹ì³ ë†“ê¸°"ë¥¼ ì˜ë¯¸í•œë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ, ì¹˜í™˜ì€:

> **ì´ë¯¸ ì•Œê³  ìˆëŠ” ë“±ì‹ì„ í˜„ì¬ ë¬¸ì œ ìœ„ì— ê²¹ì³ ë†“ì•„, í•œìª½ì„ ë‹¤ë¥¸ ìª½ìœ¼ë¡œ êµì²´í•˜ëŠ” í–‰ìœ„**

ì˜ˆë¥¼ ë“¤ì–´:
- ê·€ë‚©ì  ê°€ì„¤ `ih : 1 + 2 + ... + k = k(k+1)/2`
- í˜„ì¬ ëª©í‘œ: `1 + 2 + ... + k + (k+1) = ?`
- `rw [ih]`: ëª©í‘œ ìœ„ì— ihë¥¼ "ê²¹ì³ ë†“ì•„" `1 + 2 + ... + k` ë¶€ë¶„ì„ `k(k+1)/2`ë¡œ êµì²´!
- ê²°ê³¼: `k(k+1)/2 + (k+1) = ?`

ì´ì œ ìˆœìˆ˜í•œ **ëŒ€ìˆ˜ì  ê³„ì‚°**(ì‚°ìˆ )ë§Œ ë‚¨ëŠ”ë‹¤. ì´ê²ƒì„ `ring`ì´ë‚˜ `omega`ë¡œ ì²˜ë¦¬í•œë‹¤.

---

## 8A.6 ì²« ë²ˆì§¸ ê·€ë‚©ë²• ì˜ˆì œ: ê°€ì¥ ê°„ë‹¨í•œ í˜•íƒœ

### 8A.6.1 ì¤€ë¹„ ìš´ë™ â€” ì•„ì£¼ ê°„ë‹¨í•œ ê·€ë‚©ë²•

ë³¸ê²©ì ì¸ í•©ì˜ ê³µì‹ì— ë“¤ì–´ê°€ê¸° ì „ì—, ì•„ì£¼ ê°„ë‹¨í•œ ê·€ë‚©ë²• ì¦ëª…ìœ¼ë¡œ ê°ì„ ì¡ì•„ë³´ì.

**ëª…ì œ**: "ëª¨ë“  ìì—°ìˆ˜ nì— ëŒ€í•˜ì—¬ 0 + n = nì´ë‹¤"

ì´ê²ƒì€ ë„ˆë¬´ ë‹¹ì—°í•´ ë³´ì´ì§€ë§Œ, Lean4ì—ì„œëŠ” ìì—°ìˆ˜ ë§ì…ˆì´ **ë‘ ë²ˆì§¸ ì¸ìˆ˜ì— ëŒ€í•œ ì¬ê·€**ë¡œ ì •ì˜ë˜ì–´ ìˆê¸° ë•Œë¬¸ì—, `0 + n = n`ì€ ìë™ìœ¼ë¡œ ì„±ë¦½í•˜ì§€ **ì•ŠëŠ”ë‹¤** (`n + 0 = n`ì€ ì •ì˜ì— ì˜í•´ ìë™ ì„±ë¦½).

```lean
-- ì™„ì„±ëœ ì¦ëª… ì˜ˆì œ
theorem zero_add_eq (n : â„•) : 0 + n = n := by
  induction n with
  | zero =>
    -- ê¸°ë³¸ ë‹¨ê³„: 0 + 0 = 0
    -- ì´ê²ƒì€ ì •ì˜ì— ì˜í•´ ì°¸ì´ë‹¤
    rfl
  | succ n ih =>
    -- ê·€ë‚©ì  ê°€ì„¤ ih : 0 + n = n
    -- ëª©í‘œ: 0 + (n + 1) = n + 1
    -- Lean4ì—ì„œ 0 + succ n = succ (0 + n) (ë§ì…ˆì˜ ì •ì˜)
    -- ihë¥¼ ì‚¬ìš©í•˜ì—¬ 0 + nì„ nìœ¼ë¡œ ì¹˜í™˜
    rw [Nat.add_succ, ih]
```

### 8A.6.2 í•œ ì¤„ì”© ì™„ì „ ë¶„ì„

**ê¸°ë³¸ ë‹¨ê³„** (`| zero =>`):
- ëª©í‘œ: `0 + 0 = 0`
- `rfl`: ì–‘ë³€ì´ ê³„ì‚°ì— ì˜í•´ ê°™ìœ¼ë¯€ë¡œ ìë™ ì™„ì„±. `0 + 0`ì€ ì •ì˜ì— ì˜í•´ `0`ì´ë‹¤.

**ê·€ë‚©ì  ë‹¨ê³„** (`| succ n ih =>`):
- ê°€ì„¤: `ih : 0 + n = n` (ê·€ë‚©ì  ê°€ì„¤)
- ëª©í‘œ: `0 + (n + 1) = n + 1`
- `rw [Nat.add_succ]`: ë§ì…ˆì˜ ì •ì˜ì— ì˜í•´ `0 + (n + 1) = (0 + n) + 1`ë¡œ ë³€í™˜
  - ì´ì œ ëª©í‘œëŠ” `(0 + n) + 1 = n + 1`
- `rw [ih]`: ê·€ë‚©ì  ê°€ì„¤ë¡œ `0 + n`ì„ `n`ìœ¼ë¡œ ì¹˜í™˜
  - ì´ì œ ëª©í‘œëŠ” `n + 1 = n + 1`
  - ì´ê²ƒì€ ìë™ìœ¼ë¡œ ì„±ë¦½ (`rfl`)

> ğŸ’¡ ì‚¬ì‹¤ ì´ ì¦ëª…ì€ `omega`ë‚˜ `simp`ë¡œ í•œ ì¤„ì— ëë‚¼ ìˆ˜ë„ ìˆë‹¤. í•˜ì§€ë§Œ ê·€ë‚©ë²•ì˜ êµ¬ì¡°ë¥¼ ì´í•´í•˜ëŠ” ê²ƒì´ ëª©ì ì´ë¯€ë¡œ, ì¼ë¶€ëŸ¬ ìƒì„¸í•˜ê²Œ í’€ì—ˆë‹¤.

### 8A.6.3 ì¤‘ê°„ ê´„í˜¸ ì±„ìš°ê¸° ì—°ìŠµ

```lean
-- ë¹ˆì¹¸ì„ ì±„ì›Œë¼!
theorem zero_add_practice (n : â„•) : 0 + n = n := by
  induction n with
  | zero =>
    ___           -- ğŸ”² ê¸°ë³¸ ë‹¨ê³„ë¥¼ ì™„ì„±í•˜ë¼
  | succ n ih =>
    rw [___]      -- ğŸ”² ì–´ë–¤ ì •ë¦¬ë¥¼ ì‚¬ìš©í•´ì•¼ í• ê¹Œ?
    rw [___]      -- ğŸ”² ê·€ë‚©ì  ê°€ì„¤ì„ ì ìš©í•˜ë¼
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem zero_add_practice (n : â„•) : 0 + n = n := by
  induction n with
  | zero =>
    rfl                    -- 0 + 0 = 0ì€ ì •ì˜ì— ì˜í•´ ì°¸
  | succ n ih =>
    rw [Nat.add_succ]      -- 0 + (n+1) = (0+n) + 1
    rw [ih]                -- 0 + nì„ nìœ¼ë¡œ ì¹˜í™˜ â†’ n + 1 = n + 1
```

</details>

### 8A.6.4 sorry ì—°ìŠµ â€” ì²˜ìŒë¶€í„° ì§ì ‘ í•´ë³´ê¸°

```lean
-- ì§ì ‘ ì²˜ìŒë¶€í„° ì¦ëª…í•´ ë³´ë¼!
theorem zero_add_challenge (n : â„•) : 0 + n = n := by
  sorry
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem zero_add_challenge (n : â„•) : 0 + n = n := by
  induction n with
  | zero => rfl
  | succ n ih => rw [Nat.add_succ, ih]
```

ë˜ëŠ” ê°„ë‹¨í•˜ê²Œ:

```lean
theorem zero_add_challenge' (n : â„•) : 0 + n = n := by omega
```

</details>

---

## 8A.7 êµì¬ ì˜ˆì œ 1: **ì²˜ìŒ nê°œì˜ ì–‘ì˜ ì •ìˆ˜ì˜ í•©**

### 8A.7.1 ë¬¸ì œ

> **ì˜ˆì œ 1** (Rosen 5.1ì ˆ): nì´ ì–‘ì˜ ì •ìˆ˜ì´ë©´  
> 1 + 2 + â‹¯ + n = n(n + 1)/2  
> ì„ì„ ë³´ì—¬ë¼.

ì´ê²ƒì€ ê°€ì¥ ìœ ëª…í•œ ìˆ˜í•™ì  ê·€ë‚©ë²• ì˜ˆì œì´ë‹¤! ê°€ìš°ìŠ¤(Gauss)ê°€ ì–´ë¦° ì‹œì ˆ ë°œê²¬í–ˆë‹¤ëŠ” ì „ì„¤ì´ ìˆëŠ” ê³µì‹ì´ë‹¤.

### 8A.7.2 ìˆ˜í•™ì  ì¦ëª… (ìƒì„¸)

**P(n)**: "1 + 2 + â‹¯ + n = n(n+1)/2"

**ê¸°ë³¸ ë‹¨ê³„** (n = 1):
- ì¢Œë³€: 1
- ìš°ë³€: 1(1+1)/2 = 1Â·2/2 = 1
- ì¢Œë³€ = ìš°ë³€ âœ“

**ê·€ë‚©ì  ë‹¨ê³„**:
- **ê·€ë‚©ì  ê°€ì„¤**(IH): ì„ì˜ì˜ kì— ëŒ€í•˜ì—¬ P(k)ê°€ ì°¸ì´ë¼ê³  ê°€ì •í•˜ì. ì¦‰,
  ```
  1 + 2 + â‹¯ + k = k(k+1)/2   ... (IH)
  ```
- **ì¦ëª… ëª©í‘œ**: P(k+1)ì´ ì°¸ì„ì„ ë³´ì¸ë‹¤. ì¦‰,
  ```
  1 + 2 + â‹¯ + k + (k+1) = (k+1)(k+2)/2
  ```

ì¦ëª… ê³¼ì •:
```
ì¢Œë³€ = 1 + 2 + â‹¯ + k + (k+1)
     = [1 + 2 + â‹¯ + k] + (k+1)     â† ë§ˆì§€ë§‰ í•­ ë¶„ë¦¬
     = [k(k+1)/2] + (k+1)           â† ì—¬ê¸°ì„œ IH(ê·€ë‚©ì  ê°€ì„¤)ë¥¼ ì‚¬ìš©! â­
     = k(k+1)/2 + 2(k+1)/2          â† í†µë¶„
     = (k(k+1) + 2(k+1))/2          â† í•©ì¹˜ê¸°
     = (k+1)(k+2)/2                  â† (k+1)ë¡œ ì¸ìˆ˜ë¶„í•´
     = ìš°ë³€ âœ“
```

**ê²°ë¡ **: ê¸°ë³¸ ë‹¨ê³„ì™€ ê·€ë‚©ì  ë‹¨ê³„ë¥¼ ëª¨ë‘ ì™„ì„±í•˜ì˜€ìœ¼ë¯€ë¡œ, ìˆ˜í•™ì  ê·€ë‚©ë²•ì— ì˜í•˜ì—¬ ëª¨ë“  ì–‘ì˜ ì •ìˆ˜ nì— ëŒ€í•˜ì—¬ 1 + 2 + â‹¯ + n = n(n+1)/2ê°€ ì°¸ì´ë‹¤.

### 8A.7.3 Lean4 êµ¬í˜„ â€” ë¶„ìˆ˜ë¥¼ í”¼í•˜ëŠ” ì „ëµ

Lean4ì—ì„œ ìì—°ìˆ˜ ë‚˜ëˆ—ì…ˆì€ **ë‚´ë¦¼ ë‚˜ëˆ—ì…ˆ**ì´ë¯€ë¡œ, `n(n+1)/2` ê°™ì€ ì‹ì—ì„œ ë¶„ìˆ˜ê°€ ë¬¸ì œê°€ ë  ìˆ˜ ìˆë‹¤. ì´ë¥¼ í”¼í•˜ëŠ” ì „ëµì€ **ì–‘ë³€ì— 2ë¥¼ ê³±í•˜ëŠ” ê²ƒ**ì´ë‹¤:

ì›ë˜ ëª…ì œ: `âˆ‘ i in range (n+1), i = n * (n + 1) / 2`

ë³€í™˜ëœ ëª…ì œ: `2 * âˆ‘ i in range (n+1), i = n * (n + 1)`

ì´ë ‡ê²Œ í•˜ë©´ ë‚˜ëˆ—ì…ˆ ì—†ì´ ì¦ëª…í•  ìˆ˜ ìˆë‹¤!

### 8A.7.4 Lean4 ì½”ë“œ â€” ì™„ì„±ëœ ì¦ëª…

```lean
import Mathlib.Tactic
import Mathlib.Algebra.BigOperators.Group.Finset

open Finset BigOperators

-- êµì¬ ì˜ˆì œ 1: 1 + 2 + ... + n = n(n+1)/2
-- (ë¶„ìˆ˜ë¥¼ í”¼í•˜ê¸° ìœ„í•´ 2ë¥¼ ê³±í•œ ë²„ì „)
theorem sum_range_id (n : â„•) :
    2 * (âˆ‘ i âˆˆ range (n + 1), i) = n * (n + 1) := by
  induction n with
  | zero =>
    -- ê¸°ë³¸ ë‹¨ê³„: 2 * (âˆ‘ i âˆˆ range 1, i) = 0 * 1
    simp
  | succ n ih =>
    -- ê·€ë‚©ì  ê°€ì„¤ ih : 2 * (âˆ‘ i âˆˆ range (n+1), i) = n * (n+1)
    -- ëª©í‘œ: 2 * (âˆ‘ i âˆˆ range (n+2), i) = (n+1) * (n+2)
    rw [Finset.sum_range_succ]
    -- ëª©í‘œê°€ 2 * (âˆ‘ i âˆˆ range (n+1), i + (n+1)) = (n+1) * (n+2)ê°€ ë¨
    ring_nf
    -- ë¶„ë°°ë²•ì¹™ ì ìš© í›„
    linarith
```

### 8A.7.5 í•œ ì¤„ì”© ì™„ì „ ë¶„ì„

**ê¸°ë³¸ ë‹¨ê³„** (`| zero =>`):
- ëª©í‘œ: `2 * (âˆ‘ i âˆˆ range 1, i) = 0 * 1`
- `range 1`ì€ `{0}`ì´ë¯€ë¡œ í•©ì€ `0`
- `2 * 0 = 0 * 1 = 0` âœ“
- `simp`ê°€ ìë™ìœ¼ë¡œ ì²˜ë¦¬

**ê·€ë‚©ì  ë‹¨ê³„** (`| succ n ih =>`):
- ê°€ì„¤ `ih : 2 * (âˆ‘ i âˆˆ range (n+1), i) = n * (n+1)`
- ëª©í‘œ: `2 * (âˆ‘ i âˆˆ range (n+2), i) = (n+1) * (n+2)`
- `rw [Finset.sum_range_succ]`:
  - `âˆ‘ i âˆˆ range (n+2), i`ë¥¼ `(âˆ‘ i âˆˆ range (n+1), i) + (n+1)`ë¡œ ë¶„í•´
  - ì´ê²ƒì€ "ë§ˆì§€ë§‰ í•­ì„ ë¶„ë¦¬"í•˜ëŠ” ê²ƒ! êµì¬ ì¦ëª…ì˜ ì²« ë‹¨ê³„ì™€ ë™ì¼
- `ring_nf`: ë¶„ë°°ë²•ì¹™ ë“±ì„ ì ìš©í•˜ì—¬ ì •ë¦¬
- `linarith`: ê·€ë‚©ì  ê°€ì„¤ `ih`ë¥¼ ìë™ìœ¼ë¡œ ì°¾ì•„ì„œ ì„ í˜• ë¶€ë“±ì‹/ë“±ì‹ ê´€ê³„ë¥¼ í•´ê²°

### 8A.7.6 ë” ê°„ë‹¨í•œ ì¦ëª… (Mathlib í™œìš©)

ì‚¬ì‹¤ Mathlibì—ëŠ” ì´ ê²°ê³¼ê°€ ì´ë¯¸ ìˆë‹¤:

```lean
-- Mathlibì— ì´ë¯¸ ìˆëŠ” ì •ë¦¬
#check Finset.sum_range_id_eq_sum_range_succ
#check Gauss_sum_Icc_of_succ  -- ê°€ìš°ìŠ¤ í•© ê³µì‹

-- ì›ë˜ ë‚˜ëˆ—ì…ˆ í¬í•¨ ë²„ì „ (Mathlib ë°©ì‹)
theorem sum_id_mathlib (n : â„•) :
    âˆ‘ i âˆˆ range (n + 1), i = n * (n + 1) / 2 := by
  symm
  apply Nat.div_eq_of_eq_mul_right (by norm_num : 0 < 2)
  induction n with
  | zero => simp
  | succ n ih =>
    rw [Finset.sum_range_succ, mul_add 2, â† ih]
    ring
```

### 8A.7.7 ì¤‘ê°„ ê´„í˜¸ ì±„ìš°ê¸° ì—°ìŠµ: ì˜ˆì œ 1

```lean
-- ë¹ˆì¹¸ì„ ì±„ì›Œë¼!
theorem sum_range_practice (n : â„•) :
    2 * (âˆ‘ i âˆˆ range (n + 1), i) = n * (n + 1) := by
  induction n with
  | zero =>
    ___           -- ğŸ”² ê¸°ë³¸ ë‹¨ê³„
  | succ n ih =>
    rw [___]      -- ğŸ”² í•©ì˜ ë§ˆì§€ë§‰ í•­ì„ ë¶„ë¦¬í•˜ëŠ” ì •ë¦¬
    ring_nf
    ___           -- ğŸ”² ê·€ë‚©ì  ê°€ì„¤ì„ ì‚¬ìš©í•˜ì—¬ ì™„ì„±
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem sum_range_practice (n : â„•) :
    2 * (âˆ‘ i âˆˆ range (n + 1), i) = n * (n + 1) := by
  induction n with
  | zero =>
    simp
  | succ n ih =>
    rw [Finset.sum_range_succ]
    ring_nf
    linarith
```

</details>

### 8A.7.8 sorry ì—°ìŠµ â€” ì˜ˆì œ 1 ì§ì ‘ ì¦ëª…

```lean
-- ì²˜ìŒë¶€í„° ì§ì ‘ ì¦ëª…í•´ ë³´ë¼!
theorem sum_range_challenge (n : â„•) :
    2 * (âˆ‘ i âˆˆ range (n + 1), i) = n * (n + 1) := by
  sorry
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem sum_range_challenge (n : â„•) :
    2 * (âˆ‘ i âˆˆ range (n + 1), i) = n * (n + 1) := by
  induction n with
  | zero => simp
  | succ n ih =>
    rw [Finset.sum_range_succ]
    ring_nf
    linarith
```

</details>

---

## 8A.8 êµì¬ ì˜ˆì œ 2: **ì²˜ìŒ nê°œì˜ ì–‘ì˜ í™€ìˆ˜ì˜ í•©**

### 8A.8.1 ë¬¸ì œ

> **ì˜ˆì œ 2** (Rosen 5.1ì ˆ): ì²˜ìŒ nê°œì˜ ì–‘ì˜ í™€ìˆ˜ë“¤ì˜ í•©ì— ëŒ€í•œ ê³µì‹ì„ ì¶”ì¸¡í•˜ë¼. ê·¸ë¦¬ê³  ìˆ˜í•™ì  ê·€ë‚©ë²•ì„ ì´ìš©í•˜ì—¬ ì´ ì‹ì´ ì°¸ì„ì„ ì¦ëª…í•˜ë¼.

ë¨¼ì € íŒ¨í„´ì„ ì°¾ì•„ë³´ì:

| n | ì²˜ìŒ nê°œì˜ ì–‘ì˜ í™€ìˆ˜ì˜ í•© | ê°’ |
|---|----------------------|-----|
| 1 | 1 | 1 = 1Â² |
| 2 | 1 + 3 | 4 = 2Â² |
| 3 | 1 + 3 + 5 | 9 = 3Â² |
| 4 | 1 + 3 + 5 + 7 | 16 = 4Â² |
| 5 | 1 + 3 + 5 + 7 + 9 | 25 = 5Â² |

íŒ¨í„´: **ì²˜ìŒ nê°œì˜ ì–‘ì˜ í™€ìˆ˜ì˜ í•©ì€ nÂ²ì´ë‹¤!**

ì¦‰, 1 + 3 + 5 + â‹¯ + (2n - 1) = nÂ²

### 8A.8.2 ìˆ˜í•™ì  ì¦ëª…

**P(n)**: "ì²˜ìŒ nê°œì˜ ì–‘ì˜ í™€ìˆ˜ë“¤ì˜ í•©ì€ nÂ²ì´ë‹¤"  
ì¦‰, 1 + 3 + 5 + â‹¯ + (2n - 1) = nÂ²

**ê¸°ë³¸ ë‹¨ê³„** (n = 1): ì²« ë²ˆì§¸ í™€ìˆ˜ì˜ í•©ì€ 1ì´ê³ , 1Â² = 1ì´ë‹¤. âœ“

**ê·€ë‚©ì  ë‹¨ê³„**: P(k)ê°€ ì°¸ì´ë¼ê³  ê°€ì •í•˜ì. ì¦‰,
```
1 + 3 + 5 + â‹¯ + (2k - 1) = kÂ²   ... (IH)
```

P(k+1)ì´ ì°¸ì„ì„ ë³´ì—¬ì•¼ í•œë‹¤:
```
1 + 3 + 5 + â‹¯ + (2k - 1) + (2k + 1) = (k+1)Â²
```

ì¦ëª…:
```
ì¢Œë³€ = [1 + 3 + 5 + â‹¯ + (2k - 1)] + (2k + 1)
     = kÂ² + (2k + 1)        â† IH ì‚¬ìš©! â­
     = kÂ² + 2k + 1
     = (k + 1)Â²              â† ì¸ìˆ˜ë¶„í•´
     = ìš°ë³€ âœ“
```

### 8A.8.3 Lean4 êµ¬í˜„

kë²ˆì§¸ í™€ìˆ˜ëŠ” `2k - 1`ì´ë‹¤ (k â‰¥ 1ì¼ ë•Œ). ë˜ëŠ” 0ë¶€í„° ì„¸ë©´ `2k + 1`ì´ë‹¤.

Lean4ì—ì„œ: `âˆ‘ i âˆˆ range n, (2 * i + 1)` = në²ˆì§¸ê¹Œì§€ì˜ í™€ìˆ˜ì˜ í•©

```lean
-- êµì¬ ì˜ˆì œ 2: ì²˜ìŒ nê°œì˜ ì–‘ì˜ í™€ìˆ˜ì˜ í•© = nÂ²
-- 1 + 3 + 5 + ... + (2n-1) = nÂ²
-- Lean4ì—ì„œ: âˆ‘ i âˆˆ range n, (2*i + 1) = nÂ²

theorem sum_odd (n : â„•) :
    âˆ‘ i âˆˆ range n, (2 * i + 1) = n ^ 2 := by
  induction n with
  | zero =>
    -- ê¸°ë³¸ ë‹¨ê³„: âˆ‘ i âˆˆ range 0, (2*i+1) = 0Â² = 0
    simp
  | succ n ih =>
    -- ih : âˆ‘ i âˆˆ range n, (2*i+1) = nÂ²
    -- ëª©í‘œ: âˆ‘ i âˆˆ range (n+1), (2*i+1) = (n+1)Â²
    rw [Finset.sum_range_succ]
    -- ëª©í‘œ: (âˆ‘ i âˆˆ range n, (2*i+1)) + (2*n+1) = (n+1)Â²
    rw [ih]
    -- ëª©í‘œ: nÂ² + (2*n+1) = (n+1)Â²
    ring
```

### 8A.8.4 í•œ ì¤„ì”© ì™„ì „ ë¶„ì„

**ê¸°ë³¸ ë‹¨ê³„**: `range 0 = âˆ…`ì´ë¯€ë¡œ ë¹ˆ í•©ì€ 0ì´ê³ , `0Â² = 0`. `simp`ê°€ ì²˜ë¦¬.

**ê·€ë‚©ì  ë‹¨ê³„**:
1. `rw [Finset.sum_range_succ]`: í•©ì—ì„œ ë§ˆì§€ë§‰ í•­ ë¶„ë¦¬
   ```
   âˆ‘(range (n+1)) = âˆ‘(range n) + (2*n+1)
   ```
2. `rw [ih]`: ê·€ë‚©ì  ê°€ì„¤! âˆ‘(range n)ì„ nÂ²ìœ¼ë¡œ **ì¹˜í™˜**(rewrite)!
   ```
   nÂ² + (2*n+1) = (n+1)Â²
   ```
3. `ring`: nÂ² + 2n + 1 = (n+1)Â²ì€ ëŒ€ìˆ˜ì ìœ¼ë¡œ ì°¸. `ring`ì´ ìë™ í™•ì¸.

> â­ 2ë‹¨ê³„ì˜ `rw [ih]`ê°€ ë°”ë¡œ **"ê·€ë‚©ì  ê°€ì„¤ì„ ì¹˜í™˜(ìŠˆí¼í¬ì§€ì…˜)í•˜ëŠ” ê²ƒ"**ì´ë‹¤! ì´ì „ ê²°ê³¼ë¥¼ í˜„ì¬ ì‹ì— "ë¼ì›Œë„£ì–´" ë‹¨ìˆœí™”ì‹œí‚¤ëŠ” í•µì‹¬ ê¸°ë²•ì´ë‹¤.

### 8A.8.5 ì¤‘ê°„ ê´„í˜¸ ì±„ìš°ê¸° ì—°ìŠµ

```lean
-- ë¹ˆì¹¸ì„ ì±„ì›Œë¼!
theorem sum_odd_practice (n : â„•) :
    âˆ‘ i âˆˆ range n, (2 * i + 1) = n ^ 2 := by
  induction n with
  | zero => simp
  | succ n ih =>
    rw [___]      -- ğŸ”² í•©ì˜ ë§ˆì§€ë§‰ í•­ì„ ë¶„ë¦¬
    rw [___]      -- ğŸ”² ê·€ë‚©ì  ê°€ì„¤ ì ìš©
    ___           -- ğŸ”² ëŒ€ìˆ˜ì  ê³„ì‚°ìœ¼ë¡œ ë§ˆë¬´ë¦¬
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem sum_odd_practice (n : â„•) :
    âˆ‘ i âˆˆ range n, (2 * i + 1) = n ^ 2 := by
  induction n with
  | zero => simp
  | succ n ih =>
    rw [Finset.sum_range_succ]
    rw [ih]
    ring
```

</details>

---

## 8A.9 êµì¬ ì˜ˆì œ 3: **ë“±ë¹„ìˆ˜ì—´ì˜ í•©** (2ì˜ ê±°ë“­ì œê³±)

### 8A.9.1 ë¬¸ì œ

> **ì˜ˆì œ 3** (Rosen 5.1ì ˆ): ìˆ˜í•™ì  ê·€ë‚©ë²•ì„ ì´ìš©í•˜ì—¬ ëª¨ë“  ìŒì´ ì•„ë‹Œ ì •ìˆ˜ nì— ëŒ€í•´  
> 1 + 2 + 2Â² + â‹¯ + 2â¿ = 2â¿âºÂ¹ - 1  
> ì„ì„ ë³´ì—¬ë¼.

### 8A.9.2 ìˆ˜í•™ì  ì¦ëª…

**P(n)**: "1 + 2 + 2Â² + â‹¯ + 2â¿ = 2â¿âºÂ¹ - 1"

**ê¸°ë³¸ ë‹¨ê³„** (n = 0):
- ì¢Œë³€: 2â° = 1
- ìš°ë³€: 2Â¹ - 1 = 2 - 1 = 1 âœ“

**ê·€ë‚©ì  ë‹¨ê³„**: P(k)ê°€ ì°¸ì´ë¼ê³  ê°€ì •í•˜ì. ì¦‰,
```
1 + 2 + 2Â² + â‹¯ + 2áµ = 2áµâºÂ¹ - 1   ... (IH)
```

P(k+1)ì´ ì°¸ì„ì„ ë³´ì—¬ì•¼ í•œë‹¤:
```
ì¢Œë³€ = 1 + 2 + 2Â² + â‹¯ + 2áµ + 2áµâºÂ¹
     = [2áµâºÂ¹ - 1] + 2áµâºÂ¹         â† IH ì‚¬ìš©! â­
     = 2 Â· 2áµâºÂ¹ - 1
     = 2áµâºÂ² - 1
     = ìš°ë³€ âœ“
```

### 8A.9.3 Lean4 êµ¬í˜„

ìì—°ìˆ˜ì—ì„œ `2â¿âºÂ¹ - 1`ì€ í•­ìƒ â‰¥ 0ì´ë¯€ë¡œ ìì—°ìˆ˜ ëº—ì…ˆì´ ì•ˆì „í•˜ë‹¤.

```lean
-- êµì¬ ì˜ˆì œ 3: âˆ‘ i âˆˆ range (n+1), 2^i = 2^(n+1) - 1
theorem geom_sum_two (n : â„•) :
    âˆ‘ i âˆˆ range (n + 1), 2 ^ i = 2 ^ (n + 1) - 1 := by
  induction n with
  | zero =>
    -- ê¸°ë³¸ ë‹¨ê³„: âˆ‘ i âˆˆ range 1, 2^i = 2^1 - 1
    simp
  | succ n ih =>
    -- ih : âˆ‘ i âˆˆ range (n+1), 2^i = 2^(n+1) - 1
    -- ëª©í‘œ: âˆ‘ i âˆˆ range (n+2), 2^i = 2^(n+2) - 1
    rw [Finset.sum_range_succ]
    -- ëª©í‘œ: (âˆ‘ i âˆˆ range (n+1), 2^i) + 2^(n+1) = 2^(n+2) - 1
    rw [ih]
    -- ëª©í‘œ: (2^(n+1) - 1) + 2^(n+1) = 2^(n+2) - 1
    -- ìì—°ìˆ˜ ëº—ì…ˆì— ì£¼ì˜í•˜ë©° ê³„ì‚°
    have h : 1 â‰¤ 2 ^ (n + 1) := Nat.one_le_pow _ _ (by norm_num)
    omega
```

### 8A.9.4 ì¤‘ê°„ ê´„í˜¸ ì±„ìš°ê¸° ì—°ìŠµ

```lean
theorem geom_sum_two_practice (n : â„•) :
    âˆ‘ i âˆˆ range (n + 1), 2 ^ i = 2 ^ (n + 1) - 1 := by
  induction n with
  | zero => simp
  | succ n ih =>
    rw [___]      -- ğŸ”² í•©ì˜ ë§ˆì§€ë§‰ í•­ ë¶„ë¦¬
    rw [___]      -- ğŸ”² ê·€ë‚©ì  ê°€ì„¤
    have h : 1 â‰¤ 2 ^ (n + 1) := ___  -- ğŸ”² 2^(n+1) â‰¥ 1ì„ì„ ë³´ì—¬ë¼
    omega
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem geom_sum_two_practice (n : â„•) :
    âˆ‘ i âˆˆ range (n + 1), 2 ^ i = 2 ^ (n + 1) - 1 := by
  induction n with
  | zero => simp
  | succ n ih =>
    rw [Finset.sum_range_succ]
    rw [ih]
    have h : 1 â‰¤ 2 ^ (n + 1) := Nat.one_le_pow _ _ (by norm_num)
    omega
```

</details>

---

## 8A.10 êµì¬ ì˜ˆì œ 4: **ë“±ë¹„ìˆ˜ì—´ì˜ í•©** (ì¼ë°˜ í˜•íƒœ)

### 8A.10.1 ë¬¸ì œ

> **ì˜ˆì œ 4** (Rosen 5.1ì ˆ): ìˆ˜í•™ì  ê·€ë‚©ë²•ì„ ì´ìš©í•˜ì—¬ ì²« ë²ˆì§¸ í•­ì´ a, ê³µë¹„ê°€ rì¸ ë“±ë¹„ìˆ˜ì—´ì˜ ìœ í•œê°œ í•­ì˜ í•©ì— ëŒ€í•œ ë‹¤ìŒ ê³µì‹ì„ ì¦ëª…í•˜ë¼.  
> r â‰  1ì¼ ë•Œ, âˆ‘(j=0 to n) arÊ² = a + ar + arÂ² + â‹¯ + arâ¿ = (arâ¿âºÂ¹ - a)/(r - 1)

### 8A.10.2 Lean4ì—ì„œì˜ êµ¬í˜„ ì „ëµ

ì´ ë¬¸ì œëŠ” ì¼ë°˜ì ì¸ rì— ëŒ€í•´ ì¦ëª…í•´ì•¼ í•˜ë¯€ë¡œ, ë‚˜ëˆ—ì…ˆì„ í”¼í•˜ê¸° ìœ„í•´ ì–‘ë³€ì— (r-1)ì„ ê³±í•œ í˜•íƒœë¡œ ì¦ëª…í•œë‹¤. ì •ìˆ˜(â„¤)ë¥¼ ì‚¬ìš©í•˜ë©´ ë” ìì—°ìŠ¤ëŸ½ë‹¤.

```lean
-- ë“±ë¹„ìˆ˜ì—´ì˜ í•© (ì–‘ë³€ì— (r-1)ì„ ê³±í•œ í˜•íƒœ)
-- a * (r^(n+1) - 1) = (r - 1) * âˆ‘ i âˆˆ range (n+1), a * r^i
-- ê°„ë‹¨í•œ ê²½ìš°: a = 1
theorem geom_sum_formula (r : â„¤) (n : â„•) :
    (r - 1) * (âˆ‘ i âˆˆ range (n + 1), r ^ i) = r ^ (n + 1) - 1 := by
  induction n with
  | zero => simp
  | succ n ih =>
    rw [Finset.sum_range_succ, mul_add]
    rw [ih]
    ring
```

### 8A.10.3 ë¶„ì„

ì´ ì¦ëª…ì´ íŠ¹íˆ ìš°ì•„í•œ ì´ìœ :

1. `rw [Finset.sum_range_succ]`: í•©ì˜ ë§ˆì§€ë§‰ í•­ ë¶„ë¦¬ (ì–¸ì œë‚˜ ì²« ë²ˆì§¸ ë‹¨ê³„)
2. `rw [mul_add]`: ë¶„ë°°ë²•ì¹™ ì ìš© â€” `(r-1) * (í•© + râ¿âºÂ¹) = (r-1)*í•© + (r-1)*râ¿âºÂ¹`
3. `rw [ih]`: ê·€ë‚©ì  ê°€ì„¤! `(r-1)*í•©`ì„ `râ¿âºÂ¹ - 1`ë¡œ ì¹˜í™˜
4. `ring`: ë‚˜ë¨¸ì§€ëŠ” ëŒ€ìˆ˜ì  ê³„ì‚°ìœ¼ë¡œ ë§ˆë¬´ë¦¬

### 8A.10.4 sorry ì—°ìŠµ

```lean
-- ì§ì ‘ ì¦ëª…í•´ ë³´ë¼!
theorem geom_sum_challenge (r : â„¤) (n : â„•) :
    (r - 1) * (âˆ‘ i âˆˆ range (n + 1), r ^ i) = r ^ (n + 1) - 1 := by
  sorry
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem geom_sum_challenge (r : â„¤) (n : â„•) :
    (r - 1) * (âˆ‘ i âˆˆ range (n + 1), r ^ i) = r ^ (n + 1) - 1 := by
  induction n with
  | zero => simp
  | succ n ih =>
    rw [Finset.sum_range_succ, mul_add, ih]
    ring
```

</details>

---

## 8A.11 ê·€ë‚©ë²• ì¦ëª…ì˜ **ì¼ë°˜ íŒ¨í„´** ìš”ì•½

êµì¬(Rosen 5.1.5ì ˆ)ì—ì„œ ì œì‹œí•˜ëŠ” ìˆ˜í•™ì  ê·€ë‚©ë²• ì¦ëª…ì˜ **ëª¨í˜•**ì„ Lean4ì™€ ëŒ€ì‘ì‹œí‚¤ì:

### êµì¬ì˜ 7ë‹¨ê³„ ëª¨í˜•

| ë‹¨ê³„ | êµì¬ ë‚´ìš© | Lean4 ëŒ€ì‘ |
|------|---------|----------|
| 1 | ëª…ì œë¥¼ P(n) í˜•íƒœë¡œ í‘œí˜„ | `theorem ... (n : â„•) : P n` |
| 2 | "ê¸°ë³¸ ë‹¨ê³„" â€” P(b) ì°¸ í™•ì¸ | `\| zero => ...` |
| 3 | "ê·€ë‚©ì  ë‹¨ê³„" â€” P(k) ê°€ì • ê¸°ìˆ  | `\| succ n ih => ...` |
| 4 | P(k+1)ì´ ë¬´ì—‡ì¸ì§€ ëª…ì‹œ | ìë™ìœ¼ë¡œ ëª©í‘œì— ë‚˜íƒ€ë‚¨ |
| 5 | P(k)ë¥¼ ì´ìš©í•˜ì—¬ P(k+1) ì¦ëª… | `rw [ih]` (ì¹˜í™˜!) |
| 6 | ê·€ë‚© ë‹¨ê³„ ì™„ì„± ì„ ì–¸ | ì¦ëª…ì´ ì™„ì„±ë˜ë©´ ìë™ |
| 7 | ê²°ë¡ : ìˆ˜í•™ì  ê·€ë‚©ë²•ì— ì˜í•´ âˆ€n P(n) | Lean4ê°€ ìë™ í™•ì¸ |

### ê·€ë‚©ë²• ì¦ëª…ì˜ Lean4 í…œí”Œë¦¿

```lean
-- ì¼ë°˜ì ì¸ ê·€ë‚©ë²• ì¦ëª… í…œí”Œë¦¿
theorem my_induction_proof (n : â„•) : P n := by
  induction n with
  | zero =>
    -- ê¸°ë³¸ ë‹¨ê³„: P 0ì„ ì¦ëª…
    -- ë³´í†µ simp, norm_num, rfl ë“±ìœ¼ë¡œ ëë‚¨
    sorry
  | succ n ih =>
    -- ê·€ë‚©ì  ë‹¨ê³„
    -- ih : P n (ê·€ë‚©ì  ê°€ì„¤)
    -- ëª©í‘œ: P (n + 1)
    -- ì „ëµ:
    -- 1. ì‹ì˜ êµ¬ì¡°ë¥¼ ë¶„í•´ (sum_range_succ ë“±)
    -- 2. ihë¥¼ rwë¡œ ì¹˜í™˜ (í•µì‹¬!)
    -- 3. ring, linarith, omega ë“±ìœ¼ë¡œ ë§ˆë¬´ë¦¬
    sorry
```

---

## 8A.12 ì—°ìŠµ ì„¸íŠ¸

### ì—°ìŠµ 8A.1: ë§ì…ˆì˜ êµí™˜ë²•ì¹™ (MyNat)

êµì¬ì™€ Mathematics in Leanì—ì„œ ëª¨ë‘ ë‹¤ë£¨ëŠ” ê¸°ì´ˆ ë¬¸ì œì´ë‹¤. ìì—°ìˆ˜ë¥¼ ì§ì ‘ ì •ì˜í•˜ê³  ë§ì…ˆì˜ êµí™˜ë²•ì¹™ì„ ì¦ëª…í•œë‹¤.

```lean
-- ìì—°ìˆ˜ë¥¼ ì§ì ‘ ì •ì˜
inductive MyNat where
  | zero : MyNat
  | succ : MyNat â†’ MyNat

namespace MyNat

def add : MyNat â†’ MyNat â†’ MyNat
  | x, zero => x
  | x, succ y => succ (add x y)

-- ë³´ì¡°ì •ë¦¬ 1: zero_add
lemma zero_add (n : MyNat) : add zero n = n := by
  sorry

-- ë³´ì¡°ì •ë¦¬ 2: succ_add
lemma succ_add (m n : MyNat) : add (succ m) n = succ (add m n) := by
  sorry

-- ì£¼ ì •ë¦¬: ë§ì…ˆì˜ êµí™˜ë²•ì¹™
theorem add_comm (m n : MyNat) : add m n = add n m := by
  sorry

end MyNat
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
lemma zero_add (n : MyNat) : add zero n = n := by
  induction n with
  | zero => rfl
  | succ n ih => rw [add, ih]

lemma succ_add (m n : MyNat) : add (succ m) n = succ (add m n) := by
  induction n with
  | zero => rfl
  | succ n ih => rw [add, ih]; rfl

theorem add_comm (m n : MyNat) : add m n = add n m := by
  induction n with
  | zero => rw [zero_add]; rfl
  | succ n ih => rw [add, succ_add, ih]
```

</details>

### ì—°ìŠµ 8A.2: nì˜ ì œê³±ì˜ í•© (êµì¬ ì—°ìŠµë¬¸ì œ 3)

```lean
-- nì´ ì–‘ì˜ ì •ìˆ˜ì¼ ë•Œ 1Â² + 2Â² + ... + nÂ² = n(n+1)(2n+1)/6
-- ë¶„ìˆ˜ë¥¼ í”¼í•˜ê¸° ìœ„í•´ 6ì„ ê³±í•œ ë²„ì „
theorem sum_sq (n : â„•) :
    6 * (âˆ‘ i âˆˆ range (n + 1), i ^ 2) = n * (n + 1) * (2 * n + 1) := by
  sorry
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem sum_sq (n : â„•) :
    6 * (âˆ‘ i âˆˆ range (n + 1), i ^ 2) = n * (n + 1) * (2 * n + 1) := by
  induction n with
  | zero => simp
  | succ n ih =>
    rw [Finset.sum_range_succ, mul_add]
    rw [ih]
    ring
```

</details>

### ì—°ìŠµ 8A.3: nì˜ ì„¸ì œê³±ì˜ í•© (êµì¬ ì—°ìŠµë¬¸ì œ 4)

```lean
-- 1Â³ + 2Â³ + ... + nÂ³ = (n(n+1)/2)Â²
-- ë¶„ìˆ˜ë¥¼ í”¼í•˜ê¸° ìœ„í•´ 4ë¥¼ ê³±í•œ ë²„ì „
theorem sum_cube (n : â„•) :
    4 * (âˆ‘ i âˆˆ range (n + 1), i ^ 3) = (n * (n + 1)) ^ 2 := by
  sorry
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem sum_cube (n : â„•) :
    4 * (âˆ‘ i âˆˆ range (n + 1), i ^ 3) = (n * (n + 1)) ^ 2 := by
  induction n with
  | zero => simp
  | succ n ih =>
    rw [Finset.sum_range_succ, mul_add]
    rw [ih]
    ring
```

</details>

### ì—°ìŠµ 8A.4: ê°„ë‹¨í•œ ë¶€ë“±ì‹ â€” n < 2â¿ (êµì¬ ì˜ˆì œ 5)

```lean
-- êµì¬ ì˜ˆì œ 5: ëª¨ë“  ì–‘ì˜ ì •ìˆ˜ nì— ëŒ€í•´ n < 2^n
-- ì¤‘ê°„ê´„í˜¸ ì±„ìš°ê¸° í˜•íƒœ
theorem n_lt_pow_two (n : â„•) (hn : 0 < n) : n < 2 ^ n := by
  induction n with
  | zero => ___          -- ğŸ”² 0 < 0ì€ ê±°ì§“
  | succ n ih =>
    rcases Nat.eq_or_gt_of_le (Nat.one_le_iff_ne_zero.mpr (by omega)) with h | h
    Â· -- n + 1 = 1ì¸ ê²½ìš°
      subst h
      ___                -- ğŸ”² 1 < 2^1 = 2ë¥¼ ë³´ì—¬ë¼
    Â· -- n + 1 > 1, ì¦‰ n > 0ì¸ ê²½ìš°
      have ih' := ih (by omega : 0 < n)
      calc n + 1 < 2 ^ n + 1 := by ___   -- ğŸ”² ih'ë¥¼ ì‚¬ìš©
           _ â‰¤ 2 ^ n + 2 ^ n := by ___   -- ğŸ”² 1 â‰¤ 2^n
           _ = 2 ^ (n + 1) := by ___     -- ğŸ”² ê±°ë“­ì œê³± ë²•ì¹™
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem n_lt_pow_two (n : â„•) (hn : 0 < n) : n < 2 ^ n := by
  induction n with
  | zero => omega
  | succ n ih =>
    rcases Nat.eq_or_gt_of_le (Nat.one_le_iff_ne_zero.mpr (by omega)) with h | h
    Â· subst h; norm_num
    Â· have ih' := ih (by omega : 0 < n)
      calc n + 1 < 2 ^ n + 1 := by omega
           _ â‰¤ 2 ^ n + 2 ^ n := by linarith [Nat.one_le_pow n 2 (by norm_num)]
           _ = 2 ^ (n + 1) := by ring
```

ë˜ëŠ” ë” ê°„ê²°í•˜ê²Œ:

```lean
theorem n_lt_pow_two' (n : â„•) (hn : 0 < n) : n < 2 ^ n := by
  induction n with
  | zero => omega
  | succ n ih =>
    by_cases h : n = 0
    Â· subst h; norm_num
    Â· have : n < 2 ^ n := ih (Nat.pos_of_ne_zero h)
      have : 1 â‰¤ 2 ^ n := Nat.one_le_pow _ _ (by norm_num)
      linarith [pow_succ 2 n]
```

</details>

### ì—°ìŠµ 8A.5 (ë„ì „): ì¬ê·€ í•¨ìˆ˜ ì •ì˜ì™€ ê·€ë‚©ë²•

Mathematics in Leanì˜ `fac` ì˜ˆì œë¥¼ ë”°ë¼, **íŒ©í† ë¦¬ì–¼**(factorial) í•¨ìˆ˜ë¥¼ ì§ì ‘ ì •ì˜í•˜ê³ , `fac n > 0`ì„ ì¦ëª…í•˜ë¼.

```lean
-- íŒ©í† ë¦¬ì–¼ í•¨ìˆ˜ ì •ì˜
def fac : â„• â†’ â„•
  | 0 => 1
  | n + 1 => (n + 1) * fac n

-- fac(n) > 0 ì¦ëª…
theorem fac_pos (n : â„•) : 0 < fac n := by
  sorry
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem fac_pos (n : â„•) : 0 < fac n := by
  induction n with
  | zero =>
    rw [fac]           -- fac 0 = 1
    exact zero_lt_one  -- 0 < 1
  | succ n ih =>
    rw [fac]           -- fac (n+1) = (n+1) * fac n
    exact mul_pos n.succ_pos ih
    -- n.succ_pos : 0 < n + 1
    -- ih : 0 < fac n
    -- mul_pos : 0 < a â†’ 0 < b â†’ 0 < a * b
```

</details>

---

## 8A.13 ì „ìˆ  ìš”ì•½

### ì´ ì¥ì—ì„œ ìƒˆë¡œ ë°°ìš´/ê°•ì¡°í•œ ì „ìˆ  & ê°œë…

| ì „ìˆ /ê°œë… | ìš©ë„ | ì˜ˆì‹œ |
|---------|------|------|
| `induction n with` | ìì—°ìˆ˜ nì— ëŒ€í•œ ê·€ë‚©ë²• ì‹œì‘ | `\| zero => ... \| succ n ih => ...` |
| `\| zero =>` | ê¸°ë³¸ ë‹¨ê³„ (n = 0) | `simp`, `rfl`, `norm_num` |
| `\| succ n ih =>` | ê·€ë‚©ì  ë‹¨ê³„, `ih`ëŠ” ê·€ë‚©ì  ê°€ì„¤ | `rw [ih]` |
| `rw [ih]` | ê·€ë‚©ì  ê°€ì„¤ë¡œ ì¹˜í™˜ (**í•µì‹¬!**) | í•©ì˜ ë¶€ë¶„ì„ ë‹«íŒ í˜•íƒœë¡œ êµì²´ |
| `Finset.sum_range_succ` | í•©ì˜ ë§ˆì§€ë§‰ í•­ ë¶„ë¦¬ | `âˆ‘(range(n+1)) = âˆ‘(range n) + f(n)` |
| `ring` | ëŒ€ìˆ˜ì  ë“±ì‹ ìë™ ì¦ëª… | `nÂ² + 2n + 1 = (n+1)Â²` |
| `linarith` | ì„ í˜• ë¶€ë“±ì‹/ë“±ì‹ ê´€ê³„ ìë™ í•´ê²° | ê°€ì„¤ë“¤ì˜ ì„ í˜• ê²°í•©ìœ¼ë¡œ ê²°ë¡  ë„ì¶œ |
| `omega` | ìì—°ìˆ˜/ì •ìˆ˜ ì„ í˜• ì‚°ìˆ  | `n + 1 > 0`, ê°„ë‹¨í•œ ë“±ì‹ |
| `mul_pos` | ì–‘ìˆ˜ Ã— ì–‘ìˆ˜ = ì–‘ìˆ˜ | `0 < a â†’ 0 < b â†’ 0 < a * b` |
| `have` | ì§€ì—­ ë³´ì¡°ì •ë¦¬ | `have h : ... := by ...` |

### ì´ì „ ì¥ ì „ìˆ  (ë³µìŠµ)

| ì „ìˆ  | ìµœì´ˆ ë“±ì¥ | ìš©ë„ |
|------|---------|------|
| `intro` | Part 4 | ê°€ì • ë„ì… |
| `exact`, `apply` | Part 4 | ì¦ëª… ì™„ì„±/ì ìš© |
| `rw`, `simp` | Part 4-5 | ì¹˜í™˜, ë‹¨ìˆœí™” |
| `norm_num` | Part 7-A | ìˆ˜ì¹˜ ê³„ì‚° |
| `use`, `obtain` | Part 7-A | ì¡´ì¬ ì¦ëª… |
| `constructor` | Part 7-A | âˆ§, â†” ë¶„ë¦¬ |
| `.mp`, `.mpr` | Part 7-A | â†”ì˜ í•œ ë°©í–¥ ì¶”ì¶œ |

---

## 8A.14 í•µì‹¬ ì •ë¦¬ ìš”ì•½

1. **ìˆ˜í•™ì  ê·€ë‚©ë²•ì˜ ì›ë¦¬**: P(ê¸°ë³¸ê°’) âˆ§ âˆ€k(P(k) â†’ P(k+1)) â†’ âˆ€n P(n)

2. **Lean4ì—ì„œ ê·€ë‚©ë²•**: `induction n with | zero => ... | succ n ih => ...`

3. **ê·€ë‚©ì  ê°€ì„¤ í™œìš©**: `rw [ih]`ë¡œ ì´ì „ ê²°ê³¼ë¥¼ í˜„ì¬ ì‹ì— ì¹˜í™˜

4. **lemma vs theorem**: ê¸°ëŠ¥ ë™ì¼, ì˜ë„ë§Œ ë‹¤ë¦„. lemmaëŠ” ë„ìš°ë¯¸, theoremì€ ì£¼ìš” ê²°ê³¼

5. **â†’ vs â†”**: â†’ëŠ” í•œ ë°©í–¥, â†”ëŠ” ì–‘ ë°©í–¥. `rw`ëŠ” â†”ì—ë§Œ ì‚¬ìš© ê°€ëŠ¥

6. **ì¦ëª… íŒ¨í„´**: í•© ë¶„ë¦¬(`sum_range_succ`) â†’ IH ì¹˜í™˜(`rw [ih]`) â†’ ëŒ€ìˆ˜ ê³„ì‚°(`ring`)

7. **êµì¬ ì˜ˆì œ ì •ë¦¬**:
   - ì˜ˆì œ 1: 1 + 2 + ... + n = n(n+1)/2
   - ì˜ˆì œ 2: 1 + 3 + ... + (2n-1) = nÂ²
   - ì˜ˆì œ 3: 1 + 2 + ... + 2â¿ = 2â¿âºÂ¹ - 1
   - ì˜ˆì œ 4: ë“±ë¹„ìˆ˜ì—´ì˜ í•© ê³µì‹

---

## ë‹¤ìŒ í¸(8-B) ì˜ˆê³ 

**ì œ8-Bí¸**ì—ì„œëŠ” êµì¬ì˜ ë‚˜ë¨¸ì§€ ì˜ˆì œë“¤ì„ ë‹¤ë£¬ë‹¤:
- **ì˜ˆì œ 5~7**: **ë¶€ë“±ì‹**(inequality)ì— ëŒ€í•œ ê·€ë‚©ë²• ì¦ëª… (n < 2â¿, 2â¿ < n!, ì¡°í™”ê¸‰ìˆ˜)
- **ì˜ˆì œ 8~9**: **ë‚˜ëˆ„ì–´ì§**(divisibility)ì— ëŒ€í•œ ê·€ë‚©ë²• ì¦ëª… (nÂ³ - nì€ 3ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì§)
- **ì˜ˆì œ 10~11**: **ì§‘í•©**(set)ì— ëŒ€í•œ ê·€ë‚©ë²• ì¦ëª… (ë¶€ë¶„ì§‘í•©ì˜ ê°œìˆ˜, ë“œ ëª¨ë¥´ê°„ ë²•ì¹™)
- Lean4ì˜ `Nat.strong_rec_on`ì„ ì´ìš©í•œ **ê°• ê·€ë‚©ë²•** ë§›ë³´ê¸°

---

**(ë)**
