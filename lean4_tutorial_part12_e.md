# Part 12-E: ê´€ê³„ì˜ íì‡„ (Closure of Relations)

> **Rosen ì´ì‚°ìˆ˜í•™ 8íŒ Â· Section 9.4 ê¸°ë°˜**
> ã€Mathematics in Leanã€ + Lean 4 ê³µì‹í™”

---

## 0. ë“¤ì–´ê°€ë©°: ì´ íŒŒíŠ¸ì—ì„œ ë°°ìš¸ ê²ƒ

ì§€ê¸ˆê¹Œì§€ ê´€ê³„ì˜ ì„±ì§ˆ(ë°˜ì‚¬ì , ëŒ€ì¹­ì , ë°˜ëŒ€ì¹­ì , ì „ì´ì )ì„ ë°°ì› ë‹¤. ê·¸ëŸ°ë° ì£¼ì–´ì§„ ê´€ê³„ê°€ ì›í•˜ëŠ” ì„±ì§ˆì„ ê°–ì§€ ì•Šì„ ë•ŒëŠ” ì–´ë–»ê²Œ í• ê¹Œ? ì´ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë°”ë¡œ **íì‡„**(closure)ì´ë‹¤.

íì‡„ë€ "ì›ë˜ ê´€ê³„ë¥¼ í¬í•¨í•˜ë©´ì„œ ì›í•˜ëŠ” ì„±ì§ˆì„ ë§Œì¡±ì‹œí‚¤ëŠ” **ê°€ì¥ ì‘ì€** ê´€ê³„"ì´ë‹¤. ë§ˆì¹˜ ìš¸íƒ€ë¦¬ë¥¼ ì¹˜ë“¯ì´, ì›ë˜ ê´€ê³„ë¥¼ ê°ì‹¸ì„œ ë¹ˆ ê³³ì„ ë©”ê¾¸ëŠ” ê²ƒì´ë‹¤.

ì´ íŒŒíŠ¸ì—ì„œ ë‹¤ë£¨ëŠ” ë‚´ìš©:

1. **íì‡„ì˜ ì¼ë°˜ì  ì •ì˜** â€” ì„±ì§ˆ Pì— ëŒ€í•œ íì‡„
2. **ë°˜ì‚¬ íì‡„**(reflexive closure) â€” R âˆª Î”
3. **ëŒ€ì¹­ íì‡„**(symmetric closure) â€” R âˆª Râ»Â¹
4. **ì „ì´ íì‡„**(transitive closure) â€” ê°€ì¥ ë³µì¡í•˜ê³  ì¤‘ìš”í•œ íì‡„
5. **ê²½ë¡œì™€ ì—°ê²° ê´€ê³„** â€” ë°©í–¥ì„± ê·¸ë˜í”„ì—ì„œì˜ ê²½ë¡œ
6. **ì›Œì…œ ì•Œê³ ë¦¬ì¦˜**(Warshall's Algorithm) â€” ì „ì´ íì‡„ì˜ íš¨ìœ¨ì  ê³„ì‚°

### ì´ íŒŒíŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” í•µì‹¬ Lean 4 ê°œë…

| ê°œë… | ì„¤ëª… |
|------|------|
| `Relation.ReflTransGen` | ë°˜ì‚¬-ì „ì´ íì‡„ (Mathlib) |
| `Relation.TransGen` | ì „ì´ íì‡„ (Mathlib) |
| `inductive` | ê·€ë‚©ì  íƒ€ì… ì •ì˜ |
| `Fin n` | {0, 1, ..., n-1} ìœ í•œ íƒ€ì… |
| `decide` | ê²°ì • ê°€ëŠ¥í•œ ëª…ì œ ìë™ íŒì • |
| `constructor` | âˆ§, â†” ë“±ì˜ ë¶„ë¦¬ |
| `Or.inl`, `Or.inr` | âˆ¨ì˜ ì¢Œ/ìš° ì¦ëª… |

---

## 1. íì‡„ì˜ ì¼ë°˜ì  ì •ì˜

### 1.1 ì§ê´€ì  ì´í•´

**ë¹„ìœ **: ì§‘í•© A ìœ„ì˜ ê´€ê³„ Rì´ ìˆëŠ”ë°, ì´ ê´€ê³„ê°€ ì–´ë–¤ ì„±ì§ˆ Pë¥¼ ë§Œì¡±ì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤ê³  í•˜ì. "Rì„ ìµœì†Œí•œìœ¼ë¡œ í™•ì¥í•´ì„œ Pë¥¼ ë§Œì¡±ì‹œí‚¤ê²Œ ë§Œë“¤ì!" â€” ì´ê²ƒì´ ë°”ë¡œ **íì‡„**(closure)ì´ë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ì¹œêµ¬ ê´€ê³„ë¥¼ ìƒê°í•´ ë³´ì. "ë‚˜ â†’ ì² ìˆ˜"ë¼ëŠ” ì¼ë°©ì  ê´€ê³„ê°€ ìˆë‹¤ê³  í•˜ì. ì´ê²ƒì„ **ëŒ€ì¹­ì **ìœ¼ë¡œ ë§Œë“¤ë ¤ë©´ "ì² ìˆ˜ â†’ ë‚˜"ë„ ì¶”ê°€í•˜ë©´ ëœë‹¤. ì´ë ‡ê²Œ ìµœì†Œí•œì˜ ì¶”ê°€ë§Œìœ¼ë¡œ ì›í•˜ëŠ” ì„±ì§ˆì„ ë§Œì¡±ì‹œí‚¤ëŠ” ê²ƒì´ íì‡„ì´ë‹¤.

### 1.2 í˜•ì‹ì  ì •ì˜

> **ì •ì˜ 1** (Rosen): Rì´ ì§‘í•© Aì— ëŒ€í•œ ê´€ê³„ì´ê³ , Pì— ëŒ€í•œ Rì˜ **íì‡„**(closure)ëŠ”, ë§Œì•½ ì¡´ì¬í•œë‹¤ë©´, Rì„ í¬í•¨í•˜ë©´ì„œ ì„±ì§ˆ Pë¥¼ ë§Œì¡±ì‹œí‚¤ëŠ” ì§‘í•© Aì— ëŒ€í•œ ê´€ê³„ Së¡œ, SëŠ” Rì„ í¬í•¨í•˜ê³  ì„±ì§ˆ Pë¥¼ ê°–ëŠ” ëª¨ë“  ë¶€ë¶„ì§‘í•© A Ã— Aì˜ ë¶€ë¶„ì§‘í•©ì´ë‹¤.

ì‰½ê²Œ í’€ì–´ ë§í•˜ë©´:
- Rì˜ P-íì‡„ SëŠ” **ì„¸ ê°€ì§€ ì¡°ê±´**ì„ ë™ì‹œì— ë§Œì¡±í•œë‹¤:
  1. R âŠ† S (ì›ë˜ ê´€ê³„ë¥¼ í¬í•¨í•œë‹¤)
  2. SëŠ” ì„±ì§ˆ Pë¥¼ ë§Œì¡±í•œë‹¤
  3. SëŠ” ìœ„ ë‘ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ê´€ê³„ ì¤‘ **ê°€ì¥ ì‘ë‹¤**

### 1.3 Lean 4ì—ì„œì˜ í‘œí˜„

Lean 4ì—ì„œ ê´€ê³„ëŠ” `Î± â†’ Î± â†’ Prop` íƒ€ì…ìœ¼ë¡œ í‘œí˜„ëœë‹¤. íì‡„ì˜ ì¼ë°˜ì  ê°œë…ì„ ì •ì˜í•´ ë³´ì:

```lean
-- ê´€ê³„ì˜ ê¸°ë³¸ íƒ€ì…
-- R : Î± â†’ Î± â†’ Prop ì€ "Î± ìœ„ì˜ ì´í•­ ê´€ê³„"ë¥¼ ëœ»í•œë‹¤
-- R a b ê°€ Trueì´ë©´ (a, b) âˆˆ Rì´ë¼ëŠ” ëœ»ì´ë‹¤

-- íì‡„ì˜ ì¼ë°˜ì  ê°œë…: Rì„ í¬í•¨í•˜ê³  ì„±ì§ˆ Pë¥¼ ë§Œì¡±í•˜ëŠ” ê°€ì¥ ì‘ì€ ê´€ê³„
-- (ì‹¤ì œë¡œ Leanì—ì„œëŠ” ê° íì‡„ë¥¼ ì§ì ‘ ê·€ë‚©ì ìœ¼ë¡œ ì •ì˜í•˜ëŠ” ê²ƒì´ ë” ì¼ë°˜ì ì´ë‹¤)
def isClosure (R S : Î± â†’ Î± â†’ Prop) (P : (Î± â†’ Î± â†’ Prop) â†’ Prop) : Prop :=
  (âˆ€ a b, R a b â†’ S a b) âˆ§  -- R âŠ† S
  P S âˆ§                       -- SëŠ” ì„±ì§ˆ Pë¥¼ ë§Œì¡±
  (âˆ€ T, (âˆ€ a b, R a b â†’ T a b) â†’ P T â†’ âˆ€ a b, S a b â†’ T a b)
  -- SëŠ” ê°€ì¥ ì‘ë‹¤: Rì„ í¬í•¨í•˜ê³  Pë¥¼ ë§Œì¡±í•˜ëŠ” ëª¨ë“  Tì— ëŒ€í•´ S âŠ† T
```

ìœ„ ì •ì˜ê°€ ë³µì¡í•´ ë³´ì´ì§€ë§Œ, í•µì‹¬ì€ ê°„ë‹¨í•˜ë‹¤. "ì›ë˜ ê´€ê³„ë¥¼ í¬í•¨í•˜ê³ , ì›í•˜ëŠ” ì„±ì§ˆì„ ë§Œì¡±í•˜ë©°, ê°€ëŠ¥í•œ í•œ ì‘ë‹¤."

---

## 2. ë°˜ì‚¬ íì‡„ (Reflexive Closure)

### 2.1 ì •ì˜ì™€ ì§ê´€

> **ë°˜ì‚¬ íì‡„**(reflexive closure)ë€ ê´€ê³„ Rì„ í¬í•¨í•˜ë©´ì„œ **ë°˜ì‚¬ì **ì¸ ê°€ì¥ ì‘ì€ ê´€ê³„ì´ë‹¤.

ë°˜ì‚¬ì ì´ë ¤ë©´ ëª¨ë“  ì›ì†Œ aì— ëŒ€í•´ (a, a)ê°€ ê´€ê³„ì— ìˆì–´ì•¼ í•œë‹¤. ë”°ë¼ì„œ Rì— ë¹ ì ¸ ìˆëŠ” (a, a) ìŒë“¤ë§Œ ì¶”ê°€í•˜ë©´ ëœë‹¤!

ìˆ˜í•™ì ìœ¼ë¡œ: **Rì˜ ë°˜ì‚¬ íì‡„ = R âˆª Î”**

ì—¬ê¸°ì„œ Î” = {(a, a) | a âˆˆ A}ëŠ” Aì˜ **ëŒ€ê° ê´€ê³„**(diagonal relation)ì´ë‹¤.

### 2.2 ì˜ˆì œ (Rosen ì˜ˆì œ 1)

ì§‘í•© A = {1, 2, 3}ì— ê´€í•œ ê´€ê³„ R = {(1, 1), (1, 2), (2, 1), (3, 2)}ë¥¼ ìƒê°í•˜ì.

Rì€ **ë°˜ì‚¬ì ì´ì§€ ì•Šë‹¤**. ì™œëƒí•˜ë©´ (2, 2)ì™€ (3, 3)ì´ Rì— í¬í•¨ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.

Rì˜ ë°˜ì‚¬ íì‡„ = R âˆª {(1, 1), (2, 2), (3, 3)} = {(1, 1), (1, 2), (2, 1), (2, 2), (3, 2), (3, 3)}

ì´ë¯¸ (1, 1) âˆˆ Rì´ì—ˆìœ¼ë¯€ë¡œ, ì‹¤ì§ˆì ìœ¼ë¡œ (2, 2)ì™€ (3, 3)ë§Œ ì¶”ê°€í•˜ë©´ ëœë‹¤.

### 2.3 ì •ìˆ˜ ì§‘í•©ì— ëŒ€í•œ ì˜ˆì œ

ì •ìˆ˜ì˜ ì§‘í•©ì— ëŒ€í•œ ê´€ê³„ R = {(a, b) | a < b}ì˜ ë°˜ì‚¬ íì‡„ëŠ” ë¬´ì—‡ì¸ê°€?

R âˆª Î” = {(a, b) | a < b} âˆª {(a, a) | a âˆˆ â„¤} = {(a, b) | a â‰¤ b}

"ì§„ì§œ ì‘ë‹¤(strict less-than)"ë¥¼ ë°˜ì‚¬ íì‡„í•˜ë©´ "ì‘ê±°ë‚˜ ê°™ë‹¤(less-than-or-equal)"ê°€ ëœë‹¤! ì´ê²ƒì€ ë§¤ìš° ìì—°ìŠ¤ëŸ¬ìš´ ê²°ê³¼ì´ë‹¤.

### 2.4 Lean 4 êµ¬í˜„

```lean
-- ë°˜ì‚¬ íì‡„: ì›ë˜ ê´€ê³„ì´ê±°ë‚˜ ê°™ì€ ì›ì†Œ
def reflClosure (R : Î± â†’ Î± â†’ Prop) (a b : Î±) : Prop :=
  R a b âˆ¨ a = b

-- ë°˜ì‚¬ íì‡„ê°€ ì‹¤ì œë¡œ ë°˜ì‚¬ì ì„ì„ ì¦ëª…
theorem reflClosure_refl (R : Î± â†’ Î± â†’ Prop) (a : Î±) :
    reflClosure R a a := by
  -- reflClosure R a a = R a a âˆ¨ a = a
  right   -- a = aë¥¼ ì¦ëª…í•˜ë©´ ëœë‹¤
  rfl     -- ê°™ì€ ê°’ì´ë¯€ë¡œ ìë™

-- ë°˜ì‚¬ íì‡„ê°€ ì›ë˜ ê´€ê³„ë¥¼ í¬í•¨í•¨ì„ ì¦ëª…
theorem subset_reflClosure (R : Î± â†’ Î± â†’ Prop) (a b : Î±) (h : R a b) :
    reflClosure R a b := by
  left    -- R a bë¥¼ ì¦ëª…í•˜ë©´ ëœë‹¤
  exact h -- ê°€ì • hê°€ ë°”ë¡œ ì´ê²ƒ
```

### 2.5 ìœ í•œ ì§‘í•©ì—ì„œì˜ êµ¬ì²´ì  ì˜ˆ

```lean
-- Fin 3 = {0, 1, 2} ìœ„ì˜ ê´€ê³„ ì •ì˜
def R_ex1 : Fin 3 â†’ Fin 3 â†’ Prop
  | 0, 0 => True   -- (1,1) in textbook
  | 0, 1 => True   -- (1,2)
  | 1, 0 => True   -- (2,1)
  | 2, 1 => True   -- (3,2)
  | _, _ => False

-- R_ex1ì€ ë°˜ì‚¬ì ì´ì§€ ì•Šë‹¤: (1,1)=Trueì§€ë§Œ (2,2)=False
example : Â¬(R_ex1 1 1) := by
  simp [R_ex1]

-- ë°˜ì‚¬ íì‡„ í›„ì—ëŠ” (1,1)ë„ ì„±ë¦½í•œë‹¤
example : reflClosure R_ex1 1 1 := by
  right; rfl    -- 1 = 1 ì´ë¯€ë¡œ

-- ë°˜ì‚¬ íì‡„ í›„ì—ëŠ” (2,2)ë„ ì„±ë¦½í•œë‹¤
example : reflClosure R_ex1 2 2 := by
  right; rfl    -- 2 = 2 ì´ë¯€ë¡œ
```

---

## 3. ëŒ€ì¹­ íì‡„ (Symmetric Closure)

### 3.1 ì •ì˜ì™€ ì§ê´€

> **ëŒ€ì¹­ íì‡„**(symmetric closure)ë€ ê´€ê³„ Rì„ í¬í•¨í•˜ë©´ì„œ **ëŒ€ì¹­ì **ì¸ ê°€ì¥ ì‘ì€ ê´€ê³„ì´ë‹¤.

ëŒ€ì¹­ì ì´ë ¤ë©´ (a, b) âˆˆ Rì¼ ë•Œë§ˆë‹¤ (b, a)ë„ ê´€ê³„ì— ìˆì–´ì•¼ í•œë‹¤. ë”°ë¼ì„œ Rì— ìˆëŠ” ëª¨ë“  (a, b)ì— ëŒ€í•´ (b, a)ë¥¼ ì¶”ê°€í•˜ë©´ ëœë‹¤!

ìˆ˜í•™ì ìœ¼ë¡œ: **Rì˜ ëŒ€ì¹­ íì‡„ = R âˆª Râ»Â¹**

ì—¬ê¸°ì„œ Râ»Â¹ = {(b, a) | (a, b) âˆˆ R}ì€ Rì˜ **ì—­ê´€ê³„**(inverse relation)ì´ë‹¤.

### 3.2 ì˜ˆì œ (Rosen ì˜ˆì œ 2)

ì–‘ì˜ ì •ìˆ˜ì˜ ì§‘í•©ì— ëŒ€í•œ ê´€ê³„ R = {(a, b) | a > b}ì˜ ëŒ€ì¹­ íì‡„ëŠ” ë¬´ì—‡ì¸ê°€?

R âˆª Râ»Â¹ = {(a, b) | a > b} âˆª {(b, a) | a > b}
       = {(a, b) | a > b} âˆª {(a, b) | a < b}
       = {(a, b) | a â‰  b}

Rì€ "ì²« ë²ˆì§¸ ì›ì†Œê°€ ë‘ ë²ˆì§¸ ì›ì†Œë³´ë‹¤ í°" ëª¨ë“  ìˆœì„œìŒì„ í¬í•¨í•˜ê³ , Râ»Â¹ì€ "ì²« ë²ˆì§¸ ì›ì†Œê°€ ë‘ ë²ˆì§¸ ì›ì†Œë³´ë‹¤ ì‘ì€" ëª¨ë“  ìˆœì„œìŒì„ í¬í•¨í•œë‹¤. í•©í•˜ë©´ "ë‘ ì›ì†Œê°€ ë‹¤ë¥¸" ëª¨ë“  ìˆœì„œìŒì´ ëœë‹¤!

### 3.3 Lean 4 êµ¬í˜„

```lean
-- ëŒ€ì¹­ íì‡„: ì›ë˜ ê´€ê³„ì´ê±°ë‚˜ ì—­ë°©í–¥
def symmClosure (R : Î± â†’ Î± â†’ Prop) (a b : Î±) : Prop :=
  R a b âˆ¨ R b a

-- ëŒ€ì¹­ íì‡„ê°€ ì‹¤ì œë¡œ ëŒ€ì¹­ì ì„ì„ ì¦ëª…
theorem symmClosure_symm (R : Î± â†’ Î± â†’ Prop) (a b : Î±)
    (h : symmClosure R a b) : symmClosure R b a := by
  -- h : R a b âˆ¨ R b a
  -- ëª©í‘œ : R b a âˆ¨ R a b
  rcases h with hab | hba
  Â· right; exact hab    -- R a b â†’ ì˜¤ë¥¸ìª½ìœ¼ë¡œ R a b
  Â· left; exact hba     -- R b a â†’ ì™¼ìª½ìœ¼ë¡œ R b a

-- ëŒ€ì¹­ íì‡„ê°€ ì›ë˜ ê´€ê³„ë¥¼ í¬í•¨í•¨ì„ ì¦ëª…
theorem subset_symmClosure (R : Î± â†’ Î± â†’ Prop) (a b : Î±) (h : R a b) :
    symmClosure R a b := by
  left; exact h
```

### 3.4 ë°˜ì‚¬ íì‡„ì™€ ëŒ€ì¹­ íì‡„ì˜ í–‰ë ¬ í‘œí˜„ (Part 12-D ë³µìŠµ)

0-1 í–‰ë ¬ë¡œ í‘œí˜„í•  ë•Œ:
- **ë°˜ì‚¬ íì‡„**: M_Rì˜ ëŒ€ê°ì„ ì„ ëª¨ë‘ 1ë¡œ ë§Œë“ ë‹¤ â†’ M_R âˆ¨ I_n
- **ëŒ€ì¹­ íì‡„**: M_Rê³¼ ê·¸ ì „ì¹˜ í–‰ë ¬ì˜ í•©ì§‘í•© â†’ M_R âˆ¨ M_R^T

ì´ê²ƒì€ Part 12-Dì—ì„œ ë°°ìš´ í–‰ë ¬ ì—°ì‚°ê³¼ ì§ì ‘ ëŒ€ì‘ëœë‹¤!

---

## 4. ì „ì´ íì‡„ (Transitive Closure) â€” í•µì‹¬ ì£¼ì œ

### 4.1 ì™œ ì „ì´ íì‡„ê°€ ì¤‘ìš”í•œê°€?

ë°˜ì‚¬ íì‡„ì™€ ëŒ€ì¹­ íì‡„ëŠ” ê°„ë‹¨í•˜ë‹¤. ê°ê° ëŒ€ê° ì›ì†Œë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì—­ë°©í–¥ì„ ì¶”ê°€í•˜ë©´ ëì´ë‹¤. ê·¸ëŸ°ë° **ì „ì´ íì‡„**(transitive closure)ëŠ” í›¨ì”¬ ë³µì¡í•˜ë‹¤!

ì™œ ë³µì¡í•œê°€? ì „ì´ì„±ì„ ë§Œì¡±ì‹œí‚¤ë ¤ë©´ (a, b)ì™€ (b, c)ê°€ ìˆì„ ë•Œ (a, c)ë¥¼ ì¶”ê°€í•´ì•¼ í•˜ëŠ”ë°, ìƒˆë¡œ ì¶”ê°€ëœ (a, c)ê°€ ë‹¤ë¥¸ ìŒê³¼ ê²°í•©í•˜ì—¬ ë˜ ë‹¤ë¥¸ ìŒì„ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ì´ ê³¼ì •ì´ ì—°ì‡„ì ìœ¼ë¡œ ì¼ì–´ë‚  ìˆ˜ ìˆë‹¤!

**ì˜ˆì‹œ**: ì§‘í•© {1, 2, 3, 4}ì— ëŒ€í•œ ê´€ê³„ R = {(1, 3), (1, 4), (2, 1), (3, 2)}ë¥¼ ìƒê°í•˜ì.

Rì€ ì „ì´ì ì´ì§€ ì•Šë‹¤. (2, 1)ê³¼ (1, 3)ì´ Rì— í¬í•¨ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ì „ì´ì ì´ë ¤ë©´ (2, 3)ì´ í•„ìš”í•˜ì§€ë§Œ, (2, 3) âˆ‰ Rì´ë‹¤.

ë‹¨ìˆœíˆ ë¹ ì§„ ìŒì„ ì¶”ê°€í•˜ë©´ ë ê¹Œ? (2, 3)ì„ ì¶”ê°€í•˜ë©´ ë˜ ìƒˆë¡œìš´ ì „ì´ì„± ìœ„ë°˜ì´ ìƒê¸´ë‹¤:
- (2, 3)ê³¼ (3, 2) â†’ (2, 2) í•„ìš”!
- (1, 3)ê³¼ (3, 2) â†’ (1, 2) í•„ìš”!
- ... ì´ ê³¼ì •ì´ ê³„ì†ëœë‹¤.

ê²°êµ­ Rì— ì—†ëŠ” ìŒ (1, 2), (2, 3), (2, 4), (3, 1), (3, 3), (3, 4)ë¥¼ ëª¨ë‘ ì¶”ê°€í•´ì•¼ í•œë‹¤. ë³µì¡í•˜ë‹¤!

### 4.2 ê²½ë¡œ(Path)ë¥¼ ì´ìš©í•œ ì´í•´

ì „ì´ íì‡„ë¥¼ ì´í•´í•˜ëŠ” ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ **ë°©í–¥ì„± ê·¸ë˜í”„ì˜ ê²½ë¡œ**ë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì´ë‹¤.

> **ì •ì˜ 2** (Rosen): ë°©í–¥ì„± ê·¸ë˜í”„ Gì˜ aì—ì„œ bë¡œì˜ **ê²½ë¡œ**(path)ëŠ” Gì— ìˆëŠ” ëª¨ì„œë¦¬ì˜ ì„œì—´ (xâ‚€, xâ‚), (xâ‚, xâ‚‚), ..., (x_{n-1}, x_n)ì´ë‹¤. nì€ ìŒì´ ì•„ë‹Œ ì •ìˆ˜ì´ê³ , xâ‚€ = aì´ê³  x_n = bì´ë‹¤. ê²½ë¡œì˜ **ê¸¸ì´**(length)ëŠ” nì´ë‹¤.

ì¦‰, ê²½ë¡œë€ í™”ì‚´í‘œë¥¼ ë”°ë¼ aì—ì„œ bê¹Œì§€ ì´ë™í•˜ëŠ” ê²ƒì´ë‹¤. ê¸¸ì´ 1 ì´ìƒì´ê³  ì‹œì‘ì ê³¼ ëì ì´ ê°™ì€ ê²½ë¡œë¥¼ **ìˆœí™˜**(circuit ë˜ëŠ” cycle)ì´ë¼ í•œë‹¤.

### 4.3 R^nê³¼ ê²½ë¡œì˜ ê´€ê³„

> **ì •ë¦¬ 1** (Rosen): Rì„ ì§‘í•© Aì— ëŒ€í•œ ê´€ê³„ë¼ í•˜ì. nì´ ì–‘ì˜ ì •ìˆ˜ì¼ ë•Œ aì—ì„œ bë¡œ ê°€ëŠ” ê¸¸ì´ nì˜ ê²½ë¡œê°€ ìˆë‹¤ëŠ” ê²ƒê³¼ (a, b) âˆˆ R^nì€ **ë™ì¹˜**ì´ë‹¤.

ì—¬ê¸°ì„œ R^nì€ Rì„ në²ˆ **í•©ì„±**(composition)í•œ ê²ƒì´ë‹¤:
- RÂ¹ = R
- RÂ² = R âˆ˜ R (Rì„ ë‘ ë²ˆ í•©ì„±)
- R^n = R âˆ˜ R^{n-1}

**ì§ê´€**: (a, b) âˆˆ RÂ²ì´ë¼ëŠ” ê²ƒì€ "aì—ì„œ ì–´ë–¤ ì¤‘ê°„ì  cë¥¼ ê±°ì³ bì— ë„ë‹¬í•  ìˆ˜ ìˆë‹¤"ëŠ” ëœ»ì´ë‹¤. (a, b) âˆˆ R^nì´ë¼ëŠ” ê²ƒì€ "ì •í™•íˆ në²ˆì˜ ì´ë™ìœ¼ë¡œ aì—ì„œ bì— ë„ë‹¬í•  ìˆ˜ ìˆë‹¤"ëŠ” ëœ»ì´ë‹¤.

```lean
-- Rì˜ në²ˆ í•©ì„±ì„ ì •ì˜
def relPow (R : Î± â†’ Î± â†’ Prop) : â„• â†’ Î± â†’ Î± â†’ Prop
  | 0     => fun a b => a = b        -- Râ° = í•­ë“± ê´€ê³„
  | n + 1 => fun a b => âˆƒ c, R a c âˆ§ relPow R n c b  -- Râ¿âºÂ¹ = R âˆ˜ Râ¿

-- RÂ¹ = R ì„ì„ ì¦ëª…
theorem relPow_one (R : Î± â†’ Î± â†’ Prop) (a b : Î±) :
    relPow R 1 a b â†” R a b := by
  constructor
  Â· rintro âŸ¨c, hac, hcbâŸ©
    -- hcb : relPow R 0 c b = (c = b)
    simp [relPow] at hcb
    rw [hcb] at hac
    exact hac
  Â· intro hab
    exact âŸ¨b, hab, rflâŸ©

-- RÂ² ì˜ë¯¸: ì¤‘ê°„ì ì„ ê±°ì³ ë„ë‹¬ ê°€ëŠ¥
example (R : Î± â†’ Î± â†’ Prop) (a b : Î±) :
    relPow R 2 a b â†” âˆƒ c, R a c âˆ§ R c b := by
  constructor
  Â· rintro âŸ¨c, hac, d, hcd, hdbâŸ©
    simp [relPow] at hdb
    rw [hdb] at hcd
    exact âŸ¨c, hac, hcdâŸ©
  Â· rintro âŸ¨c, hac, hcbâŸ©
    exact âŸ¨c, hac, b, hcb, rflâŸ©
```

### 4.4 ì—°ê²° ê´€ê³„ì™€ ì „ì´ íì‡„

> **ì •ì˜ 3** (Rosen): Rì„ ì§‘í•© Aì— ê´€í•œ ê´€ê³„ë¼ í•˜ì. **ì—°ê²° ê´€ê³„**(connectivity relation) R*ëŠ” Rì— aì—ì„œ bë¡œ ê°€ëŠ” ê¸¸ì´ 1 ì´ìƒì˜ ê²½ë¡œê°€ ìˆëŠ” ìŒ (a, b)ë¡œ êµ¬ì„±ëœë‹¤.

ìˆ˜í•™ì ìœ¼ë¡œ: **R* = R âˆª RÂ² âˆª RÂ³ âˆª ...**

> **ì •ë¦¬ 2** (Rosen): ê´€ê³„ Rì˜ **ì „ì´ íì‡„**ëŠ” ì—°ê²° ê´€ê³„ R*ì™€ **ë™ì¼**í•˜ë‹¤.

ì´ê²ƒì´ í•µì‹¬ì´ë‹¤! ì „ì´ íì‡„ = "ì–´ë–¤ ê¸¸ì´ì˜ ê²½ë¡œë“  ì¡´ì¬í•˜ë©´ ì—°ê²°"

### 4.5 Lean 4ì—ì„œì˜ ì „ì´ íì‡„

Lean 4ì˜ Mathlibì—ëŠ” `Relation.TransGen`ì´ë¼ëŠ” ì „ì´ íì‡„ê°€ ì´ë¯¸ ì •ì˜ë˜ì–´ ìˆë‹¤. í•˜ì§€ë§Œ ë¨¼ì € ì§ì ‘ ì •ì˜í•´ ë³´ì:

```lean
-- ì „ì´ íì‡„ì˜ ê·€ë‚©ì  ì •ì˜
-- "Rë¡œ í•œ ë²ˆ ì´ë™í•˜ê±°ë‚˜, Rë¡œ í•œ ë²ˆ ì´ë™ í›„ ì „ì´ íì‡„ë¡œ ë” ì´ë™"
inductive TransClosure (R : Î± â†’ Î± â†’ Prop) : Î± â†’ Î± â†’ Prop where
  | single : R a b â†’ TransClosure R a b
  | step   : R a c â†’ TransClosure R c b â†’ TransClosure R a b

-- ì „ì´ íì‡„ê°€ ì›ë˜ ê´€ê³„ë¥¼ í¬í•¨í•¨
theorem TransClosure_of_R (R : Î± â†’ Î± â†’ Prop) (a b : Î±) (h : R a b) :
    TransClosure R a b :=
  TransClosure.single h

-- ì „ì´ íì‡„ê°€ ì „ì´ì ì„
theorem TransClosure_trans (R : Î± â†’ Î± â†’ Prop) (a b c : Î±)
    (hab : TransClosure R a b) (hbc : TransClosure R b c) :
    TransClosure R a c := by
  induction hab with
  | single hr => exact TransClosure.step hr hbc
  | step hr _ ih => exact TransClosure.step hr (ih hbc)
```

**ì½”ë“œ í•´ì„¤**:

1. `inductive TransClosure`ëŠ” **ê·€ë‚©ì  íƒ€ì…**(inductive type)ì„ ì •ì˜í•œë‹¤. ì´ê²ƒì€ "ê°€ì¥ ì‘ì€ ê´€ê³„"ë¥¼ ì§ì ‘ ì •ì˜í•˜ëŠ” Lean 4ì˜ ê°•ë ¥í•œ ë„êµ¬ì´ë‹¤.

2. ë‘ ê°€ì§€ **ìƒì„±ì**(constructor)ê°€ ìˆë‹¤:
   - `single`: Rì—ì„œ ì§ì ‘ í•œ ë²ˆ ì´ë™ (ê¸¸ì´ 1ì˜ ê²½ë¡œ)
   - `step`: Rì—ì„œ í•œ ë²ˆ ì´ë™ í›„ ì „ì´ íì‡„ë¥¼ í†µí•´ ë” ì´ë™ (ê¸¸ì´ 2 ì´ìƒì˜ ê²½ë¡œ)

3. ì „ì´ì„± ì¦ëª…ì—ì„œ `induction hab`ì€ "habì´ ì–´ë–¤ ìƒì„±ìë¡œ ë§Œë“¤ì–´ì¡ŒëŠ”ì§€"ì— ë”°ë¼ ê²½ìš°ë¥¼ ë‚˜ëˆˆë‹¤.

---

## 5. ìœ í•œ ì§‘í•©ì—ì„œì˜ ì „ì´ íì‡„

### 5.1 ë³´ì¡°ì •ë¦¬ 1

> **ë³´ì¡°ì •ë¦¬ 1** (Rosen): Aê°€ nê°œì˜ ì›ì†Œë¥¼ ê°–ëŠ” ì§‘í•©ì´ê³ , Rì„ Aì— ëŒ€í•œ ê´€ê³„ë¼ê³  í•˜ì. Rì— aì—ì„œ bë¡œ ê°€ëŠ” ê¸¸ì´ 1 ì´ìƒì˜ ê²½ë¡œê°€ ìˆë‹¤ë©´, ê¸¸ì´ nì„ ì´ˆê³¼í•˜ì§€ ì•ŠëŠ” ê²½ë¡œê°€ ìˆë‹¤. ë˜, a â‰  bì¼ ë•Œ aì—ì„œ bë¡œ ê°€ëŠ” ê¸¸ì´ 1 ì´ìƒì˜ ê²½ë¡œê°€ ìˆë‹¤ë©´, ê¸¸ì´ n - 1ì„ ì´ˆê³¼í•˜ì§€ ì•ŠëŠ” ê²½ë¡œê°€ ìˆë‹¤.

**ì§ê´€**: ì§‘í•©ì— nê°œì˜ ì›ì†Œë°–ì— ì—†ìœ¼ë¯€ë¡œ, në³´ë‹¤ ê¸´ ê²½ë¡œëŠ” ë°˜ë“œì‹œ ì–´ë–¤ ê¼­ì§€ì ì„ ë‘ ë²ˆ ì´ìƒ ë°©ë¬¸í•œë‹¤. ë¹„ë‘˜ê¸°ì§‘ ì›ë¦¬! ìˆœí™˜ ë¶€ë¶„ì„ ì˜ë¼ë‚´ë©´ ë” ì§§ì€ ê²½ë¡œë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.

ì´ ë³´ì¡°ì •ë¦¬ ë•ë¶„ì— ìœ í•œ ì§‘í•©ì—ì„œëŠ” ë¬´í•œíˆ ê¸´ ê²½ë¡œë¥¼ ê²€ì‚¬í•  í•„ìš”ê°€ ì—†ë‹¤:

> **R* = R âˆª RÂ² âˆª RÂ³ âˆª ... âˆª Râ¿** (ìœ í•œ í•©ì§‘í•©ìœ¼ë¡œ ì¶©ë¶„!)

### 5.2 í–‰ë ¬ì„ ì´ìš©í•œ ì „ì´ íì‡„ ê³„ì‚°

> **ì •ë¦¬ 3** (Rosen): M_Rì´ nê°œì˜ ì›ì†Œë¥¼ ê°–ëŠ” ì§‘í•©ì— ëŒ€í•œ ê´€ê³„ Rì˜ 0-1 í–‰ë ¬ì´ë¼ê³  í•˜ì. ê·¸ëŸ¬ë©´ ì „ì´ íì‡„ R*ì˜ 0-1 í–‰ë ¬ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
>
> **M_{R*} = M_R âˆ¨ M_R^{[2]} âˆ¨ M_R^{[3]} âˆ¨ ... âˆ¨ M_R^{[n]}**

ì—¬ê¸°ì„œ M_R^{[k]}ëŠ” M_Rì˜ kë²ˆì§¸ **ë¶€ìš¸ ê±°ë“­ì œê³±**(Boolean power)ì´ê³ , âˆ¨ëŠ” ì›ì†Œë³„ ORì´ë‹¤.

```lean
-- ìœ í•œ ì§‘í•© {0, 1, 2}ì—ì„œì˜ ì „ì´ íì‡„ ì˜ˆ (Rosen ì˜ˆì œ 7)
-- M_R = [[1,0,1],[0,1,0],[1,1,0]]

def MR : Fin 3 â†’ Fin 3 â†’ Bool
  | 0, 0 => true  | 0, 1 => false | 0, 2 => true
  | 1, 0 => false | 1, 1 => true  | 1, 2 => false
  | 2, 0 => true  | 2, 1 => true  | 2, 2 => false

-- ë¶€ìš¸ í–‰ë ¬ ê³±
def boolMatMul (A B : Fin 3 â†’ Fin 3 â†’ Bool) : Fin 3 â†’ Fin 3 â†’ Bool :=
  fun i j => (A i 0 && B 0 j) || (A i 1 && B 1 j) || (A i 2 && B 2 j)

-- ë¶€ìš¸ í–‰ë ¬ í•© (ì›ì†Œë³„ OR)
def boolMatOr (A B : Fin 3 â†’ Fin 3 â†’ Bool) : Fin 3 â†’ Fin 3 â†’ Bool :=
  fun i j => A i j || B i j

-- M_RÂ² ê³„ì‚°
def MR2 : Fin 3 â†’ Fin 3 â†’ Bool := boolMatMul MR MR

-- M_RÂ³ ê³„ì‚°
def MR3 : Fin 3 â†’ Fin 3 â†’ Bool := boolMatMul MR2 MR

-- ì „ì´ íì‡„ = M_R âˆ¨ M_RÂ² âˆ¨ M_RÂ³
def MRstar : Fin 3 â†’ Fin 3 â†’ Bool :=
  boolMatOr (boolMatOr MR MR2) MR3

-- ê²°ê³¼ í™•ì¸: ëª¨ë“  ìœ„ì¹˜ê°€ 1 (ìê¸° ìì‹  ì œì™¸í•œ ì¼ë¶€)
#eval MRstar 0 0  -- true
#eval MRstar 0 1  -- true
#eval MRstar 0 2  -- true
#eval MRstar 1 0  -- false (1ì—ì„œ 0ìœ¼ë¡œ ê°€ëŠ” ê²½ë¡œ ì—†ìŒ? í™•ì¸ í•„ìš”)
```

---

## 6. ì›Œì…œ ì•Œê³ ë¦¬ì¦˜ (Warshall's Algorithm)

### 6.1 ë™ê¸°

ì •ë¦¬ 3ì˜ ë°©ë²•ìœ¼ë¡œ ì „ì´ íì‡„ë¥¼ êµ¬í•˜ë ¤ë©´ O(nâ´) ë¹„íŠ¸ ì—°ì‚°ì´ í•„ìš”í•˜ë‹¤(nê°œì˜ í–‰ë ¬ ê³± + ê²°í•©). 1960ë…„ ìŠ¤í‹°ë¸ **ì›Œì…œ**(Stephen Warshall)ì´ ê³ ì•ˆí•œ **ì›Œì…œ ì•Œê³ ë¦¬ì¦˜**ì€ ë” íš¨ìœ¨ì ì¸ O(nÂ³) ë°©ë²•ì´ë‹¤!

### 6.2 ë‚´ë¶€ ê¼­ì§€ì ì˜ ê°œë…

ì›Œì…œ ì•Œê³ ë¦¬ì¦˜ì˜ í•µì‹¬ ì•„ì´ë””ì–´ëŠ” **ë‚´ë¶€ ê¼­ì§€ì **(interior vertices)ì´ë‹¤.

ê²½ë¡œ a, xâ‚, xâ‚‚, ..., x_{m-1}, bì—ì„œ **ë‚´ë¶€ ê¼­ì§€ì **ì€ xâ‚, xâ‚‚, ..., x_{m-1}ì´ë‹¤. ì¦‰, ì²˜ìŒ ê¼­ì§€ì (a)ê³¼ ë§ˆì§€ë§‰ ê¼­ì§€ì (b)ì„ **ì œì™¸í•œ** ë‚˜ë¨¸ì§€ ê¼­ì§€ì ë“¤ì´ë‹¤.

### 6.3 ì•Œê³ ë¦¬ì¦˜ ì•„ì´ë””ì–´

í–‰ë ¬ W_kë¥¼ "ë‚´ë¶€ ê¼­ì§€ì ì´ ì§‘í•© {vâ‚, vâ‚‚, ..., v_k}ì—ì„œ ì˜¨ ê²½ë¡œ"ê°€ ì¡´ì¬í•˜ëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” 0-1 í–‰ë ¬ì´ë¼ í•˜ì.

- Wâ‚€ = M_R (ë‚´ë¶€ ê¼­ì§€ì  ì—†ìŒ â†’ ì§ì ‘ ì—°ê²°ë§Œ)
- W_n = M_{R*} (ëª¨ë“  ê¼­ì§€ì ì„ ë‚´ë¶€ ê¼­ì§€ì ìœ¼ë¡œ í—ˆìš© â†’ ì „ì´ íì‡„)

**í•µì‹¬ ê´€ì°°** (ë³´ì¡°ì •ë¦¬ 2):

> w_{ij}^{[k]} = w_{ij}^{[k-1]} âˆ¨ (w_{ik}^{[k-1]} âˆ§ w_{kj}^{[k-1]})

ì´ê²ƒì´ ì˜ë¯¸í•˜ëŠ” ë°”:
- v_iì—ì„œ v_jë¡œì˜ ê²½ë¡œê°€ {vâ‚, ..., v_k}ë¥¼ ë‚´ë¶€ ê¼­ì§€ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ë©´,
  ë‘ ê°€ì§€ ê²½ìš° ì¤‘ í•˜ë‚˜ì´ë‹¤:
  1. v_kë¥¼ ê±°ì¹˜ì§€ ì•ŠëŠ” ê²½ë¡œê°€ ìˆë‹¤ (â†’ w_{ij}^{[k-1]} = 1)
  2. v_iì—ì„œ v_kë¥¼ ê±°ì³ v_jë¡œ ê°€ëŠ” ê²½ë¡œê°€ ìˆë‹¤ (â†’ w_{ik}^{[k-1]} = 1 **ê·¸ë¦¬ê³ ** w_{kj}^{[k-1]} = 1)

### 6.4 Lean 4 êµ¬í˜„

```lean
-- ì›Œì…œ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„
-- n: ê¼­ì§€ì  ìˆ˜, adj: ì¸ì ‘ í–‰ë ¬
def warshall (n : â„•) (adj : Fin n â†’ Fin n â†’ Bool) : Fin n â†’ Fin n â†’ Bool :=
  loop n adj
where
  loop : â„• â†’ (Fin n â†’ Fin n â†’ Bool) â†’ (Fin n â†’ Fin n â†’ Bool)
  | 0, w     => w
  | k + 1, w =>
    let k' : Fin n := âŸ¨k, by omegaâŸ©  -- kë¥¼ Fin nìœ¼ë¡œ ë³€í™˜ (k < n ë³´ì¥ í•„ìš”)
    loop k (fun i j => w i j || (w i k' && w k' j))
```

ìœ„ ì½”ë“œëŠ” ê°„ì†Œí™”ëœ ë²„ì „ì´ë‹¤. ì‹¤ì œë¡œëŠ” k < n ì¡°ê±´ì´ í•„ìš”í•˜ë¯€ë¡œ, ì¢€ ë” ì •êµí•œ êµ¬í˜„ì´ í•„ìš”í•˜ë‹¤. ì•„ë˜ëŠ” ë” ëª…í™•í•œ ë²„ì „ì´ë‹¤:

```lean
-- ë” ëª…í™•í•œ ì›Œì…œ ì•Œê³ ë¦¬ì¦˜ (ë¦¬ìŠ¤íŠ¸ ê¸°ë°˜)
def warshallStep (w : Fin n â†’ Fin n â†’ Bool) (k : Fin n) :
    Fin n â†’ Fin n â†’ Bool :=
  fun i j => w i j || (w i k && w k j)

def warshallAux : (k : â„•) â†’ (Fin n â†’ Fin n â†’ Bool) â†’ (Fin n â†’ Fin n â†’ Bool)
  | 0, w     => w
  | k + 1, w => warshallAux k (warshallStep w âŸ¨k, by omegaâŸ©)
```

### 6.5 ì˜ˆì œ (Rosen ì˜ˆì œ 8)

ê·¸ë˜í”„: a â†’ d, a â†’ c, b â†’ a, c â†’ b (4ê°œì˜ ê¼­ì§€ì  a, b, c, d)

vâ‚ = a, vâ‚‚ = b, vâ‚ƒ = c, vâ‚„ = dë¡œ ë²ˆí˜¸ë¥¼ ë§¤ê¸°ì.

```
Wâ‚€ = [[0,0,0,1],    -- aì—ì„œ ì§ì ‘: dë§Œ
      [1,0,1,0],     -- bì—ì„œ ì§ì ‘: a, c
      [1,0,0,1],     -- cì—ì„œ ì§ì ‘: a, d
      [0,0,1,0]]     -- dì—ì„œ ì§ì ‘: c
```

Wâ‚ (aë¥¼ ë‚´ë¶€ ê¼­ì§€ì ìœ¼ë¡œ í—ˆìš©):
- bì—ì„œ dë¡œì˜ ìƒˆ ê²½ë¡œ: bâ†’aâ†’d âœ“
- cì—ì„œ dë¡œì˜ ìƒˆ ê²½ë¡œ: ì´ë¯¸ ìˆìŒ

```
Wâ‚ = [[0,0,0,1],
      [1,0,1,1],     -- (b,d) ì¶”ê°€!
      [1,0,0,1],
      [0,0,1,0]]
```

ì´ ê³¼ì •ì„ Wâ‚‚, Wâ‚ƒ, Wâ‚„ê¹Œì§€ ë°˜ë³µí•˜ë©´ ì „ì´ íì‡„ë¥¼ ì–»ëŠ”ë‹¤.

---

## 7. ì—°ìŠµ ë¬¸ì œ â€” ë ˆë²¨ 1: ê´„í˜¸ ì±„ìš°ê¸°

### ì—°ìŠµ 7.1: ë°˜ì‚¬ íì‡„ ê¸°ë³¸ (Rosen ì—°ìŠµë¬¸ì œ 1a)

```lean
-- R = {(0, 1), (1, 1), (1, 2), (2, 0), (2, 2), (3, 0)}
-- ì§‘í•© {0, 1, 2, 3} ìœ„ì˜ ê´€ê³„
-- Rì˜ ë°˜ì‚¬ íì‡„ë¥¼ êµ¬í•˜ë¼

-- ë°˜ì‚¬ íì‡„ = R âˆª {(0,0), (1,1), (2,2), (3,3)}
-- = R âˆª {(0,0), (3,3)}  (ì´ë¯¸ (1,1), (2,2) âˆˆ R)

def R71 : Fin 4 â†’ Fin 4 â†’ Prop
  | 0, 1 => True | 1, 1 => True | 1, 2 => True
  | 2, 0 => True | 2, 2 => True | 3, 0 => True
  | _, _ => False

-- ë°˜ì‚¬ íì‡„ì—ì„œ (0,0) ì„±ë¦½
example : reflClosure R71 0 0 := by
  {â‘  right ë˜ëŠ” left ì¤‘ ë¬´ì—‡?}
  {â‘¡ ë‚˜ë¨¸ì§€ë¥¼ ì¦ëª…í•˜ë¼}
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
example : reflClosure R71 0 0 := by
  right    -- â‘  a = b ìª½ì„ ì„ íƒ
  rfl      -- â‘¡ 0 = 0
```

**ì„¤ëª…**: (0, 0)ì€ ì›ë˜ R71ì— ì—†ì§€ë§Œ (R71 0 0 = False), ë°˜ì‚¬ íì‡„ì˜ ì •ì˜ `R a b âˆ¨ a = b`ì—ì„œ ì˜¤ë¥¸ìª½ `0 = 0`ì´ ì„±ë¦½í•˜ë¯€ë¡œ ë°˜ì‚¬ íì‡„ì—ëŠ” í¬í•¨ëœë‹¤!
</details>

### ì—°ìŠµ 7.2: ëŒ€ì¹­ íì‡„ ê¸°ë³¸

```lean
-- "a > b" ê´€ê³„ì˜ ëŒ€ì¹­ íì‡„ê°€ "a â‰  b"ì„ì„ Natì—ì„œ í™•ì¸
-- êµ¬ì²´ì  ì˜ˆ: 5ì™€ 3ì— ëŒ€í•´

-- ëŒ€ì¹­ íì‡„ì—ì„œ (5, 3) ì„±ë¦½: 5 > 3
example : symmClosure (fun a b : â„• => a > b) 5 3 := by
  {â‘¢ left ë˜ëŠ” right ì¤‘ ë¬´ì—‡?}
  {â‘£ ë¶€ë“±ì‹ì„ ì¦ëª…í•˜ë¼ (omega ì‚¬ìš©)}

-- ëŒ€ì¹­ íì‡„ì—ì„œ (3, 5) ì„±ë¦½: ì—­ë°©í–¥
example : symmClosure (fun a b : â„• => a > b) 3 5 := by
  {â‘¤ left ë˜ëŠ” right ì¤‘ ë¬´ì—‡?}
  {â‘¥ ë¶€ë“±ì‹ì„ ì¦ëª…í•˜ë¼}
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
example : symmClosure (fun a b : â„• => a > b) 5 3 := by
  left      -- â‘¢ R a b ìª½ (5 > 3)
  omega     -- â‘£ 5 > 3 ìë™ ì¦ëª…

example : symmClosure (fun a b : â„• => a > b) 3 5 := by
  right     -- â‘¤ R b a ìª½ (5 > 3)
  omega     -- â‘¥ 5 > 3 ìë™ ì¦ëª…
```

**ì„¤ëª…**: (5, 3)ì€ 5 > 3ì´ë¯€ë¡œ ì›ë˜ ê´€ê³„ì— ì†í•œë‹¤ (left). (3, 5)ëŠ” 3 > 5ê°€ ì•„ë‹ˆë¯€ë¡œ ì›ë˜ ê´€ê³„ì— ì—†ì§€ë§Œ, ì—­ë°©í–¥ 5 > 3ì´ ì„±ë¦½í•˜ë¯€ë¡œ ëŒ€ì¹­ íì‡„ì— ì†í•œë‹¤ (right).
</details>

### ì—°ìŠµ 7.3: ì „ì´ íì‡„ ê¸°ë³¸

```lean
-- ê´€ê³„ R: 1â†’2, 2â†’3 (Fin 4 ìœ„ì˜ ê´€ê³„, 0-indexedë¡œ 0â†’1, 1â†’2)
def R73 : Fin 4 â†’ Fin 4 â†’ Prop
  | 0, 1 => True
  | 1, 2 => True
  | _, _ => False

-- ì „ì´ íì‡„ì—ì„œ (0, 2) ì„±ë¦½: 0â†’1â†’2 ê²½ë¡œ
example : TransClosure R73 0 2 := by
  apply TransClosure.step
  Â· {â‘¦ R73 0 1ì„ ì¦ëª…í•˜ë¼}
  Â· apply TransClosure.{â‘§ single ë˜ëŠ” step?}
    {â‘¨ R73 1 2ë¥¼ ì¦ëª…í•˜ë¼}
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
example : TransClosure R73 0 2 := by
  apply TransClosure.step
  Â· trivial    -- â‘¦ R73 0 1 = True
  Â· apply TransClosure.single  -- â‘§ single (ë§ˆì§€ë§‰ ë‹¨ê³„)
    trivial    -- â‘¨ R73 1 2 = True
```

**ì„¤ëª…**: `TransClosure.step`ìœ¼ë¡œ "0ì—ì„œ 1ë¡œ í•œ ë²ˆ ì´ë™ í›„ ì „ì´ íì‡„ë¡œ ê³„ì†"ì„ ì ìš©í•˜ê³ , `TransClosure.single`ë¡œ "1ì—ì„œ 2ë¡œ ì§ì ‘ ì´ë™"ì„ ì ìš©í•œë‹¤. ê²°ê³¼: 0â†’1â†’2 ê²½ë¡œ!
</details>

---

## 8. ì—°ìŠµ ë¬¸ì œ â€” ë ˆë²¨ 2: skeleton ì±„ìš°ê¸°

### ì—°ìŠµ 8.1: ë°˜ì‚¬ íì‡„ê°€ ê°€ì¥ ì‘ì€ ë°˜ì‚¬ì  ê´€ê³„ì„ì„ ì¦ëª…

```lean
-- ë°˜ì‚¬ íì‡„ì˜ ìµœì†Œì„±: R âŠ† Sì´ê³  Sê°€ ë°˜ì‚¬ì ì´ë©´ reflClosure R âŠ† S
theorem reflClosure_minimal (R S : Î± â†’ Î± â†’ Prop)
    (hRS : âˆ€ a b, R a b â†’ S a b)         -- R âŠ† S
    (hRefl : âˆ€ a, S a a)                   -- SëŠ” ë°˜ì‚¬ì 
    (a b : Î±) (h : reflClosure R a b) :
    S a b := by
  rcases h with hab | heq
  Â· -- hab : R a bì¸ ê²½ìš°
    sorry  -- hRSë¥¼ ì‚¬ìš©í•˜ë¼
  Â· -- heq : a = bì¸ ê²½ìš°
    sorry  -- heqë¡œ ì¹˜í™˜ í›„ hRefl ì‚¬ìš©
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem reflClosure_minimal (R S : Î± â†’ Î± â†’ Prop)
    (hRS : âˆ€ a b, R a b â†’ S a b)
    (hRefl : âˆ€ a, S a a)
    (a b : Î±) (h : reflClosure R a b) :
    S a b := by
  rcases h with hab | heq
  Â· exact hRS a b hab
  Â· rw [heq]; exact hRefl b
```

**ì„¤ëª…**: 
- `R a b`ì¸ ê²½ìš°: R âŠ† Sì´ë¯€ë¡œ S a b
- `a = b`ì¸ ê²½ìš°: aë¥¼ bë¡œ ì¹˜í™˜í•˜ë©´ S b b, ì´ê²ƒì€ Sì˜ ë°˜ì‚¬ì„±ìœ¼ë¡œ ì„±ë¦½
</details>

### ì—°ìŠµ 8.2: ëŒ€ì¹­ íì‡„ê°€ ê°€ì¥ ì‘ì€ ëŒ€ì¹­ì  ê´€ê³„ì„ì„ ì¦ëª…

```lean
theorem symmClosure_minimal (R S : Î± â†’ Î± â†’ Prop)
    (hRS : âˆ€ a b, R a b â†’ S a b)         -- R âŠ† S
    (hSymm : âˆ€ a b, S a b â†’ S b a)        -- SëŠ” ëŒ€ì¹­ì 
    (a b : Î±) (h : symmClosure R a b) :
    S a b := by
  rcases h with hab | hba
  Â· sorry  -- R a b â†’ S a b
  Â· sorry  -- R b a â†’ S b a â†’ S a b
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem symmClosure_minimal (R S : Î± â†’ Î± â†’ Prop)
    (hRS : âˆ€ a b, R a b â†’ S a b)
    (hSymm : âˆ€ a b, S a b â†’ S b a)
    (a b : Î±) (h : symmClosure R a b) :
    S a b := by
  rcases h with hab | hba
  Â· exact hRS a b hab
  Â· exact hSymm b a (hRS b a hba)
```

**ì„¤ëª…**: 
- `R a b`ì¸ ê²½ìš°: R âŠ† Sì´ë¯€ë¡œ ì§ì ‘ S a b
- `R b a`ì¸ ê²½ìš°: R âŠ† Së¡œ S b aë¥¼ ì–»ê³ , Sì˜ ëŒ€ì¹­ì„±ìœ¼ë¡œ S a b
</details>

### ì—°ìŠµ 8.3: ì „ì´ íì‡„ê°€ ì›ë˜ ê´€ê³„ë¥¼ í¬í•¨í•¨

```lean
-- TransClosureëŠ” Rì„ í¬í•¨í•œë‹¤
-- ì´ë¯¸ ì¦ëª…í–ˆì§€ë§Œ, ë‹¤ì‹œ í•´ë³´ì
theorem TransClosure_contains_R (R : Î± â†’ Î± â†’ Prop) (a b : Î±)
    (h : R a b) : TransClosure R a b := by
  sorry  -- TransClosureì˜ ì–´ë–¤ ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ëŠ”ê°€?
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem TransClosure_contains_R (R : Î± â†’ Î± â†’ Prop) (a b : Î±)
    (h : R a b) : TransClosure R a b := by
  exact TransClosure.single h
```

**ì„¤ëª…**: `TransClosure.single`ì€ Rì—ì„œ ì§ì ‘ í•œ ë²ˆ ì´ë™í•˜ëŠ” ê²½ë¡œ(ê¸¸ì´ 1)ë¥¼ ë§Œë“ ë‹¤.
</details>

### ì—°ìŠµ 8.4: 3ë‹¨ê³„ ê²½ë¡œ ë§Œë“¤ê¸°

```lean
-- 0â†’1, 1â†’2, 2â†’3 ê´€ê³„ì—ì„œ 0â†’3 ê²½ë¡œë¥¼ ì „ì´ íì‡„ë¡œ êµ¬ì„±
def chain3 : Fin 4 â†’ Fin 4 â†’ Prop
  | 0, 1 => True
  | 1, 2 => True
  | 2, 3 => True
  | _, _ => False

-- 0ì—ì„œ 3ìœ¼ë¡œ ê°€ëŠ” ê²½ë¡œ: 0â†’1â†’2â†’3
example : TransClosure chain3 0 3 := by
  sorry
  -- íŒíŠ¸: TransClosure.stepì„ ë‘ ë²ˆ, TransClosure.singleì„ í•œ ë²ˆ ì‚¬ìš©
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
example : TransClosure chain3 0 3 := by
  apply TransClosure.step (trivial : chain3 0 1)
  apply TransClosure.step (trivial : chain3 1 2)
  exact TransClosure.single (trivial : chain3 2 3)
```

**ì„¤ëª…**: 
1. `TransClosure.step`: 0ì—ì„œ 1ë¡œ ì´ë™ (chain3 0 1 = True), ë‚˜ë¨¸ì§€ëŠ” ì „ì´ íì‡„
2. `TransClosure.step`: 1ì—ì„œ 2ë¡œ ì´ë™ (chain3 1 2 = True), ë‚˜ë¨¸ì§€ëŠ” ì „ì´ íì‡„
3. `TransClosure.single`: 2ì—ì„œ 3ìœ¼ë¡œ ì§ì ‘ ì´ë™ (chain3 2 3 = True)

ê²°ê³¼: 0â†’1â†’2â†’3, ê¸¸ì´ 3ì˜ ê²½ë¡œ!
</details>

---

## 9. ì—°ìŠµ ë¬¸ì œ â€” ë ˆë²¨ 3: sorry ì±„ìš°ê¸° (ë…ë¦½ ì¦ëª…)

### ì—°ìŠµ 9.1: ë°˜ì‚¬ íì‡„ì˜ ë°˜ì‚¬ íì‡„ëŠ” ìê¸° ìì‹  (ë©±ë“±ì„±)

```lean
-- reflClosure (reflClosure R) = reflClosure R
-- ì¦‰, ì´ë¯¸ ë°˜ì‚¬ì ì¸ ê´€ê³„ë¥¼ ë‹¤ì‹œ ë°˜ì‚¬ íì‡„í•´ë„ ë°”ë€Œì§€ ì•ŠëŠ”ë‹¤
theorem reflClosure_idempotent (R : Î± â†’ Î± â†’ Prop) (a b : Î±) :
    reflClosure (reflClosure R) a b â†” reflClosure R a b := by
  sorry
```

<details>
<summary>ğŸ’¡ íŒíŠ¸</summary>

`constructor`ë¡œ ì–‘ë°©í–¥ì„ ë‚˜ëˆ„ì–´ ì¦ëª…í•œë‹¤.
- (â†’): `reflClosure (reflClosure R) a b`ë¥¼ ë¶„ì„í•˜ë©´ ë‘ ê²½ìš°ê°€ ë‚˜ì˜¨ë‹¤.
- (â†): `reflClosure R a b`ì´ë©´ `reflClosure (reflClosure R) a b`ì„ì„ ë³´ì¸ë‹¤.
</details>

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem reflClosure_idempotent (R : Î± â†’ Î± â†’ Prop) (a b : Î±) :
    reflClosure (reflClosure R) a b â†” reflClosure R a b := by
  constructor
  Â· intro h
    rcases h with h1 | heq
    Â· exact h1  -- reflClosure R a b ìì²´
    Â· rw [heq]; right; rfl  -- a = bì´ë©´ reflClosure R b b
  Â· intro h
    left; exact h  -- reflClosure R a b â†’ reflClosure (reflClosure R) a b
```
</details>

### ì—°ìŠµ 9.2: ëŒ€ì¹­ íì‡„ì˜ ëŒ€ì¹­ íì‡„ëŠ” ìê¸° ìì‹  (ë©±ë“±ì„±)

```lean
theorem symmClosure_idempotent (R : Î± â†’ Î± â†’ Prop) (a b : Î±) :
    symmClosure (symmClosure R) a b â†” symmClosure R a b := by
  sorry
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem symmClosure_idempotent (R : Î± â†’ Î± â†’ Prop) (a b : Î±) :
    symmClosure (symmClosure R) a b â†” symmClosure R a b := by
  constructor
  Â· intro h
    rcases h with h1 | h2
    Â· exact h1
    Â· -- h2 : symmClosure R b a
      exact symmClosure_symm R b a h2
  Â· intro h
    left; exact h
```
</details>

### ì—°ìŠµ 9.3: ì „ì´ íì‡„ì˜ ì „ì´ì„± (ë…ë¦½ ì¦ëª…)

```lean
-- ì „ì´ íì‡„ì˜ í•µì‹¬ ì„±ì§ˆ: TransClosure Rì€ ì „ì´ì ì´ë‹¤
-- ì´ê²ƒì„ ë‹¤ì‹œ í•œ ë²ˆ ì§ì ‘ ì¦ëª…í•´ë³´ë¼
theorem TransClosure_is_transitive (R : Î± â†’ Î± â†’ Prop) (a b c : Î±)
    (hab : TransClosure R a b) (hbc : TransClosure R b c) :
    TransClosure R a c := by
  sorry
```

<details>
<summary>ğŸ’¡ íŒíŠ¸</summary>

`hab`ì— ëŒ€í•´ `induction`ì„ ì‚¬ìš©í•œë‹¤. ë‘ ê°€ì§€ ê²½ìš°:
- `single hr`: R a bì´ê³  hbc : TransClosure R b c â†’ `step hr hbc`
- `step hr hab'` + ê·€ë‚© ê°€ì„¤ `ih`: R a m, TransClosure R m b â†’ `step hr (ih hbc)`
</details>

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem TransClosure_is_transitive (R : Î± â†’ Î± â†’ Prop) (a b c : Î±)
    (hab : TransClosure R a b) (hbc : TransClosure R b c) :
    TransClosure R a c := by
  induction hab with
  | single hr => exact TransClosure.step hr hbc
  | step hr _ ih => exact TransClosure.step hr (ih hbc)
```

**ì„¤ëª…**: 
- `single hr` ê²½ìš°: aâ†’bê°€ Rì˜ í•œ ë‹¨ê³„ì´ê³ , bâ†’cê°€ ì „ì´ íì‡„. ë”°ë¼ì„œ aâ†’bâ†’...â†’cëŠ” `step`ìœ¼ë¡œ êµ¬ì„±.
- `step hr hab'` ê²½ìš°: aâ†’mì´ Rì˜ í•œ ë‹¨ê³„, mâ†’bê°€ ì „ì´ íì‡„, bâ†’cê°€ ì „ì´ íì‡„. ê·€ë‚© ê°€ì„¤ë¡œ mâ†’cë¥¼ ì–»ê³ , aâ†’mâ†’...â†’cëŠ” `step`ìœ¼ë¡œ êµ¬ì„±.
</details>

### ì—°ìŠµ 9.4: ë°˜ì‚¬ íì‡„ì™€ ëŒ€ì¹­ íì‡„ì˜ êµí™˜ (ë„ì „!)

```lean
-- ë°˜ì‚¬ íì‡„ í›„ ëŒ€ì¹­ íì‡„ = ëŒ€ì¹­ íì‡„ í›„ ë°˜ì‚¬ íì‡„?
-- í•œ ë°©í–¥ë§Œ ì¦ëª…: reflClosureì˜ symmClosure âŠ† symmClosureì˜ reflClosure
theorem refl_symm_subset (R : Î± â†’ Î± â†’ Prop) (a b : Î±)
    (h : symmClosure (reflClosure R) a b) :
    reflClosure (symmClosure R) a b := by
  sorry
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem refl_symm_subset (R : Î± â†’ Î± â†’ Prop) (a b : Î±)
    (h : symmClosure (reflClosure R) a b) :
    reflClosure (symmClosure R) a b := by
  rcases h with h1 | h2
  Â· -- h1 : reflClosure R a b = R a b âˆ¨ a = b
    rcases h1 with hr | heq
    Â· left; left; exact hr     -- R a b â†’ symmClosure R a b
    Â· right; exact heq          -- a = b
  Â· -- h2 : reflClosure R b a = R b a âˆ¨ b = a
    rcases h2 with hr | heq
    Â· left; right; exact hr    -- R b a â†’ symmClosure R a b (ì—­ë°©í–¥)
    Â· right; exact heq.symm     -- b = a â†’ a = b
```
</details>

---

## 10. ì›Œì…œ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„ ì—°ìŠµ

### ì—°ìŠµ 10.1: ì›Œì…œ í•œ ë‹¨ê³„ ì‹¤í–‰

```lean
-- ì´ˆê¸° í–‰ë ¬ (Rosen ì˜ˆì œ 8ì˜ Wâ‚€)
def W0 : Fin 4 â†’ Fin 4 â†’ Bool
  | 0, 0 => false | 0, 1 => false | 0, 2 => false | 0, 3 => true
  | 1, 0 => true  | 1, 1 => false | 1, 2 => true  | 1, 3 => false
  | 2, 0 => true  | 2, 1 => false | 2, 2 => false | 2, 3 => true
  | 3, 0 => false | 3, 1 => false | 3, 2 => true  | 3, 3 => false

-- Wâ‚: vâ‚ = a (index 0)ë¥¼ ë‚´ë¶€ ê¼­ì§€ì ìœ¼ë¡œ í—ˆìš©
-- w_ij^[1] = w_ij^[0] âˆ¨ (w_i0^[0] âˆ§ w_0j^[0])
def W1 : Fin 4 â†’ Fin 4 â†’ Bool := warshallStep W0 0

-- (1, 3) í™•ì¸: bì—ì„œ dë¡œ.
-- w_13^[1] = w_13^[0] âˆ¨ (w_10^[0] âˆ§ w_03^[0])
--          = false   âˆ¨ (true    âˆ§ true)
--          = true
-- bâ†’aâ†’d ê²½ë¡œ ë°œê²¬!
#eval W1 1 3  -- trueë¥¼ í™•ì¸í•˜ë¼
```

---

## 11. í•µì‹¬ ìš”ì•½

1. **íì‡„**(closure)ë€ ê´€ê³„ Rì„ í¬í•¨í•˜ë©´ì„œ ì›í•˜ëŠ” ì„±ì§ˆì„ ë§Œì¡±ì‹œí‚¤ëŠ” **ê°€ì¥ ì‘ì€** ê´€ê³„ì´ë‹¤.
2. **ë°˜ì‚¬ íì‡„**(reflexive closure) = R âˆª Î” (ëŒ€ê° ì›ì†Œ ì¶”ê°€). Lean 4: `R a b âˆ¨ a = b`.
3. **ëŒ€ì¹­ íì‡„**(symmetric closure) = R âˆª Râ»Â¹ (ì—­ë°©í–¥ ì¶”ê°€). Lean 4: `R a b âˆ¨ R b a`.
4. **ì „ì´ íì‡„**(transitive closure) = R* = R âˆª RÂ² âˆª RÂ³ âˆª ... (ëª¨ë“  ê²½ë¡œ). Lean 4: `inductive TransClosure`.
5. **ê²½ë¡œ**(path)ë€ ë°©í–¥ì„± ê·¸ë˜í”„ì˜ ëª¨ì„œë¦¬ë¥¼ ë”°ë¼ ì´ë™í•˜ëŠ” ì„œì—´ì´ë‹¤. (a, b) âˆˆ Râ¿ì€ ê¸¸ì´ nì˜ ê²½ë¡œ ì¡´ì¬ì™€ ë™ì¹˜ì´ë‹¤.
6. ìœ í•œ ì§‘í•©(nê°œ ì›ì†Œ)ì—ì„œ ì „ì´ íì‡„ëŠ” R âˆª RÂ² âˆª ... âˆª Râ¿ìœ¼ë¡œ ì¶©ë¶„í•˜ë‹¤ (ë³´ì¡°ì •ë¦¬ 1).
7. í–‰ë ¬ì„ ì´ìš©í•œ ì „ì´ íì‡„: M_{R*} = M_R âˆ¨ M_R^{[2]} âˆ¨ ... âˆ¨ M_R^{[n]} (O(nâ´)).
8. **ì›Œì…œ ì•Œê³ ë¦¬ì¦˜**ì€ ë‚´ë¶€ ê¼­ì§€ì ì„ í•˜ë‚˜ì”© ì¶”ê°€í•˜ë©° O(nÂ³)ìœ¼ë¡œ ì „ì´ íì‡„ë¥¼ êµ¬í•œë‹¤.
9. Lean 4ì—ì„œ `inductive`ë¥¼ ì‚¬ìš©í•œ ê·€ë‚©ì  ì •ì˜ëŠ” íì‡„ë¥¼ ì •ì˜í•˜ëŠ” ìì—°ìŠ¤ëŸ¬ìš´ ë°©ë²•ì´ë‹¤.

---

## 12. ì‚¬ìš©ëœ Lean 4 ì „ìˆ  ì •ë¦¬

| ì „ìˆ  | ìš©ë„ | ì˜ˆì‹œ |
|------|------|------|
| `left` / `right` | âˆ¨ì˜ ì¢Œ/ìš° ì„ íƒ | `left; exact h` |
| `rcases h with h1 \| h2` | âˆ¨ ë¶„í•´ | ê²½ìš° ë‚˜ëˆ„ê¸° |
| `constructor` | âˆ§, â†” ë¶„ë¦¬ | `constructor; intro h; ...` |
| `rfl` | ê°™ì€ ê°’ì˜ ë“±ì‹ | `a = a` |
| `rw [h]` | ë“±ì‹ì„ ì´ìš©í•œ ì¹˜í™˜ | `rw [heq]` |
| `exact` | ì •í™•í•œ í•­ìœ¼ë¡œ ëª©í‘œ ì™„ì„± | `exact TransClosure.single h` |
| `trivial` | True ë“± ê°„ë‹¨í•œ ëª…ì œ | `(trivial : R 0 1)` |
| `induction ... with` | ê·€ë‚©ì  íƒ€ì… ë¶„ì„ | ì „ì´ íì‡„ ì¦ëª… |
| `omega` | ì‚°ìˆ  ìë™ ì¦ëª… | ë¶€ë“±ì‹, í¬ê¸° ì¡°ê±´ |

---

> **ë‹¤ìŒ íŒŒíŠ¸ ì˜ˆê³ **: Part 12-Fì—ì„œëŠ” **ë™ì¹˜ê´€ê³„ì™€ ë™ì¹˜ë¥˜** (Section 9.5)ë¥¼ ë‹¤ë£¬ë‹¤. ë™ì¹˜ê´€ê³„(ë°˜ì‚¬ì  + ëŒ€ì¹­ì  + ì „ì´ì )ê°€ ì§‘í•©ì„ **ë¶„í• **(partition)í•˜ëŠ” ë°©ë²•, **ë™ì¹˜ë¥˜**(equivalence class)ì˜ ê°œë…, ê·¸ë¦¬ê³  í•©ë™ í´ë˜ìŠ¤ ëª¨ë“ˆë¡œ mì„ ë°°ìš´ë‹¤!
