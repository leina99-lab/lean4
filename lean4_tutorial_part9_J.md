# ğŸ“˜ Lean 4 íŠœí† ë¦¬ì–¼ â€” Part 9-J: ì¼ë°˜í™”ëœ ìˆœì—´ê³¼ ì¡°í•© â€” Lean 4 í˜•ì‹í™” ì—°ìŠµ

> **Rosen ì´ì‚°ìˆ˜í•™ 8íŒ Â§6.5~6.6 ê¸°ë°˜ Â· Mathematics in Lean Chapter 6 ì—°ê²°**
> ì´ì „ íŒŒíŠ¸(Part 9-I)ì—ì„œ `rw`, `intro`, `apply`, `calc`, `â†”` ë“±ì˜ ê¸°ì´ˆ ë„êµ¬ë¥¼ ë°°ì› ë‹¤.
> ì´ë²ˆ íŒŒíŠ¸ì—ì„œëŠ” ì´ ë„êµ¬ë“¤ì„ ì‚¬ìš©í•˜ì—¬ Rosen 6.5~6.6ì ˆì˜ ë¬¸ì œë¥¼ Lean 4ë¡œ í’€ì–´ë³¸ë‹¤.

---

## ğŸ¯ ì´ íŒŒíŠ¸ì—ì„œ ë‹¤ë£¨ëŠ” ë‚´ìš©

| ìˆœì„œ | ì£¼ì œ | Rosen ì ˆ |
|------|------|---------|
| 9J.1 | **ë°˜ë³µ í—ˆìš© ìˆœì—´**(permutation with repetition): nÊ³ | Â§6.5.2 |
| 9J.2 | **ë°˜ë³µ í—ˆìš© ì¡°í•©**(combination with repetition): C(n+r-1, r) | Â§6.5.3 |
| 9J.3 | **êµ¬ë³„ ë¶ˆê°€ ê°ì²´ì˜ ìˆœì—´**: ë‹¤í•­ ê³„ìˆ˜ n!/(nâ‚!â‹¯nâ‚–!) | Â§6.5.4 |
| 9J.4 | **ê°ì²´ë¥¼ ìƒìì— ë¶„ë°°í•˜ê¸°**: 4ê°€ì§€ ìœ í˜• | Â§6.5.5 |
| 9J.5 | **ìˆœì—´ê³¼ ì¡°í•©ì˜ ìƒì„±** | Â§6.6 |
| 9J.6 | ì¢…í•© ì—°ìŠµë¬¸ì œ | Â§6.5~6.6 ì—°ìŠµë¬¸ì œ |

---

## 9J.0 ì¤€ë¹„ â€” Lean 4ì—ì„œ ê³„ìˆ˜ë¥¼ ìœ„í•œ ë„êµ¬ë“¤

ì´ íŒŒíŠ¸ì—ì„œ ì‚¬ìš©í•  í•µì‹¬ Lean 4 ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¨¼ì € ì†Œê°œí•œë‹¤.

```lean
import Mathlib.Data.Nat.Choose.Basic      -- Nat.choose (ì´í•­ ê³„ìˆ˜ C(n,r))
import Mathlib.Data.Nat.Factorial.Basic   -- Nat.factorial (n!)
import Mathlib.Data.Fintype.Card          -- Fintype.card (íƒ€ì…ì˜ ì›ì†Œ ìˆ˜)
import Mathlib.Data.Fin.Basic             -- Fin n (0ë¶€í„° n-1ê¹Œì§€ì˜ íƒ€ì…)

open Nat Fintype Finset
```

### í•µì‹¬ í•¨ìˆ˜/ì •ë¦¬ ì •ë¦¬

| Lean 4 í‘œí˜„ | ìˆ˜í•™ ì˜ë¯¸ | ì˜ˆì‹œ |
|-------------|---------|------|
| `Nat.factorial n` | n! | `factorial 5 = 120` |
| `Nat.choose n r` | C(n, r) | `choose 5 3 = 10` |
| `card (Fin n)` | nê°œì˜ ì›ì†Œ | `card (Fin 5) = 5` |
| `card (Fin n â†’ Fin m)` | mâ¿ (í•¨ìˆ˜ì˜ ìˆ˜) | ë°˜ë³µ í—ˆìš© ìˆœì—´ |
| `card (Fin n Ã— Fin m)` | n Ã— m | ê³±ì…ˆ ë²•ì¹™ |
| `(card Î±) ^ n` | (ì›ì†Œ ìˆ˜)â¿ | ê±°ë“­ì œê³± |

---

## 9J.1 ë°˜ë³µ í—ˆìš© ìˆœì—´ â€” nÊ³

### ğŸ“– ì´ë¡  ë³µìŠµ

**ë°˜ë³µì„ í—ˆìš©í•˜ëŠ” ìˆœì—´**(permutation with repetition)ì´ë€:
- nê°œì˜ ì›ì†Œë¥¼ ê°€ì§„ ì§‘í•©ì—ì„œ
- **ê°™ì€ ì›ì†Œë¥¼ ì—¬ëŸ¬ ë²ˆ** ì„ íƒí•  ìˆ˜ ìˆê²Œ í•˜ë©´ì„œ
- rê°œë¥¼ **ìˆœì„œëŒ€ë¡œ** ë‚˜ì—´í•˜ëŠ” ê²ƒ

ì˜ˆë¥¼ ë“¤ì–´, 26ê°œì˜ ì˜ì–´ ëŒ€ë¬¸ìë¡œ ê¸¸ì´ 3ì¸ ë¬¸ìì—´ì„ ë§Œë“œëŠ” ê²½ìš°ì˜ ìˆ˜ëŠ”?
â†’ ê° ìœ„ì¹˜ì—ì„œ 26ê°€ì§€ ì„ íƒì´ ê°€ëŠ¥í•˜ë¯€ë¡œ 26Â³ = 17,576ê°€ì§€.

> **ì •ë¦¬**(Theorem): ë°˜ë³µì´ í—ˆìš©ë  ë•Œ, nê°œì˜ ì›ì†Œë¥¼ ê°–ëŠ” ì§‘í•©ì—ì„œ r-ìˆœì—´ì˜ ê°œìˆ˜ëŠ” **nÊ³**ì´ë‹¤.

### ğŸ–¥ï¸ Lean 4 í˜•ì‹í™”

Lean 4ì—ì„œ "nê°œ ì›ì†Œì—ì„œ rê°œë¥¼ ìˆœì„œëŒ€ë¡œ ê³ ë¥´ë˜ ë°˜ë³µ í—ˆìš©"ì€
`Fin r â†’ Fin n` íƒ€ì…ì˜ **í•¨ìˆ˜**ë¡œ í‘œí˜„í•œë‹¤.

ì™œ í•¨ìˆ˜ì¸ê°€? ê° ìœ„ì¹˜(1ë²ˆì§¸, 2ë²ˆì§¸, ..., rë²ˆì§¸)ì— ëŒ€í•´ ì–´ë–¤ ì›ì†Œë¥¼ ë°°ì¹˜í• ì§€ ê²°ì •í•˜ëŠ” ê²ƒì´
ê³§ í•¨ìˆ˜ `ìœ„ì¹˜ â†’ ì›ì†Œ`ì´ê¸° ë•Œë¬¸ì´ë‹¤.

```lean
-- Leanì€ Fin r â†’ Fin n íƒ€ì…ì˜ ì›ì†Œ ìˆ˜ê°€ n^r ì„ì„ ì•ˆë‹¤
example (n r : Nat) : card (Fin r â†’ Fin n) = n ^ r := by
  simp
```

### ğŸ“ ì˜ˆì œ 1 (Rosen ì˜ˆì œ 1): ì˜ì–´ ëŒ€ë¬¸ì ë¬¸ìì—´

> ì˜ì–´ ëŒ€ë¬¸ì ì•ŒíŒŒë²³ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ê¸¸ì´ rì˜ ë¬¸ìì—´ì€ ëª¨ë‘ ëª‡ ê°€ì§€ì¸ê°€?

```lean
-- 26ê°œ ëŒ€ë¬¸ìë¡œ ê¸¸ì´ rì¸ ë¬¸ìì—´ì˜ ìˆ˜ = 26^r
example (r : Nat) : card (Fin r â†’ Fin 26) = 26 ^ r := by
  simp
```

**ì„¤ëª…**: `Fin r`ì€ ë¬¸ìì—´ì˜ ê° ìœ„ì¹˜(0, 1, ..., r-1)ë¥¼ ë‚˜íƒ€ë‚´ê³ ,
`Fin 26`ì€ 26ê°œì˜ ëŒ€ë¬¸ì(A~Z)ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.
í•¨ìˆ˜ `Fin r â†’ Fin 26`ì€ "ê° ìœ„ì¹˜ì— ì–´ë–¤ ë¬¸ìë¥¼ ë„£ì„ì§€"ë¥¼ ê²°ì •í•œë‹¤.

### ğŸ“ êµ¬ì²´ì  ê³„ì‚°: r = 3ì¼ ë•Œ

```lean
-- ê¸¸ì´ 3ì¸ ëŒ€ë¬¸ì ë¬¸ìì—´ì˜ ìˆ˜ = 26Â³ = 17576
example : card (Fin 3 â†’ Fin 26) = 17576 := by
  simp
  norm_num
```

### âœï¸ ì—°ìŠµ 9J.1-a: ë¹„ë°€ë²ˆí˜¸ (ê´„í˜¸ ì±„ìš°ê¸°)

> ìˆ«ì 0~9ë¡œ ì´ë£¨ì–´ì§„ ê¸¸ì´ 4ì¸ ë¹„ë°€ë²ˆí˜¸ì˜ ìˆ˜ë¥¼ êµ¬í•˜ë¼.

```lean
example : card (Fin 4 â†’ Fin 10) = /-[ ì—¬ê¸°ë¥¼ ì±„ìš°ì„¸ìš” ]-/ := by
  simp
  norm_num
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
-- 10â´ = 10000
example : card (Fin 4 â†’ Fin 10) = 10000 := by
  simp
  norm_num
```

4ìë¦¬ ë¹„ë°€ë²ˆí˜¸ëŠ” ê° ìë¦¬ì— 10ê°€ì§€ ì„ íƒ â†’ 10â´ = 10,000ê°€ì§€.

</details>

### âœï¸ ì—°ìŠµ 9J.1-b: ì´ì§„ ë¬¸ìì—´ (sorry)

> ê¸¸ì´ 8ì¸ ë¹„íŠ¸ ë¬¸ìì—´(0ê³¼ 1ë¡œ êµ¬ì„±)ì˜ ìˆ˜ë¥¼ êµ¬í•˜ë¼.

```lean
example : card (Fin 8 â†’ Fin 2) = 256 := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : card (Fin 8 â†’ Fin 2) = 256 := by
  simp
  norm_num
  -- 2â¸ = 256
```

</details>

### âœï¸ ì—°ìŠµ 9J.1-c: ì¼ë°˜ì ì¸ ê³µì‹ (sorry)

> n^r ê³µì‹ì„ ì§ì ‘ ì¦ëª…í•˜ë¼.

```lean
-- ì´ê²ƒì´ ë°˜ë³µ í—ˆìš© ìˆœì—´ì˜ í•µì‹¬ ì •ë¦¬ì´ë‹¤
theorem perm_with_rep (n r : Nat) : card (Fin r â†’ Fin n) = n ^ r := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
theorem perm_with_rep (n r : Nat) : card (Fin r â†’ Fin n) = n ^ r := by
  simp
```

`simp`ëŠ” `Fintype.card_fun`, `Fintype.card_fin` ë“±ì˜ ë³´ì¡°ì •ë¦¬ë¥¼ ìë™ ì ìš©í•œë‹¤.

</details>

---

## 9J.2 ë°˜ë³µ í—ˆìš© ì¡°í•© â€” C(n+r-1, r)

### ğŸ“– ì´ë¡  ë³µìŠµ

**ë°˜ë³µì„ í—ˆìš©í•˜ëŠ” ì¡°í•©**(combination with repetition)ì´ë€:
- nê°œì˜ **ì¢…ë¥˜**ê°€ ìˆëŠ” ì§‘í•©ì—ì„œ
- **ê°™ì€ ì¢…ë¥˜ë¥¼ ì—¬ëŸ¬ ë²ˆ** ì„ íƒí•  ìˆ˜ ìˆê³ 
- **ìˆœì„œëŠ” ë¬´ì‹œ**í•˜ë©´ì„œ
- rê°œë¥¼ ì„ íƒí•˜ëŠ” ê²ƒ

> **ì •ë¦¬**(Theorem): ì›ì†Œì˜ ì¤‘ë³µì„ í—ˆë½í•  ê²½ìš° nê°œì˜ ì›ì†Œì˜ ì§‘í•©ìœ¼ë¡œë¶€í„° ê°€ëŠ¥í•œ r-ì¡°í•©ì˜ ìˆ˜ëŠ”
> **C(n + r - 1, r)** ë˜ëŠ” ë™ì¼í•˜ê²Œ **C(n + r - 1, n - 1)**ì´ë‹¤.

### ğŸŒŸ ë³„ê³¼ ë§‰ëŒ€ ê¸°ë²• (Stars and Bars)

ì´ ê³µì‹ì˜ í•µì‹¬ ì•„ì´ë””ì–´ëŠ” **ë³„ê³¼ ë§‰ëŒ€**(stars and bars) ê¸°ë²•ì´ë‹¤.

rê°œì˜ ë³„(â˜…)ê³¼ (n-1)ê°œì˜ ë§‰ëŒ€(|)ë¥¼ ì¼ë ¬ë¡œ ë‚˜ì—´í•˜ëŠ” ê²½ìš°ì˜ ìˆ˜ì™€ ê°™ë‹¤!

ì˜ˆ: 3ì¢…ë¥˜(ì‚¬ê³¼, ê·¤, ë°°)ì—ì„œ 4ê°œ ì„ íƒ
- â˜…â˜…|â˜…|â˜… â†’ ì‚¬ê³¼ 2, ê·¤ 1, ë°° 1
- |â˜…â˜…â˜…|â˜… â†’ ì‚¬ê³¼ 0, ê·¤ 3, ë°° 1
- â˜…â˜…â˜…â˜…|| â†’ ì‚¬ê³¼ 4, ê·¤ 0, ë°° 0

ì´ ë‚˜ì—´í•  ê²ƒ: rê°œì˜ â˜… + (n-1)ê°œì˜ | = (n+r-1)ê°œ
ì´ ì¤‘ â˜…ì˜ ìœ„ì¹˜(rê°œ)ë¥¼ ê³ ë¥´ë©´ ë¨ â†’ **C(n+r-1, r)**

### ğŸ–¥ï¸ Lean 4ì—ì„œì˜ í‘œí˜„

```lean
-- ë°˜ë³µ í—ˆìš© ì¡°í•©ì˜ ìˆ˜ = C(n + r - 1, r)
-- Leanì—ì„œ Nat ëº„ì…ˆì€ 0ì—ì„œ ë©ˆì¶”ë¯€ë¡œ ì¡°ì‹¬í•´ì•¼ í•œë‹¤!
-- n â‰¥ 1ì¼ ë•Œ (ì¦‰ ì›ì†Œê°€ í•˜ë‚˜ ì´ìƒì¼ ë•Œ):

example : Nat.choose (3 + 4 - 1) 4 = 15 := by
  -- C(6, 4) = C(6, 2) = 15
  native_decide
```

### ğŸ“ ì˜ˆì œ 2 (Rosen ì˜ˆì œ 2): ê³¼ì¼ ì„ íƒ

> ì‚¬ê³¼, ê·¤, ë°°ê°€ ë‹´ê²¨ìˆëŠ” ë°”êµ¬ë‹ˆì—ì„œ 4ê°œì˜ ê³¼ì¼ì„ ì„ íƒí•˜ëŠ” ê²½ìš°ì˜ ìˆ˜ëŠ”?
> (ìˆœì„œ ë¬´ì‹œ, ê°™ì€ ì¢…ë¥˜ ë°˜ë³µ ê°€ëŠ¥)

```lean
-- n = 3 (ì‚¬ê³¼, ê·¤, ë°°), r = 4
-- C(3 + 4 - 1, 4) = C(6, 4) = 15
example : Nat.choose 6 4 = 15 := by native_decide
```

### ğŸ“ ì˜ˆì œ 3 (Rosen ì˜ˆì œ 3): ì§€í ì„ íƒ

> 7ì¢…ë¥˜ì˜ ì§€í(1, 2, 5, 10, 20, 50, 100ë‹¬ëŸ¬)ì—ì„œ 5ì¥ì„ ì„ íƒí•˜ëŠ” ë°©ë²•ì˜ ìˆ˜ëŠ”?

```lean
-- n = 7, r = 5
-- C(7 + 5 - 1, 5) = C(11, 5) = 462
example : Nat.choose 11 5 = 462 := by native_decide
```

### ğŸ“ ì˜ˆì œ 5 (Rosen ì˜ˆì œ 5): ë°©ì •ì‹ì˜ í•´ì˜ ìˆ˜

> xâ‚ + xâ‚‚ + xâ‚ƒ = 11ì˜ ìŒì´ ì•„ë‹Œ ì •ìˆ˜ í•´ëŠ” ëª‡ ê°œì¸ê°€?

ì´ê²ƒì€ "3ê°œ ì›ì†Œì˜ ì§‘í•©ì—ì„œ ì¤‘ë³µì„ í—ˆìš©í•˜ì—¬ 11ê°œë¥¼ ì„ íƒ"í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤!
- xâ‚ = ì²« ë²ˆì§¸ ì›ì†Œë¥¼ ê³ ë¥¸ íšŸìˆ˜
- xâ‚‚ = ë‘ ë²ˆì§¸ ì›ì†Œë¥¼ ê³ ë¥¸ íšŸìˆ˜
- xâ‚ƒ = ì„¸ ë²ˆì§¸ ì›ì†Œë¥¼ ê³ ë¥¸ íšŸìˆ˜

```lean
-- n = 3, r = 11
-- C(3 + 11 - 1, 11) = C(13, 11) = C(13, 2) = 78
example : Nat.choose 13 11 = 78 := by native_decide

-- C(13, 2)ë¡œ ê³„ì‚°í•´ë„ ê°™ë‹¤ (ëŒ€ì¹­ì„±)
example : Nat.choose 13 2 = 78 := by native_decide
```

### âœï¸ ì—°ìŠµ 9J.2-a: ê³¼ì ê°€ê²Œ (ê´„í˜¸ ì±„ìš°ê¸°)

> ê³¼ì ê°€ê²Œì—ì„œ 4ê°€ì§€ ì¢…ë¥˜ì˜ ê³¼ìë¥¼ íŒë‹¤. 6ê°œì˜ ê³¼ìë¥¼ ì„ íƒí•˜ëŠ” ë°©ë²•ì€?
> (Rosen ì˜ˆì œ 4)

```lean
-- n = 4, r = 6
-- C(4 + 6 - 1, 6) = C(9, 6) = ?
example : Nat.choose 9 6 = /-[ ì—¬ê¸°ë¥¼ ì±„ìš°ì„¸ìš” ]-/ := by native_decide
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : Nat.choose 9 6 = 84 := by native_decide
-- C(9, 6) = C(9, 3) = 9Â·8Â·7 / (1Â·2Â·3) = 84
```

</details>

### âœï¸ ì—°ìŠµ 9J.2-b: ë°©ì •ì‹ì˜ í•´ (sorry)

> xâ‚ + xâ‚‚ + xâ‚ƒ + xâ‚„ = 17ì˜ ìŒì´ ì•„ë‹Œ ì •ìˆ˜ í•´ì˜ ìˆ˜ë¥¼ êµ¬í•˜ë¼.

```lean
-- n = 4 (ë³€ìˆ˜ì˜ ìˆ˜), r = 17 (í•©)
-- C(4 + 17 - 1, 17) = C(20, 17) = C(20, 3)
example : Nat.choose 20 17 = 1140 := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : Nat.choose 20 17 = 1140 := by native_decide
-- C(20, 3) = 20Â·19Â·18 / (1Â·2Â·3) = 1140
```

</details>

### âœï¸ ì—°ìŠµ 9J.2-c: ì œí•œ ìˆëŠ” ë°©ì •ì‹ (Rosen ì—°ìŠµë¬¸ì œ ìœ í˜•)

> xâ‚ + xâ‚‚ + xâ‚ƒ = 11, ë‹¨ xâ‚ â‰¥ 1, xâ‚‚ â‰¥ 2, xâ‚ƒ â‰¥ 3 ì¼ ë•Œ í•´ì˜ ìˆ˜ëŠ”?

**ì•„ì´ë””ì–´**: yâ‚ = xâ‚ - 1, yâ‚‚ = xâ‚‚ - 2, yâ‚ƒ = xâ‚ƒ - 3ìœ¼ë¡œ ì¹˜í™˜í•˜ë©´
yâ‚ + yâ‚‚ + yâ‚ƒ = 11 - 1 - 2 - 3 = 5, yâ‚, yâ‚‚, yâ‚ƒ â‰¥ 0

```lean
-- n = 3, r = 5
-- C(3 + 5 - 1, 5) = C(7, 5) = C(7, 2)
example : Nat.choose 7 5 = 21 := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : Nat.choose 7 5 = 21 := by native_decide
-- C(7, 2) = 7Â·6 / (1Â·2) = 21
```

</details>

---

## 9J.3 êµ¬ë³„ ë¶ˆê°€ ê°ì²´ì˜ ìˆœì—´ â€” ë‹¤í•­ ê³„ìˆ˜

### ğŸ“– ì´ë¡  ë³µìŠµ

nê°œì˜ ê°ì²´ ì¤‘ì—ì„œ êµ¬ë³„í•  ìˆ˜ ì—†ëŠ” ìœ í˜• 1ì˜ ê°ì²´ê°€ nâ‚ê°œ, ìœ í˜• 2ì˜ ê°ì²´ê°€ nâ‚‚ê°œ, ...,
ìœ í˜• kì˜ ê°ì²´ê°€ nâ‚–ê°œ ìˆì„ ë•Œ, ì„œë¡œ ë‹¤ë¥¸ ìˆœì—´ì˜ ìˆ˜ëŠ”:

> **n! / (nâ‚! Â· nâ‚‚! Â· â‹¯ Â· nâ‚–!)**

### ğŸ“ ì˜ˆì œ 7 (Rosen): "SUCCESS"ì˜ ì¬ë°°ì¹˜

> "SUCCESS" ë‹¨ì–´ì˜ ë¬¸ìë“¤ì„ ì¬ë°°ì¹˜í•˜ì—¬ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë¬¸ìì—´ì€?
> S: 3ê°œ, U: 1ê°œ, C: 2ê°œ, E: 1ê°œ â†’ ì´ 7ê°œ

```lean
-- 7! / (3! Â· 2! Â· 1! Â· 1!) = 5040 / 12 = 420
example : 5040 / (6 * 2 * 1 * 1) = 420 := by norm_num

-- ê° íŒ©í† ë¦¬ì–¼ í™•ì¸
example : Nat.factorial 7 = 5040 := by native_decide
example : Nat.factorial 3 = 6 := by native_decide
example : Nat.factorial 2 = 2 := by native_decide
```

### ğŸ“ ì˜ˆì œ 8 (Rosen): ì¹´ë“œ ë¶„ë°°

> 52ì¥ì˜ ì¹´ë“œì—ì„œ 4ëª…ì˜ ê²½ê¸°ìì—ê²Œ ê°ê° 5ì¥ì˜ ì¹´ë“œë¥¼ ë¶„ë°°í•˜ëŠ” ì„œë¡œ ë‹¤ë¥¸ ë°©ë²•ì˜ ìˆ˜ëŠ”?

```lean
-- C(52,5) Â· C(47,5) Â· C(42,5) Â· C(37,5) = 52! / (5!Â·5!Â·5!Â·5!Â·32!)
-- ê°œë³„ ê³„ì‚°
example : Nat.choose 52 5 = 2598960 := by native_decide
example : Nat.choose 47 5 = 1533939 := by native_decide
example : Nat.choose 42 5 = 850668 := by native_decide
example : Nat.choose 37 5 = 435897 := by native_decide
```

### âœï¸ ì—°ìŠµ 9J.3-a: MISSISSIPPI (sorry)

> "MISSISSIPPI"ì˜ ë¬¸ìë¥¼ ì¬ë°°ì¹˜í•˜ëŠ” ë°©ë²•ì˜ ìˆ˜ëŠ”?
> M: 1, I: 4, S: 4, P: 2 â†’ ì´ 11

```lean
-- 11! / (1! Â· 4! Â· 4! Â· 2!)
example : Nat.factorial 11 = 39916800 := by native_decide
-- ë¶„ëª¨: 1 Â· 24 Â· 24 Â· 2 = 1152
-- 39916800 / 1152 = 34650
example : 39916800 / 1152 = 34650 := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : 39916800 / 1152 = 34650 := by norm_num
```

</details>

### âœï¸ ì—°ìŠµ 9J.3-b: ABRACADABRA (sorry)

> "ABRACADABRA"ì˜ ë¬¸ìë¥¼ ì¬ë°°ì¹˜í•˜ëŠ” ë°©ë²•ì˜ ìˆ˜ëŠ”?
> A: 5, B: 2, R: 2, C: 1, D: 1 â†’ ì´ 11

```lean
-- 11! / (5! Â· 2! Â· 2! Â· 1! Â· 1!)
-- = 39916800 / (120 Â· 2 Â· 2 Â· 1 Â· 1)
-- = 39916800 / 480 = 83160
example : 39916800 / 480 = 83160 := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : 39916800 / 480 = 83160 := by norm_num
```

</details>

---

## 9J.4 ê°ì²´ë¥¼ ìƒìì— ë¶„ë°°í•˜ê¸° â€” 4ê°€ì§€ ìœ í˜•

### ğŸ“– ì´ë¡  ë³µìŠµ: 4ê°€ì§€ ìœ í˜• ë¹„êµí‘œ

ë§ì€ ê³„ìˆ˜ ë¬¸ì œëŠ” **ê°ì²´**(objects)ë¥¼ **ìƒì**(boxes)ì— ë„£ëŠ” ê²ƒìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‹¤.
ê°ì²´ì™€ ìƒìì˜ **êµ¬ë³„ ê°€ëŠ¥ ì—¬ë¶€**ì— ë”°ë¼ 4ê°€ì§€ ìœ í˜•ì´ ìˆë‹¤:

| ìœ í˜• | ê°ì²´ | ìƒì | ê³µì‹ | ë¹„ìœ  |
|------|------|------|------|------|
| â‘  | **êµ¬ë³„ ê°€ëŠ¥** | **êµ¬ë³„ ê°€ëŠ¥** | ë‹¤í•­ ê³„ìˆ˜ n!/(nâ‚!â‹¯nâ‚–!) | í•™ìƒì„ ë°˜ì— ë°°ì¹˜ |
| â‘¡ | **êµ¬ë³„ ë¶ˆê°€** | **êµ¬ë³„ ê°€ëŠ¥** | C(n+k-1, n) | ë™ì „ì„ ì €ê¸ˆí†µì— ë¶„ë°° |
| â‘¢ | **êµ¬ë³„ ê°€ëŠ¥** | **êµ¬ë³„ ë¶ˆê°€** | ìŠ¤í„¸ë§ ìˆ˜ S(n,k) | ì‚¬ë¬´ì‹¤ ë°°ì¹˜ |
| â‘£ | **êµ¬ë³„ ë¶ˆê°€** | **êµ¬ë³„ ë¶ˆê°€** | ìì—°ìˆ˜ ë¶„í•  p(n) | ì±…ì„ ìƒìì— í¬ì¥ |

### ğŸ–¥ï¸ Lean 4ì—ì„œì˜ ìœ í˜• â‘ : êµ¬ë³„ ê°€ëŠ¥ â†’ êµ¬ë³„ ê°€ëŠ¥

```lean
-- nê°œì˜ êµ¬ë³„ ê°€ëŠ¥ ê°ì²´ë¥¼ kê°œì˜ êµ¬ë³„ ê°€ëŠ¥ ìƒìì— ë„£ê¸° = kâ¿
-- (ê° ê°ì²´ë§ˆë‹¤ kê°œ ìƒì ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒ)
-- ì´ê²ƒì€ í•¨ìˆ˜ Fin n â†’ Fin k ì˜ ìˆ˜ì™€ ê°™ë‹¤!

example : card (Fin 3 â†’ Fin 4) = 64 := by
  simp; norm_num
  -- 4Â³ = 64
```

### ğŸ–¥ï¸ Lean 4ì—ì„œì˜ ìœ í˜• â‘¡: êµ¬ë³„ ë¶ˆê°€ â†’ êµ¬ë³„ ê°€ëŠ¥

```lean
-- 10ê°œì˜ êµ¬ë³„ ë¶ˆê°€ ê³µì„ 8ê°œì˜ êµ¬ë³„ ê°€ëŠ¥ ìƒìì— ë„£ê¸°
-- = C(8 + 10 - 1, 10) = C(17, 10)
-- (Rosen ì˜ˆì œ 9)

example : Nat.choose 17 10 = 19448 := by native_decide
```

### ğŸ“ ì˜ˆì œ 9 (Rosen): êµ¬ë³„ ë¶ˆê°€ ê³µ â†’ êµ¬ë³„ ê°€ëŠ¥ ìƒì

> 8ê°œì˜ êµ¬ë³„ ê°€ëŠ¥í•œ êµ¬ëª…ì— 10ê°œì˜ êµ¬ë³„ë˜ì§€ ì•ŠëŠ” ê³µë“¤ì„ ë„£ëŠ” ê°€ëŠ¥í•œ ë°©ë²•ì€?

```lean
-- C(8 + 10 - 1, 10) = C(17, 10) = 19,448
example : Nat.choose 17 10 = 19448 := by native_decide
```

### âœï¸ ì—°ìŠµ 9J.4-a: í•™ìƒ ë°°ì¹˜ (ê´„í˜¸ ì±„ìš°ê¸°)

> 5ëª…ì˜ ì„œë¡œ ë‹¤ë¥¸ í•™ìƒì„ 3ê°œì˜ ì„œë¡œ ë‹¤ë¥¸ ì¡°ì— ë°°ì¹˜í•˜ëŠ” ë°©ë²•ì˜ ìˆ˜ëŠ”?

```lean
-- ìœ í˜• â‘ : 3âµ = ?
example : card (Fin 5 â†’ Fin 3) = /-[ ì—¬ê¸°ë¥¼ ì±„ìš°ì„¸ìš” ]-/ := by
  simp; norm_num
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : card (Fin 5 â†’ Fin 3) = 243 := by
  simp; norm_num
  -- 3âµ = 243
```

</details>

### âœï¸ ì—°ìŠµ 9J.4-b: ë™ì „ ë¶„ë°° (sorry)

> 20ê°œì˜ ë™ì¼í•œ ë™ì „ì„ 4ê°œì˜ ì„œë¡œ ë‹¤ë¥¸ ì €ê¸ˆí†µì— ë„£ëŠ” ë°©ë²•ì˜ ìˆ˜ëŠ”?

```lean
-- ìœ í˜• â‘¡: C(4 + 20 - 1, 20) = C(23, 20) = C(23, 3)
example : Nat.choose 23 20 = 1771 := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : Nat.choose 23 20 = 1771 := by native_decide
-- C(23, 3) = 23Â·22Â·21 / (1Â·2Â·3) = 1771
```

</details>

### âœï¸ ì—°ìŠµ 9J.4-c: ë™ì „ ì„ íƒ (Rosen ì—°ìŠµ 12)

> ì €ê¸ˆí†µì— 20ê°œì˜ ë™ì „(1ì›, 10ì›, 50ì›, 100ì›, 500ì›ì§œë¦¬)ì´ ìˆë‹¤.
> 8ê°œì˜ ë™ì „ì„ ì„ íƒí•˜ëŠ” ì„œë¡œ ë‹¤ë¥¸ ì¡°í•©ì˜ ìˆ˜ëŠ”?

```lean
-- n = 5 (ë™ì „ ì¢…ë¥˜), r = 8 (ì„ íƒ ìˆ˜)
-- C(5 + 8 - 1, 8) = C(12, 8) = C(12, 4)
example : Nat.choose 12 8 = 495 := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : Nat.choose 12 8 = 495 := by native_decide
-- C(12, 4) = 12Â·11Â·10Â·9 / (1Â·2Â·3Â·4) = 495
```

</details>

---

## 9J.5 ìˆœì—´ê³¼ ì¡°í•©ì˜ ìƒì„± (Â§6.6)

### ğŸ“– ì´ë¡  ë³µìŠµ: ì‚¬ì „ìˆœ ì •ë ¬

**ì‚¬ì „ìˆœ ì •ë ¬**(lexicographic ordering)ì€ ì‚¬ì „ì—ì„œ ë‹¨ì–´ë¥¼ ì°¾ëŠ” ìˆœì„œì™€ ê°™ë‹¤.
ë‘ ìˆœì—´ì„ ë¹„êµí•  ë•Œ, ì™¼ìª½ë¶€í„° í•˜ë‚˜ì”© ë¹„êµí•˜ì—¬ ì²˜ìŒ ë‹¤ë¥¸ ìœ„ì¹˜ì—ì„œ ì‘ì€ ìª½ì´ ì•ì— ì˜¨ë‹¤.

### ğŸ“ ì˜ˆì œ (Rosen ì˜ˆì œ 1): ì‚¬ì „ìˆœ ë¹„êµ

> {1, 2, 3, 4, 5}ì— ëŒ€í•œ ìˆœì—´ 23415ëŠ” ìˆœì—´ 23514ë³´ë‹¤ ì•ì— ë‚˜ì˜¨ë‹¤.
> ì„¸ ë²ˆì§¸ ìœ„ì¹˜ì˜ ìˆ«ìê°€ ì²« ë²ˆì§¸ ìˆœì—´ì€ 4ì´ê³  ë‘ ë²ˆì§¸ ìˆœì—´ì€ 5ë¡œì„œ ì²« ë²ˆì§¸ ìˆœì—´ì˜ ìˆ˜ê°€ ì‘ê¸° ë•Œë¬¸ì´ë‹¤.

```lean
-- ë¦¬ìŠ¤íŠ¸ì˜ ì‚¬ì „ìˆœ ë¹„êµ
example : [2,3,4,1,5] < [2,3,5,1,4] := by decide
```

### ğŸ–¥ï¸ Lean 4ì—ì„œ ìˆœì—´ ë‹¤ë£¨ê¸°

Leanì˜ Mathlibì—ì„œ ìˆœì—´ì€ `Equiv.Perm (Fin n)` íƒ€ì…ìœ¼ë¡œ í‘œí˜„ëœë‹¤.
í•˜ì§€ë§Œ ì—¬ê¸°ì„œëŠ” ë” ì§ê´€ì ì¸ **ë¦¬ìŠ¤íŠ¸**ë¡œ ì‘ì—…í•œë‹¤.

```lean
-- ë¦¬ìŠ¤íŠ¸ ë¹„êµ (ì‚¬ì „ìˆœ)
#eval ([1,2,3] : List Nat) < [1,2,4]   -- true
#eval ([1,2,3] : List Nat) < [1,3,2]   -- true
#eval ([2,1,3] : List Nat) < [1,2,3]   -- false (2 > 1)
```

### ğŸ”„ ë‹¤ìŒ ìˆœì—´ ì•Œê³ ë¦¬ì¦˜ (Rosen ì•Œê³ ë¦¬ì¦˜ 1)

Rosenì˜ ì•Œê³ ë¦¬ì¦˜ì„ Lean 4 ìŠ¤íƒ€ì¼ë¡œ ì„¤ëª…í•˜ë©´:

**ì…ë ¥**: ìˆœì—´ aâ‚aâ‚‚...aâ‚™ (ë§ˆì§€ë§‰ ìˆœì—´ì´ ì•„ë‹Œ ê²ƒ)

1. **ì˜¤ë¥¸ìª½ì—ì„œ ê°ì†Œí•˜ì§€ ì•ŠëŠ” ê°€ì¥ í° jë¥¼ ì°¾ê¸°**: aâ±¼ < aâ±¼â‚Šâ‚ì¸ ê°€ì¥ í° j
2. **aâ±¼ë³´ë‹¤ í° ê°€ì¥ ì˜¤ë¥¸ìª½ì˜ aâ‚–ë¥¼ ì°¾ê¸°**
3. **aâ±¼ì™€ aâ‚–ë¥¼ êµí™˜**
4. **j+1ë²ˆì§¸ë¶€í„° ëê¹Œì§€ë¥¼ ë’¤ì§‘ê¸°** (ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ë§Œë“¤ê¸°)

### ğŸ“ ì˜ˆì œ (Rosen ì˜ˆì œ 2): 362541 â†’ ë‹¤ìŒ ìˆœì—´

> 362541ì˜ ë‹¤ìŒìœ¼ë¡œ í° ìˆœì—´ì€?

ë‹¨ê³„ë³„:
1. ì˜¤ë¥¸ìª½ì—ì„œ ë³´ë©´ 5 > 4 > 1ì´ê³ , 2 < 5ì´ë¯€ë¡œ j = 3 (aâ±¼ = 2)
2. 2ë³´ë‹¤ í¬ê³  ê°€ì¥ ì˜¤ë¥¸ìª½ì¸ ê²ƒ: aâ‚– = 4
3. êµí™˜: 3 6 **4** 5 **2** 1 â†’ 364521 (ì•„ì§ ë¯¸ì™„ì„±)
4. j+1=4ë²ˆì§¸ë¶€í„° ë’¤ì§‘ê¸°: 364**125**

ê²°ê³¼: **364125**

```lean
-- í™•ì¸: 364125 > 362541 (ì‚¬ì „ìˆœ)
example : [3,6,4,1,2,5] > [3,6,2,5,4,1] := by decide
```

### âœï¸ ì—°ìŠµ 9J.5-a: ë‹¤ìŒ ìˆœì—´ ì°¾ê¸° (ê°œë… í™•ì¸)

> 12453ì˜ ë‹¤ìŒ ìˆœì—´ì„ ì§ì ‘ êµ¬í•œ í›„, Leanìœ¼ë¡œ ìˆœì„œë¥¼ í™•ì¸í•˜ë¼.

```lean
-- 12453ì˜ ë‹¤ìŒ ìˆœì—´ì€?
-- j = 3 (aâ‚ƒ = 4 < aâ‚„ = 5), k = 4 (aâ‚„ = 5)
-- êµí™˜: 12543 â†’ ë’¤ì§‘ê¸°: 12534? ì•„ë‹ˆ...
-- ë‹¤ì‹œ: j = 3ì´ë©´ aâ‚ƒ = 4, aâ‚„ = 5, aâ‚… = 3
-- a_j = 4 < a_{j+1} = 5, j = 3
-- k: 4ë³´ë‹¤ í° ê°€ì¥ ì˜¤ë¥¸ìª½ = 5 (ìœ„ì¹˜ 4)
-- êµí™˜: 1,2,5,4,3 â†’ j+1=4ë¶€í„° ë’¤ì§‘ê¸°: 1,2,5,3,4

-- ì •ë‹µ: 12534
example : [1,2,5,3,4] > [1,2,4,5,3] := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : [1,2,5,3,4] > [1,2,4,5,3] := by decide
```

</details>

### âœï¸ ì—°ìŠµ 9J.5-b: ë¹„íŠ¸ ë¬¸ìì—´ (Rosen ì˜ˆì œ 4)

> 10 0010 0111 ë‹¤ìŒìœ¼ë¡œ í° ë¹„íŠ¸ ë¬¸ìì—´ì„ ì°¾ì•„ë¼.

**ì•Œê³ ë¦¬ì¦˜**: ì˜¤ë¥¸ìª½ì—ì„œ ì²« ë²ˆì§¸ 0ì„ ì°¾ì•„ 1ë¡œ ë°”ê¾¸ê³ , ê·¸ ë‹¤ìŒì˜ 1ì„ ëª¨ë‘ 0ìœ¼ë¡œ ë°”ê¾¼ë‹¤.

```lean
-- 10 0010 0111ì˜ ë‹¤ìŒ = 10 0010 1000
-- (ì˜¤ë¥¸ìª½ì—ì„œ 4ë²ˆì§¸ê°€ ì²« ë²ˆì§¸ 0, ì´ë¥¼ 1ë¡œ ë°”ê¾¸ê³  ë‚˜ë¨¸ì§€ 0)
example : [1,0,0,0,1,0,1,0,0,0] > [1,0,0,0,1,0,0,1,1,1] := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : [1,0,0,0,1,0,1,0,0,0] > [1,0,0,0,1,0,0,1,1,1] := by decide
```

</details>

---

## 9J.6 ì¢…í•© ì—°ìŠµë¬¸ì œ

### âœï¸ ì—°ìŠµ 9J.6-a: ë°˜ë³µ í—ˆìš© ìˆœì—´ â€” 6ìë¦¬ (sorry)

> 6ìì˜ ì˜ë¬¸ìë¡œ ì´ë£¨ì–´ì§„ ë‹¨ì–´ëŠ” ëª¨ë‘ ëª‡ ê°œì¸ê°€? (Rosen ì—°ìŠµ 3)

```lean
-- 26â¶
example : card (Fin 6 â†’ Fin 26) = 308915776 := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : card (Fin 6 â†’ Fin 26) = 308915776 := by
  simp; norm_num
```

</details>

### âœï¸ ì—°ìŠµ 9J.6-b: ìƒŒë“œìœ„ì¹˜ ì„ íƒ (Rosen ì—°ìŠµ 4)

> 6ì¢…ë¥˜ì˜ ìƒŒë“œìœ„ì¹˜ ì¤‘ ë§¤ì¼ í¬ì¥ëœ ìƒŒë“œìœ„ì¹˜ë¥¼ ì„ íƒ, 7ì¼ê°„ ì„œë¡œ ë‹¤ë¥¸ ë°©ë²•ì€?
> (ë°˜ë³µ í—ˆìš© ìˆœì—´: ìˆœì„œ ì¤‘ìš”, ê°™ì€ ì¢…ë¥˜ ë°˜ë³µ ê°€ëŠ¥)

```lean
-- 6â·
example : card (Fin 7 â†’ Fin 6) = 279936 := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : card (Fin 7 â†’ Fin 6) = 279936 := by
  simp; norm_num
```

</details>

### âœï¸ ì—°ìŠµ 9J.6-c: ë„ë„ˆì¸  ì„ íƒ (Rosen ì—°ìŠµ 8)

> ë„ë„ˆì¸  ê°€ê²Œì—ì„œ 21ì¢…ë¥˜ì˜ ë„ë„ˆì¸  ì¤‘ 12ê°œë¥¼ ì„ íƒ, ì„œë¡œ ë‹¤ë¥¸ ë°©ë²•ì˜ ìˆ˜ëŠ”?
> (ë°˜ë³µ í—ˆìš© ì¡°í•©: ìˆœì„œ ë¬´ê´€, ê°™ì€ ì¢…ë¥˜ ë°˜ë³µ ê°€ëŠ¥)

```lean
-- C(21 + 12 - 1, 12) = C(32, 12)
example : Nat.choose 32 12 = 225792840 := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : Nat.choose 32 12 = 225792840 := by native_decide
```

</details>

### âœï¸ ì—°ìŠµ 9J.6-d: ì‘ì—… í• ë‹¹ (Rosen ì—°ìŠµ 5)

> 3ê°€ì§€ì˜ ì‘ì—…ì„ 5ëª…ì˜ ì‚¬ì›ì—ê²Œ í• ë‹¹í•œë‹¤. ê° ì‚¬ì›ì—ê²Œ í•œ ê°€ì§€ ì´ìƒì˜ ì‘ì—…ì„
> í• ë‹¹í•  ìˆ˜ë„ ìˆë‹¤ë©´, í• ë‹¹í•˜ëŠ” ë°©ë²•ì€ ëª¨ë‘ ëª‡ ê°€ì§€ì¸ê°€?

```lean
-- ê° ì‘ì—…ì— ëŒ€í•´ 5ëª… ì¤‘ 1ëª… ì„ íƒ = 5Â³
example : card (Fin 3 â†’ Fin 5) = 125 := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : card (Fin 3 â†’ Fin 5) = 125 := by
  simp; norm_num
```

</details>

### âœï¸ ì—°ìŠµ 9J.6-e: ì¤‘ë³µ ì¡°í•© â€” ìˆœì„œ ë¬´ê´€ (Rosen ì—°ìŠµ 6)

> ì›ì†Œê°€ 3ê°œì¸ ì§‘í•©ì—ì„œ ì¤‘ë³µì„ í—ˆìš©í•˜ì—¬ 5ê°œì˜ ì›ì†Œë¥¼ ìˆœì„œì— ê´€ê³„ì—†ì´ ì„ íƒí•˜ëŠ” ìˆ˜ëŠ”?

```lean
-- C(3 + 5 - 1, 5) = C(7, 5) = C(7, 2) = 21
example : Nat.choose 7 5 = 21 := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : Nat.choose 7 5 = 21 := by native_decide
```

</details>

### âœï¸ ì—°ìŠµ 9J.6-f: ì¤‘ë³µ ì¡°í•© â€” 5ê°œ ì›ì†Œì—ì„œ 3ê°œ (Rosen ì—°ìŠµ 7)

> ì›ì†Œê°€ 5ê°œì¸ ì§‘í•©ì—ì„œ ì¤‘ë³µì„ í—ˆìš©í•˜ì—¬ 3ê°œì˜ ì›ì†Œë¥¼ ìˆœì„œì— ê´€ê³„ì—†ì´ ì„ íƒí•˜ëŠ” ìˆ˜ëŠ”?

```lean
-- C(5 + 3 - 1, 3) = C(7, 3)
example : Nat.choose 7 3 = 35 := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : Nat.choose 7 3 = 35 := by native_decide
```

</details>

### âœï¸ ì—°ìŠµ 9J.6-g: ë°©ì •ì‹ì˜ í•´ â€” í•˜í•œ ìˆìŒ (Rosen ì—°ìŠµ 15a)

> xâ‚ + xâ‚‚ + xâ‚ƒ + xâ‚„ + xâ‚… = 21, ëª¨ë“  ë³€ìˆ˜ê°€ ìŒì´ ì•„ë‹Œ ì •ìˆ˜ì¼ ë•Œ, í•´ì˜ ìˆ˜ëŠ”?
> ë‹¨ xâ‚ â‰¥ 1.

```lean
-- yâ‚ = xâ‚ - 1ë¡œ ì¹˜í™˜í•˜ë©´ yâ‚ + xâ‚‚ + xâ‚ƒ + xâ‚„ + xâ‚… = 20
-- n = 5, r = 20
-- C(5 + 20 - 1, 20) = C(24, 20) = C(24, 4)
example : Nat.choose 24 4 = 10626 := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : Nat.choose 24 4 = 10626 := by native_decide
```

</details>

### âœï¸ ì—°ìŠµ 9J.6-h: êµ¬ë³„ ë¶ˆê°€ ê°ì²´ ë¶„ë°° (Rosen ì—°ìŠµ 23)

> ë™ì¼í•œ 6ê°œì˜ ê³µì„ ì„œë¡œ ë‹¤ë¥¸ 9ê°œì˜ ìƒìì— ë¶„ë°°í•˜ëŠ” ë°©ë²•ì€?

```lean
-- C(9 + 6 - 1, 6) = C(14, 6)
example : Nat.choose 14 6 = 3003 := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : Nat.choose 14 6 = 3003 := by native_decide
```

</details>

### âœï¸ ì—°ìŠµ 9J.6-i: ì´í•­ ê³„ìˆ˜ ëŒ€ì¹­ì„± (â†’ ì™€ â†” í™œìš©)

```lean
-- C(n, r) = C(n, n-r) ì˜ êµ¬ì²´ì  ì˜ˆë¥¼ ì¦ëª…í•˜ë¼
-- ì´ê²ƒì€ â†”ê°€ ì•„ë‹Œ = (ë™ì¹˜ê°€ ì•„ë‹Œ ë“±ì‹)ì´ë‹¤

-- ë°©ë²• 1: êµ¬ì²´ì  ìˆ˜ì¹˜ í™•ì¸
example : Nat.choose 10 3 = Nat.choose 10 7 := by
  sorry

-- ë°©ë²• 2: ì¼ë°˜ì  ì •ë¦¬ ì‚¬ìš©
-- Nat.choose_symm : n.choose r = n.choose (n - r)
example (n r : Nat) (h : r â‰¤ n) : Nat.choose n r = Nat.choose n (n - r) := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
example : Nat.choose 10 3 = Nat.choose 10 7 := by native_decide

example (n r : Nat) (h : r â‰¤ n) : Nat.choose n r = Nat.choose n (n - r) := by
  exact Nat.choose_symm h
```

</details>

### âœï¸ ì—°ìŠµ 9J.6-j: lemma + theorem êµ¬ì¡° (ì¢…í•©)

```lean
-- ë³´ì¡°ì •ë¦¬: C(n, 0) = 1
lemma choose_zero (n : Nat) : Nat.choose n 0 = 1 := by
  sorry

-- ë³´ì¡°ì •ë¦¬: C(n, n) = 1
lemma choose_self (n : Nat) : Nat.choose n n = 1 := by
  sorry

-- ì •ë¦¬: C(n, 0) + C(n, n) = 2
theorem choose_ends (n : Nat) : Nat.choose n 0 + Nat.choose n n = 2 := by
  sorry
```

<details>
<summary>âœ… ë‹µ ë³´ê¸°</summary>

```lean
lemma choose_zero (n : Nat) : Nat.choose n 0 = 1 := by
  simp [Nat.choose_zero_right]

lemma choose_self (n : Nat) : Nat.choose n n = 1 := by
  simp [Nat.choose_self]

theorem choose_ends (n : Nat) : Nat.choose n 0 + Nat.choose n n = 2 := by
  rw [choose_zero, choose_self]   -- ë³´ì¡°ì •ë¦¬ ì‚¬ìš©!
```

ì´ê²ƒì´ **lemma â†’ theorem** íŒ¨í„´ì˜ ì „í˜•ì  ì˜ˆì´ë‹¤:
1. ì‘ì€ ì‚¬ì‹¤ì„ `lemma`ë¡œ ì¦ëª…
2. `rw`ë¡œ `lemma`ë¥¼ **ì¹˜í™˜**í•˜ì—¬ `theorem` ì™„ì„±

</details>

---

## ğŸ“‹ 9J.7 6ì¥ ì „ì²´ ê³µì‹ ì´ì •ë¦¬í‘œ

| ìœ í˜• | ê³µì‹ | Lean 4 í‘œí˜„ |
|------|------|------------|
| r-ìˆœì—´ (ë°˜ë³µ ë¶ˆí—ˆ) | n!/(n-r)! | `Nat.descFactorial n r` |
| r-ì¡°í•© (ë°˜ë³µ ë¶ˆí—ˆ) | C(n,r) | `Nat.choose n r` |
| r-ìˆœì—´ (ë°˜ë³µ í—ˆìš©) | nÊ³ | `card (Fin r â†’ Fin n)` |
| r-ì¡°í•© (ë°˜ë³µ í—ˆìš©) | C(n+r-1, r) | `Nat.choose (n+r-1) r` |
| ë‹¤í•­ ê³„ìˆ˜ | n!/(nâ‚!â‹¯nâ‚–!) | `Nat.multinomial` |
| êµ¬ë³„ ê°ì²´â†’êµ¬ë³„ ìƒì | kâ¿ (ë‹¤í•­ ê³„ìˆ˜) | `card (Fin n â†’ Fin k)` |
| êµ¬ë³„ ë¶ˆê°€â†’êµ¬ë³„ ìƒì | C(n+k-1, n) | `Nat.choose (n+k-1) n` |

---

## ğŸ“‹ 9J.8 ì´ íŒŒíŠ¸ì—ì„œ ì‚¬ìš©í•œ ì „ìˆ  ìš”ì•½

| ì „ìˆ  | ìš©ë„ | ì´ íŒŒíŠ¸ì—ì„œì˜ ì‚¬ìš© |
|------|------|------------------|
| `simp` | ê°„ì†Œí™” ê·œì¹™ ìë™ ì ìš© | `card (Fin r â†’ Fin n) = n^r` |
| `norm_num` | êµ¬ì²´ì  ìˆ«ì ê³„ì‚° | `26^3 = 17576` |
| `native_decide` | ê²°ì • ê°€ëŠ¥ ëª…ì œ ìë™ íŒì • | `Nat.choose 11 5 = 462` |
| `decide` | ê²°ì • ê°€ëŠ¥ ëª…ì œ (ì‘ì€ ê²ƒ) | ë¦¬ìŠ¤íŠ¸ ë¹„êµ |
| `rw [h]` | ë“±ì‹ìœ¼ë¡œ ì¹˜í™˜ | `rw [choose_zero]` |
| `omega` | ìì—°ìˆ˜/ì •ìˆ˜ ì„ í˜• ì‚°ìˆ  | ë°©ì •ì‹ í’€ì´ |

---

## ğŸ”— ì‹œë¦¬ì¦ˆ ì „ì²´ ì§€ë„

| íŒŒíŠ¸ | ë‚´ìš© | Rosen ì ˆ |
|------|------|---------|
| 9-A | ê³„ìˆ˜ ê¸°ë³¸ ì›ë¦¬ (ê³±ì…ˆ/ë§ì…ˆ ë²•ì¹™) | Â§6.1 |
| 9-B | ë¹„ë‘˜ê¸°ì§‘ ì›ë¦¬ | Â§6.2 |
| 9-C | ë¹„ë‘˜ê¸°ì§‘ ì›ë¦¬ ì‹¬í™” | Â§6.2 |
| 9-D | ìˆœì—´ê³¼ ì¡°í•© | Â§6.3 |
| 9-E | ì´í•­ ì •ë¦¬ì™€ íŒŒìŠ¤ì¹¼ ì‚¼ê°í˜• | Â§6.4 |
| 9-F | ì¼ë°˜í™”ëœ ìˆœì—´ê³¼ ì¡°í•© ê¸°ì´ˆ | Â§6.5.1~6.5.3 |
| 9-G | ê°ì²´ë¥¼ ìƒìì— ë¶„ë°°í•˜ê¸°, ë¶„í•  | Â§6.5.4~6.5.5 |
| 9-H | ìˆœì—´ê³¼ ì¡°í•©ì˜ ìƒì„± | Â§6.6 |
| **9-I** | **Lean 4 ê¸°ì´ˆ: lemma, theorem, rw, â†’, â†”** | **MIL Ch.2~3** |
| **9-J** | **ì¼ë°˜í™”ëœ ìˆœì—´/ì¡°í•© Lean 4 í˜•ì‹í™”** | **Â§6.5~6.6** |
