# Lean4 ì™„ì „ ì •ë³µ ê°€ì´ë“œ â€” ì œ5-cí¸

## ìˆ˜ì—´ê³¼ ìˆ˜ì—´ì˜ í•© ì™„ì „ ì •ë³µ

> **êµì¬**: Kenneth H. Rosen, "Discrete Mathematics and Its Applications" 8íŒ  
> **ë²”ìœ„**: 2.4ì ˆ ìˆ˜ì—´ê³¼ ìˆ˜ì—´ì˜ í•©  
> **ì„ ìˆ˜ í•™ìŠµ**: ì œ4í¸ ì‹œë¦¬ì¦ˆ (ëª…ì œ ë…¼ë¦¬, ì¦ëª… ë°©ë²•)

---

## ëª©ì°¨

- [5-c.1 ì„œë¡ : ìˆ˜ì—´ì´ë€ ë¬´ì—‡ì¸ê°€?](#5-c1-ì„œë¡ -ìˆ˜ì—´ì´ë€-ë¬´ì—‡ì¸ê°€)
- [5-c.2 ìˆ˜ì—´ì˜ ì •ì˜ì™€ Lean4 êµ¬í˜„](#5-c2-ìˆ˜ì—´ì˜-ì •ì˜ì™€-lean4-êµ¬í˜„)
- [5-c.3 ë“±ë¹„ìˆ˜ì—´](#5-c3-ë“±ë¹„ìˆ˜ì—´)
- [5-c.4 ë“±ì°¨ìˆ˜ì—´](#5-c4-ë“±ì°¨ìˆ˜ì—´)
- [5-c.5 ì í™”ê´€ê³„](#5-c5-ì í™”ê´€ê³„)
- [5-c.6 í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´](#5-c6-í”¼ë³´ë‚˜ì¹˜-ìˆ˜ì—´)
- [5-c.7 ìˆ˜ì—´ì˜ í•©: Î£ í‘œê¸°ë²•](#5-c7-ìˆ˜ì—´ì˜-í•©-Ïƒ-í‘œê¸°ë²•)
- [5-c.8 Lean4ì—ì„œ ìœ í•œ í•© ê³„ì‚°](#5-c8-lean4ì—ì„œ-ìœ í•œ-í•©-ê³„ì‚°)
- [5-c.9 ë“±ë¹„ìˆ˜ì—´ì˜ í•© ê³µì‹](#5-c9-ë“±ë¹„ìˆ˜ì—´ì˜-í•©-ê³µì‹)
- [5-c.10 ì—°ìŠµë¬¸ì œ](#5-c10-ì—°ìŠµë¬¸ì œ)
- [5-c.11 ë„ì „ ë¬¸ì œ](#5-c11-ë„ì „-ë¬¸ì œ)
- [5-c.12 ì „ìˆ  ìš”ì•½](#5-c12-ì „ìˆ -ìš”ì•½)

---

## 5-c.1 ì„œë¡ : ìˆ˜ì—´ì´ë€ ë¬´ì—‡ì¸ê°€?

### 5-c.1.1 ì¼ìƒì—ì„œì˜ ìˆ˜ì—´

ìš°ë¦¬ ì£¼ë³€ì—ëŠ” ìˆ˜ì—´ì´ ê°€ë“í•˜ë‹¤:

- **ë‹¬ë ¥ì˜ ë‚ ì§œ**: 1, 2, 3, 4, 5, ...
- **í”¼ì•„ë…¸ ê±´ë°˜ì˜ ì£¼íŒŒìˆ˜**: 261.6, 293.7, 329.6, ... (Hz)
- **ì€í–‰ ë³µë¦¬ ì´ì**: 1000, 1050, 1102.5, 1157.6, ... (ì›)
- **ì¸êµ¬ ì¦ê°€**: 100, 200, 400, 800, ... (ëª…)

### 5-c.1.2 ìˆ˜ì—´ì˜ ìˆ˜í•™ì  ì •ì˜

**ì •ì˜ 1** (Rosen 2.4ì ˆ):

> **ìˆ˜ì—´**(sequence)ì€ ì •ìˆ˜ì§‘í•©ì˜ ë¶€ë¶„ì§‘í•© {0, 1, 2, ...} ë˜ëŠ” {1, 2, 3, ...}ìœ¼ë¡œë¶€í„° ì§‘í•© Së¡œì˜ **í•¨ìˆ˜**ì´ë‹¤.

ì¦‰, ìˆ˜ì—´ì€ ë‹¤ìŒê³¼ ê°™ì´ ìƒê°í•  ìˆ˜ ìˆë‹¤:

$$a : \mathbb{N} \to S$$

ì—¬ê¸°ì„œ $a_n$ì€ ì •ìˆ˜ $n$ì˜ **ìƒ**(image)ë¥¼ ë‚˜íƒ€ë‚´ë©°, ì´ë¥¼ ìˆ˜ì—´ì˜ **í•­**(term)ì´ë¼ê³  í•œë‹¤.

### 5-c.1.3 ìˆ˜ì—´ì˜ í‘œê¸°ë²•

ìˆ˜ì—´ì„ ë‚˜íƒ€ë‚´ëŠ” ë°©ë²•ì€ ì—¬ëŸ¬ ê°€ì§€ê°€ ìˆë‹¤:

| í‘œê¸°ë²• | ì˜ë¯¸ | ì˜ˆì‹œ |
|--------|------|------|
| $\{a_n\}$ | ìˆ˜ì—´ ì „ì²´ | $\{a_n\} = \{1, 2, 3, 4, ...\}$ |
| $a_n$ | në²ˆì§¸ í•­ | $a_3 = 3$ |
| $a_1, a_2, a_3, ...$ | í•­ë“¤ì˜ ë‚˜ì—´ | $1, 2, 3, 4, ...$ |

### 5-c.1.4 í•µì‹¬ ê°œë… ë¯¸ë¦¬ë³´ê¸°

ì´ ì¥ì—ì„œ ë°°ìš¸ í•µì‹¬ ìˆ˜ì—´ ìœ í˜•:

| ìˆ˜ì—´ ìœ í˜• | ì •ì˜ | ì˜ˆì‹œ |
|---------|------|------|
| **ë“±ì°¨ìˆ˜ì—´** | ì—°ì†ëœ í•­ì˜ ì°¨ê°€ ì¼ì • | 2, 5, 8, 11, 14, ... |
| **ë“±ë¹„ìˆ˜ì—´** | ì—°ì†ëœ í•­ì˜ ë¹„ê°€ ì¼ì • | 2, 6, 18, 54, ... |
| **ì í™”ê´€ê³„** | ì´ì „ í•­ë“¤ë¡œ ë‹¤ìŒ í•­ ì •ì˜ | $a_n = a_{n-1} + a_{n-2}$ |
| **í”¼ë³´ë‚˜ì¹˜** | íŠ¹ë³„í•œ ì í™”ê´€ê³„ | 0, 1, 1, 2, 3, 5, 8, ... |

---

## 5-c.2 ìˆ˜ì—´ì˜ ì •ì˜ì™€ Lean4 êµ¬í˜„

### 5-c.2.1 Lean4ì—ì„œ ìˆ˜ì—´ ì •ì˜í•˜ê¸°

Lean4ì—ì„œ ìˆ˜ì—´ì€ **í•¨ìˆ˜**ë¡œ ì •ì˜í•œë‹¤:

```lean
-- ìˆ˜ì—´ì˜ íƒ€ì…: Nat â†’ Î±
-- Natì€ ìì—°ìˆ˜, Î±ëŠ” í•­ì˜ íƒ€ì…

-- ì˜ˆì‹œ 1: ìì—°ìˆ˜ ìˆ˜ì—´ 1, 2, 3, 4, ...
def seq1 : Nat â†’ Nat := fun n => n + 1

-- ì˜ˆì‹œ 2: a_n = 1/n ìˆ˜ì—´ (n â‰¥ 1ì¼ ë•Œ)
-- ìœ ë¦¬ìˆ˜(Rat)ë¥¼ ì‚¬ìš©
def seq2 : Nat â†’ Rat := fun n => 
  if n = 0 then 0 else 1 / n

-- ì˜ˆì‹œ 3: ìƒìˆ˜ ìˆ˜ì—´ 5, 5, 5, 5, ...
def constSeq : Nat â†’ Nat := fun _ => 5
```

### 5-c.2.2 ìˆ˜ì—´ì˜ í•­ ê³„ì‚°í•˜ê¸°

```lean
-- #evalë¡œ í•­ ê³„ì‚°í•˜ê¸°
#eval seq1 0    -- ê²°ê³¼: 1 (a_0 = 0 + 1 = 1)
#eval seq1 1    -- ê²°ê³¼: 2 (a_1 = 1 + 1 = 2)
#eval seq1 4    -- ê²°ê³¼: 5 (a_4 = 4 + 1 = 5)

-- ì²˜ìŒ 5ê°œ í•­ ì¶œë ¥í•˜ê¸°
#eval (List.range 5).map seq1    -- ê²°ê³¼: [1, 2, 3, 4, 5]
```

### 5-c.2.3 êµì¬ ì˜ˆì œ 1: a_n = 1/n

> **ì˜ˆì œ 1** (Rosen 2.4ì ˆ):  
> ìˆ˜ì—´ $\{a_n\}$ì´ ìˆê³  $a_n = \frac{1}{n}$ì´ë¼ê³  í•˜ë©´  
> ì´ ìˆ˜ì—´ì˜ ê° í•­ë“¤ì˜ ì—´ì€ $a_1$ë¶€í„° ì‹œì‘í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë‹¤:  
> $$1, \frac{1}{2}, \frac{1}{3}, \frac{1}{4}, ...$$

**Lean4 êµ¬í˜„**:

```lean
-- ìœ ë¦¬ìˆ˜ íƒ€ì… ì‚¬ìš©
def reciprocal : Nat â†’ Rat := fun n => 
  if n = 0 then 0 else 1 / n

-- í•­ ê³„ì‚°
#eval reciprocal 1    -- 1
#eval reciprocal 2    -- 1/2
#eval reciprocal 3    -- 1/3
#eval reciprocal 4    -- 1/4

-- ì²˜ìŒ 5ê°œ í•­ (n=1ë¶€í„°)
#eval (List.range 5).map (fun n => reciprocal (n + 1))
-- ê²°ê³¼: [1, 1/2, 1/3, 1/4, 1/5]
```

### 5-c.2.4 ìˆ˜ì—´ì˜ ì¼ë°˜í•­ ê³µì‹

**ì¼ë°˜í•­**(general term)ì€ në²ˆì§¸ í•­ì„ nì˜ í•¨ìˆ˜ë¡œ í‘œí˜„í•œ ê²ƒì´ë‹¤.

| ìˆ˜ì—´ | ì²˜ìŒ ëª‡ í•­ | ì¼ë°˜í•­ $a_n$ |
|------|----------|-------------|
| ìì—°ìˆ˜ | 1, 2, 3, 4, ... | $a_n = n$ |
| ì§ìˆ˜ | 2, 4, 6, 8, ... | $a_n = 2n$ |
| í™€ìˆ˜ | 1, 3, 5, 7, ... | $a_n = 2n - 1$ |
| ì œê³±ìˆ˜ | 1, 4, 9, 16, ... | $a_n = n^2$ |
| 2ì˜ ê±°ë“­ì œê³± | 1, 2, 4, 8, ... | $a_n = 2^n$ |

**Lean4 êµ¬í˜„**:

```lean
-- ìì—°ìˆ˜ ìˆ˜ì—´
def naturals : Nat â†’ Nat := fun n => n

-- ì§ìˆ˜ ìˆ˜ì—´
def evens : Nat â†’ Nat := fun n => 2 * n

-- í™€ìˆ˜ ìˆ˜ì—´
def odds : Nat â†’ Nat := fun n => 2 * n + 1

-- ì œê³±ìˆ˜ ìˆ˜ì—´
def squares : Nat â†’ Nat := fun n => n^2

-- 2ì˜ ê±°ë“­ì œê³±
def powersOfTwo : Nat â†’ Nat := fun n => 2^n

-- ê²€ì¦
#eval (List.range 6).map evens       -- [0, 2, 4, 6, 8, 10]
#eval (List.range 6).map odds        -- [1, 3, 5, 7, 9, 11]
#eval (List.range 6).map squares     -- [0, 1, 4, 9, 16, 25]
#eval (List.range 6).map powersOfTwo -- [1, 2, 4, 8, 16, 32]
```

---

## 5-c.3 ë“±ë¹„ìˆ˜ì—´

### 5-c.3.1 ë“±ë¹„ìˆ˜ì—´ì˜ ì •ì˜

**ì •ì˜ 2** (Rosen 2.4ì ˆ):

> **ë“±ë¹„ìˆ˜ì—´**(geometric progression)ì€ ì•„ë˜ì˜ í˜•íƒœë¥¼ ê°–ëŠ” ìˆ˜ì—´ì´ë‹¤.  
> ì—¬ê¸°ì„œ ì²« í•­ $a$ì™€ **ê³µë¹„**(common ratio) $r$ì€ ì‹¤ìˆ˜ì´ë‹¤.
> $$a, ar, ar^2, ..., ar^n, ...$$

**í•µì‹¬ íŠ¹ì§•**: ì—°ì†ëœ ë‘ í•­ì˜ ë¹„ê°€ í•­ìƒ ì¼ì •í•˜ë‹¤!
$$\frac{a_{n+1}}{a_n} = r \quad \text{(ëª¨ë“  } n \geq 0 \text{ì— ëŒ€í•´)}$$

### 5-c.3.2 Lean4ë¡œ ë“±ë¹„ìˆ˜ì—´ ì •ì˜í•˜ê¸°

```lean
-- ë“±ë¹„ìˆ˜ì—´ ì •ì˜: ì²« í•­ a, ê³µë¹„ r
def geomSeq (a r : Int) : Nat â†’ Int := fun n => a * r^n

-- ì˜ˆì‹œ: ì²« í•­ 2, ê³µë¹„ 3ì¸ ë“±ë¹„ìˆ˜ì—´
-- 2, 6, 18, 54, 162, ...
def geomExample := geomSeq 2 3

#eval (List.range 6).map geomExample
-- ê²°ê³¼: [2, 6, 18, 54, 162, 486]
```

### 5-c.3.3 êµì¬ ì˜ˆì œ 2: ë‹¤ì–‘í•œ ë“±ë¹„ìˆ˜ì—´

> **ì˜ˆì œ 2** (Rosen 2.4ì ˆ):  
> ìˆ˜ì—´ $\{b_n\}$, ìˆ˜ì—´ $\{c_n\}$, ìˆ˜ì—´ $\{d_n\}$ì´ ìˆê³   
> $b_n = (-1)^n$, $c_n = 2 \cdot 5^n$, $d_n = 6 \cdot (1/3)^n$ì´ê³   
> $n = 0$ë¶€í„° ì‹œì‘í•œë‹¤ê³  í•˜ë©´:

**ë¶„ì„**:

| ìˆ˜ì—´ | ì²« í•­ | ê³µë¹„ | ì²˜ìŒ ëª‡ í•­ |
|------|------|-----|----------|
| $b_n = (-1)^n$ | 1 | -1 | 1, -1, 1, -1, 1, ... |
| $c_n = 2 \cdot 5^n$ | 2 | 5 | 2, 10, 50, 250, 1250, ... |
| $d_n = 6 \cdot (1/3)^n$ | 6 | 1/3 | 6, 2, 2/3, 2/9, 2/27, ... |

**Lean4 êµ¬í˜„**:

```lean
-- b_n = (-1)^n
def altSigns : Nat â†’ Int := fun n => (-1)^n

#eval (List.range 6).map altSigns
-- ê²°ê³¼: [1, -1, 1, -1, 1, -1]

-- c_n = 2 * 5^n
def cSeq : Nat â†’ Nat := fun n => 2 * 5^n

#eval (List.range 5).map cSeq
-- ê²°ê³¼: [2, 10, 50, 250, 1250]

-- d_n = 6 * (1/3)^n (ìœ ë¦¬ìˆ˜ ë²„ì „)
def dSeq : Nat â†’ Rat := fun n => 6 * (1/3 : Rat)^n

#eval (List.range 5).map dSeq
-- ê²°ê³¼: [6, 2, 2/3, 2/9, 2/27]
```

### 5-c.3.4 ë“±ë¹„ìˆ˜ì—´ì˜ ì¼ë°˜í•­ ì¦ëª…

```lean
-- ë“±ë¹„ìˆ˜ì—´ ì •ì˜
def geometric (a r : Nat) : Nat â†’ Nat := fun n => a * r^n

-- ë“±ë¹„ìˆ˜ì—´ì˜ ì í™”ê´€ê³„: a_{n+1} = r * a_n
theorem geom_recurrence (a r n : Nat) : 
    geometric a r (n + 1) = r * geometric a r n := by
  simp [geometric]
  ring

-- ì—°ì†ëœ ë‘ í•­ì˜ ë¹„ê°€ rì„ì„ ì¦ëª… (r â‰  0, a â‰  0 ê°€ì •)
-- ì •ìˆ˜ë¡œ ì¦ëª… (ë‚˜ëˆ—ì…ˆì„ í”¼í•¨)
theorem geom_ratio (a r n : Nat) :
    geometric a r (n + 1) * 1 = r * geometric a r n := by
  simp [geometric]
  ring
```

---

## 5-c.4 ë“±ì°¨ìˆ˜ì—´

### 5-c.4.1 ë“±ì°¨ìˆ˜ì—´ì˜ ì •ì˜

**ì •ì˜ 3** (Rosen 2.4ì ˆ):

> **ë“±ì°¨ìˆ˜ì—´**(arithmetic progression)ì€ ì•„ë˜ì˜ í˜•íƒœë¥¼ ê°–ëŠ” ìˆ˜ì—´ì´ë‹¤.  
> ì—¬ê¸°ì„œ ì²« í•­ $a$ì™€ **ê³µì°¨**(common difference) $d$ëŠ” ì‹¤ìˆ˜ì´ë‹¤.
> $$a, a + d, a + 2d, ..., a + nd, ...$$

**í•µì‹¬ íŠ¹ì§•**: ì—°ì†ëœ ë‘ í•­ì˜ ì°¨ê°€ í•­ìƒ ì¼ì •í•˜ë‹¤!
$$a_{n+1} - a_n = d \quad \text{(ëª¨ë“  } n \geq 0 \text{ì— ëŒ€í•´)}$$

### 5-c.4.2 Lean4ë¡œ ë“±ì°¨ìˆ˜ì—´ ì •ì˜í•˜ê¸°

```lean
-- ë“±ì°¨ìˆ˜ì—´ ì •ì˜: ì²« í•­ a, ê³µì°¨ d
def arithSeq (a d : Int) : Nat â†’ Int := fun n => a + d * n

-- ì˜ˆì‹œ: ì²« í•­ 3, ê³µì°¨ 5ì¸ ë“±ì°¨ìˆ˜ì—´
-- 3, 8, 13, 18, 23, ...
def arithExample := arithSeq 3 5

#eval (List.range 6).map arithExample
-- ê²°ê³¼: [3, 8, 13, 18, 23, 28]
```

### 5-c.4.3 êµì¬ ì˜ˆì œ 3: ë‹¤ì–‘í•œ ë“±ì°¨ìˆ˜ì—´

> **ì˜ˆì œ 3** (Rosen 2.4ì ˆ):  
> ìˆ˜ì—´ $\{s_n\}$, ìˆ˜ì—´ $\{t_n\}$ì´ ìˆê³   
> $s_n = -1 + 4n$, $t_n = 7 - 3n$ì´ê³  $n = 0$ë¶€í„° ì‹œì‘í•œë‹¤ê³  í•˜ë©´  
> ì´ ìˆ˜ì—´ë“¤ì€ ì²« í•­ê³¼ ê³µì°¨ê°€ ê°ê° -1ê³¼ 4, 7ê³¼ -3ì¸ ë“±ì°¨ìˆ˜ì—´ì´ë‹¤.

**ë¶„ì„**:

| ìˆ˜ì—´ | ì²« í•­ | ê³µì°¨ | ì²˜ìŒ ëª‡ í•­ |
|------|------|-----|----------|
| $s_n = -1 + 4n$ | -1 | 4 | -1, 3, 7, 11, ... |
| $t_n = 7 - 3n$ | 7 | -3 | 7, 4, 1, -2, ... |

**Lean4 êµ¬í˜„**:

```lean
-- s_n = -1 + 4n
def sSeq : Nat â†’ Int := fun n => -1 + 4 * n

#eval (List.range 6).map sSeq
-- ê²°ê³¼: [-1, 3, 7, 11, 15, 19]

-- t_n = 7 - 3n
def tSeq : Nat â†’ Int := fun n => 7 - 3 * n

#eval (List.range 6).map tSeq
-- ê²°ê³¼: [7, 4, 1, -2, -5, -8]
```

### 5-c.4.4 ë“±ì°¨ìˆ˜ì—´ì˜ ì¼ë°˜í•­ ì¦ëª…

```lean
-- ë“±ì°¨ìˆ˜ì—´ ì •ì˜
def arithmetic (a d : Int) : Nat â†’ Int := fun n => a + d * n

-- ë“±ì°¨ìˆ˜ì—´ì˜ ì í™”ê´€ê³„: a_{n+1} = a_n + d
theorem arith_recurrence (a d : Int) (n : Nat) : 
    arithmetic a d (n + 1) = arithmetic a d n + d := by
  simp [arithmetic]
  ring

-- ì—°ì†ëœ ë‘ í•­ì˜ ì°¨ê°€ dì„ì„ ì¦ëª…
theorem arith_difference (a d : Int) (n : Nat) :
    arithmetic a d (n + 1) - arithmetic a d n = d := by
  simp [arithmetic]
  ring
```

---

## 5-c.5 ì í™”ê´€ê³„

### 5-c.5.1 ì í™”ê´€ê³„ë€?

**ì •ì˜ 4** (Rosen 2.4ì ˆ):

> ìˆ˜ì—´ $\{a_n\}$ì— ëŒ€í•œ **ì í™”ê´€ê³„**(recurrence relation)ëŠ”  
> $n_0$ê°€ ìŒì´ ì•„ë‹Œ ì •ìˆ˜ì¼ ë•Œ $n \geq n_0$ì¸ ëª¨ë“  ì •ìˆ˜ $n$ì— ëŒ€í•´ì„œ  
> $a_n$ì„ ìˆ˜ì—´ì— ìˆëŠ” í•˜ë‚˜ ì´ìƒì˜ ì´ì „ í•­ë“¤ ì¦‰, $a_0, a_1, ..., a_{n-1}$ì„ ì´ìš©í•˜ì—¬  
> í‘œì‹œí•˜ëŠ” ë“±ì‹ì´ë‹¤.

**í•µì‹¬ ì•„ì´ë””ì–´**: ì´ì „ í•­ë“¤ë¡œë¶€í„° ë‹¤ìŒ í•­ì„ ì •ì˜!

### 5-c.5.2 ì í™”ê´€ê³„ì˜ ì˜ˆì‹œ

| ì í™”ê´€ê³„ | ì„¤ëª… | ì´ˆê¸°ì¡°ê±´ ì˜ˆì‹œ |
|---------|------|-------------|
| $a_n = a_{n-1} + 3$ | ë“±ì°¨ìˆ˜ì—´ (ê³µì°¨ 3) | $a_0 = 2$ |
| $a_n = 2 \cdot a_{n-1}$ | ë“±ë¹„ìˆ˜ì—´ (ê³µë¹„ 2) | $a_0 = 1$ |
| $a_n = a_{n-1} + a_{n-2}$ | í”¼ë³´ë‚˜ì¹˜í˜• | $a_0 = 0, a_1 = 1$ |
| $a_n = a_{n-1} - a_{n-2}$ | ì°¨ë¶„í˜• | $a_0 = 3, a_1 = 5$ |

### 5-c.5.3 êµì¬ ì˜ˆì œ 5: ì í™”ê´€ê³„ í’€ê¸°

> **ì˜ˆì œ 5** (Rosen 2.4ì ˆ):  
> $\{a_n\}$ì€ $n = 1, 2, 3, ...$ì— ëŒ€í•˜ì—¬ ì í™”ê´€ê³„ $a_n = a_{n-1} + 3$ì„ ë§Œì¡±í•˜ëŠ” ìˆ˜ì—´ì´ê³   
> $a_0 = 2$ì´ë¼ í•˜ë©´ $a_1, a_2$ì™€ $a_3$ëŠ” ë¬´ì—‡ì¸ê°€?

**í’€ì´**:

| n | ê³„ì‚° | ê²°ê³¼ |
|---|------|------|
| 1 | $a_1 = a_0 + 3 = 2 + 3$ | 5 |
| 2 | $a_2 = a_1 + 3 = 5 + 3$ | 8 |
| 3 | $a_3 = a_2 + 3 = 8 + 3$ | 11 |

**Lean4 êµ¬í˜„**:

```lean
-- ì í™”ê´€ê³„ ì •ì˜: a_n = a_{n-1} + 3, a_0 = 2
def recSeq5 : Nat â†’ Nat
  | 0 => 2
  | n + 1 => recSeq5 n + 3

-- í•­ ê³„ì‚°
#eval recSeq5 0    -- 2
#eval recSeq5 1    -- 5
#eval recSeq5 2    -- 8
#eval recSeq5 3    -- 11

-- ì²˜ìŒ 5ê°œ í•­
#eval (List.range 5).map recSeq5
-- ê²°ê³¼: [2, 5, 8, 11, 14]
```

### 5-c.5.4 êµì¬ ì˜ˆì œ 6: ë‘ í•­ì„ ì°¸ì¡°í•˜ëŠ” ì í™”ê´€ê³„

> **ì˜ˆì œ 6** (Rosen 2.4ì ˆ):  
> $\{a_n\}$ì€ $n = 2, 3, 4, ...$ì— ëŒ€í•˜ì—¬ ì í™”ê´€ê³„ $a_n = a_{n-1} - a_{n-2}$ë¥¼ ë§Œì¡±í•˜ëŠ” ìˆ˜ì—´ì´ê³   
> $a_0 = 3$ì´ê³  $a_1 = 5$ì´ë¼ í•˜ë©´ $a_2$ì™€ $a_3$ëŠ” ë¬´ì—‡ì¸ê°€?

**í’€ì´**:

| n | ê³„ì‚° | ê²°ê³¼ |
|---|------|------|
| 2 | $a_2 = a_1 - a_0 = 5 - 3$ | 2 |
| 3 | $a_3 = a_2 - a_1 = 2 - 5$ | -3 |

**Lean4 êµ¬í˜„**:

```lean
-- ì í™”ê´€ê³„ ì •ì˜: a_n = a_{n-1} - a_{n-2}, a_0 = 3, a_1 = 5
def recSeq6 : Nat â†’ Int
  | 0 => 3
  | 1 => 5
  | n + 2 => recSeq6 (n + 1) - recSeq6 n

-- í•­ ê³„ì‚°
#eval recSeq6 0    -- 3
#eval recSeq6 1    -- 5
#eval recSeq6 2    -- 2
#eval recSeq6 3    -- -3

-- ì²˜ìŒ 8ê°œ í•­
#eval (List.range 8).map recSeq6
-- ê²°ê³¼: [3, 5, 2, -3, -5, -2, 3, 5]
-- ì£¼ê¸°ê°€ 6ì¸ ìˆ˜ì—´!
```

---

## 5-c.6 í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´

### 5-c.6.1 í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´ì˜ ì •ì˜

**ì •ì˜ 5** (Rosen 2.4ì ˆ):

> **í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´**(Fibonacci sequences) $f_0, f_1, f_2, ...$ì€  
> $n = 2, 3, 4, ...$ì¼ ë•Œ ë“±ì‹ $f_n = f_{n-1} + f_{n-2}$ê³¼  
> $f_0 = 0, f_1 = 1$ì— ì˜í•´ ì •ì˜ëœë‹¤.

### 5-c.6.2 í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´ì˜ í•­

| n | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 |
|---|---|---|---|---|---|---|---|---|---|---|---|
| $f_n$ | 0 | 1 | 1 | 2 | 3 | 5 | 8 | 13 | 21 | 34 | 55 |

### 5-c.6.3 Lean4ë¡œ í”¼ë³´ë‚˜ì¹˜ ì •ì˜í•˜ê¸°

```lean
-- í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´ ì •ì˜
def fib : Nat â†’ Nat
  | 0 => 0
  | 1 => 1
  | n + 2 => fib (n + 1) + fib n

-- í•­ ê³„ì‚°
#eval fib 0    -- 0
#eval fib 1    -- 1
#eval fib 2    -- 1
#eval fib 6    -- 8
#eval fib 10   -- 55

-- ì²˜ìŒ 15ê°œ í•­
#eval (List.range 15).map fib
-- ê²°ê³¼: [0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377]
```

### 5-c.6.4 êµì¬ ì˜ˆì œ 7: í”¼ë³´ë‚˜ì¹˜ ìˆ˜ ê³„ì‚°

> **ì˜ˆì œ 7** (Rosen 2.4ì ˆ):  
> í”¼ë³´ë‚˜ì¹˜ ìˆ˜ $f_2, f_3, f_4, f_5$ì™€ $f_6$ì„ êµ¬í•˜ë¼.

**í’€ì´**:

| ê³„ì‚° | ê²°ê³¼ |
|------|------|
| $f_2 = f_1 + f_0 = 1 + 0$ | 1 |
| $f_3 = f_2 + f_1 = 1 + 1$ | 2 |
| $f_4 = f_3 + f_2 = 2 + 1$ | 3 |
| $f_5 = f_4 + f_3 = 3 + 2$ | 5 |
| $f_6 = f_5 + f_4 = 5 + 3$ | 8 |

**Lean4 ê²€ì¦**:

```lean
-- ê° í•­ì´ ì í™”ê´€ê³„ë¥¼ ë§Œì¡±í•˜ëŠ”ì§€ í™•ì¸
example : fib 2 = fib 1 + fib 0 := by native_decide
example : fib 3 = fib 2 + fib 1 := by native_decide
example : fib 4 = fib 3 + fib 2 := by native_decide
example : fib 5 = fib 4 + fib 3 := by native_decide
example : fib 6 = fib 5 + fib 4 := by native_decide

-- ì¼ë°˜ì ì¸ ì í™”ê´€ê³„ ì¦ëª…
theorem fib_recurrence (n : Nat) : fib (n + 2) = fib (n + 1) + fib n := by
  rfl    -- ì •ì˜ì— ì˜í•´ ìëª…
```

### 5-c.6.5 í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´ì˜ ì„±ì§ˆ

í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´ì—ëŠ” í¥ë¯¸ë¡œìš´ ì„±ì§ˆì´ ë§ë‹¤:

```lean
-- ì—°ì†ëœ ë‘ í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì˜ í•©
-- f_1 + f_2 = f_3, f_2 + f_3 = f_4, ...
theorem fib_sum_eq_next (n : Nat) : fib n + fib (n + 1) = fib (n + 2) := by
  rfl

-- ì²˜ìŒ nê°œ í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì˜ í•© = f_{n+2} - 1
-- f_0 + f_1 + ... + f_n = f_{n+2} - 1
-- ì´ ì¦ëª…ì€ ê·€ë‚©ë²•ì´ í•„ìš”í•¨
```

---

## 5-c.7 ìˆ˜ì—´ì˜ í•©: Î£ í‘œê¸°ë²•

### 5-c.7.1 ìˆ˜ì—´ì˜ í•© í‘œê¸°ë²•

**í‘œê¸°ë²•** (Rosen 2.4ì ˆ):

ìˆ˜ì—´ $\{a_n\}$ì˜ ê° í•­ë“¤ì´ ì•„ë˜ì™€ ê°™ë‹¤ê³  í•˜ì:
$$a_m, a_{m+1}, ..., a_n$$

ì´ í•­ë“¤ì„ ëª¨ë‘ í•©í•˜ë¼ëŠ” ê²ƒì„ ë‚˜íƒ€ë‚´ê¸° ìœ„í•˜ì—¬ ì•„ë˜ì™€ ê°™ì€ í‘œê¸°ë²•ì„ ì‚¬ìš©í•œë‹¤:

$$\sum_{j=m}^{n} a_j = \sum_{j=m}^{n} a_j = \sum_{m \leq j \leq n} a_j$$

ì´ê²ƒì€ "$a_j$ì˜ $j = m$ë¶€í„° $n$ê¹Œì§€ì˜ í•©"ì´ë¼ê³  ì½ê³  ë‹¤ìŒì„ ì˜ë¯¸í•œë‹¤:
$$a_m + a_{m+1} + ... + a_n$$

### 5-c.7.2 ì‹œê·¸ë§ˆ í‘œê¸°ë²•ì˜ êµ¬ì„±ìš”ì†Œ

$$\sum_{j=m}^{n} a_j$$

| êµ¬ì„±ìš”ì†Œ | ì´ë¦„ | ì˜ë¯¸ |
|---------|------|------|
| $\Sigma$ | ì‹œê·¸ë§ˆ | "í•©"ì„ ë‚˜íƒ€ëƒ„ |
| $j$ | **ì¸ë±ìŠ¤** | ìˆ˜ì—´ì˜ í•©ì˜ ì¸ë±ìŠ¤ |
| $m$ | **í•˜í•œ** | í•©ì˜ ì‹œì‘ ì¸ë±ìŠ¤ |
| $n$ | **ìƒí•œ** | í•©ì˜ ë ì¸ë±ìŠ¤ |
| $a_j$ | **í”¼ê°€ìˆ˜** | ë”í•´ì§€ëŠ” í•­ |

### 5-c.7.3 êµì¬ ì˜ˆì œ 17: Î£ í‘œê¸°ë²• ì‚¬ìš©

> **ì˜ˆì œ 17** (Rosen 2.4ì ˆ):  
> ìˆ˜ì—´ $\{a_j\}$ì˜ ì¼ë°˜í•­ì´ $a_j = 1/j$, $j = 1, 2, 3, ...$ì¼ ë•Œ  
> ì´ ìˆ˜ì—´ì˜ ì²« 100ê°œ í•­ì˜ í•©ì„ êµ¬í•˜ëŠ” ì‹ì„ $\Sigma$ë¥¼ ì´ìš©í•˜ì—¬ í‘œí˜„í•˜ë¼.

**í’€ì´**:

$$\sum_{j=1}^{100} \frac{1}{j} = 1 + \frac{1}{2} + \frac{1}{3} + ... + \frac{1}{100}$$

### 5-c.7.4 êµì¬ ì˜ˆì œ 18: í•© ê³„ì‚°í•˜ê¸°

> **ì˜ˆì œ 18** (Rosen 2.4ì ˆ):  
> $\sum_{j=1}^{5} j^2$ì˜ ê°’ì€ ë¬´ì—‡ì¸ê°€?

**í’€ì´**:
$$\sum_{j=1}^{5} j^2 = 1^2 + 2^2 + 3^2 + 4^2 + 5^2 = 1 + 4 + 9 + 16 + 25 = 55$$

---

## 5-c.8 Lean4ì—ì„œ ìœ í•œ í•© ê³„ì‚°

### 5-c.8.1 Finset.sum ì†Œê°œ

Lean4ì˜ Mathlibì—ì„œëŠ” `Finset.sum`ì„ ì‚¬ìš©í•˜ì—¬ ìœ í•œ í•©ì„ ê³„ì‚°í•œë‹¤:

```lean
import Mathlib.Algebra.BigOperators.Ring
import Mathlib.Data.Finset.Basic

open BigOperators Finset

-- Finset.range n = {0, 1, 2, ..., n-1}
#check Finset.range 5    -- {0, 1, 2, 3, 4}

-- í•© í‘œê¸°ë²•: âˆ‘ x âˆˆ range n, f x
-- ì´ê²ƒì€ f(0) + f(1) + ... + f(n-1)ì„ ì˜ë¯¸
```

### 5-c.8.2 ê¸°ë³¸ í•© ê³„ì‚°

```lean
-- ì˜ˆì œ 18: 1Â² + 2Â² + 3Â² + 4Â² + 5Â² = 55
-- range 6ì€ {0, 1, 2, 3, 4, 5}
-- range 1ì—ì„œ 5ê¹Œì§€ ì œê³±í•©ì„ êµ¬í•˜ë ¤ë©´ ì¸ë±ìŠ¤ ì¡°ì • í•„ìš”

example : âˆ‘ i âˆˆ range 6, i^2 = 55 := by
  native_decide

-- ë˜ëŠ” ê³„ì‚°ìœ¼ë¡œ í™•ì¸
#eval âˆ‘ i âˆˆ range 6, i^2    -- 55
-- 0Â² + 1Â² + 2Â² + 3Â² + 4Â² + 5Â² = 0 + 1 + 4 + 9 + 16 + 25 = 55
```

### 5-c.8.3 í•µì‹¬ ì •ë¦¬: sum_range_zeroì™€ sum_range_succ

```lean
-- ë¹ˆ í•©ì€ 0
-- âˆ‘ x âˆˆ range 0, f x = 0
example (f : Nat â†’ Nat) : âˆ‘ x âˆˆ range 0, f x = 0 :=
  Finset.sum_range_zero f

-- í•©ì˜ ì í™”ê´€ê³„
-- âˆ‘ x âˆˆ range (n+1), f x = (âˆ‘ x âˆˆ range n, f x) + f n
example (f : Nat â†’ Nat) (n : Nat) : 
    âˆ‘ x âˆˆ range (n + 1), f x = (âˆ‘ x âˆˆ range n, f x) + f n :=
  Finset.sum_range_succ f n
```

### 5-c.8.4 ë‹¤ì–‘í•œ í•© ì˜ˆì œ

```lean
-- 1 + 2 + 3 + ... + n = n(n+1)/2
-- ì´ ê³µì‹ì˜ ê²€ì¦ (íŠ¹ì • nì— ëŒ€í•´)
example : âˆ‘ i âˆˆ range 11, i = 10 * 11 / 2 := by native_decide
-- 0 + 1 + 2 + ... + 10 = 55

-- êµëŒ€ ê¸‰ìˆ˜: 1 - 1 + 1 - 1 + 1 = 1
example : âˆ‘ i âˆˆ range 5, ((-1 : Int)^i) = 1 := by native_decide

-- ë“±ë¹„ê¸‰ìˆ˜: 1 + 2 + 4 + 8 + 16 = 31 = 2^5 - 1
example : âˆ‘ i âˆˆ range 5, (2 : Nat)^i = 31 := by native_decide
```

---

## 5-c.9 ë“±ë¹„ìˆ˜ì—´ì˜ í•© ê³µì‹

### 5-c.9.1 ì •ë¦¬ 1: ë“±ë¹„ìˆ˜ì—´ì˜ í•©

**ì •ë¦¬ 1** (Rosen 2.4ì ˆ):

> $a$ì™€ $b$ê°€ ì‹¤ìˆ˜ì´ê³  $r \neq 0$ì´ë©´
> $$\sum_{j=0}^{n} ar^j = \begin{cases} \frac{ar^{n+1} - a}{r - 1} & \text{if } r \neq 1 \\ (n+1)a & \text{if } r = 1 \end{cases}$$

### 5-c.9.2 ì¦ëª… ì•„ì´ë””ì–´

$S_n = \sum_{j=0}^{n} ar^j$ë¼ê³  í•˜ì.

$S$ë¥¼ ê³„ì‚°í•˜ê¸° ìœ„í•˜ì—¬ ì–‘ë³€ì— $r$ì„ ê³±í•˜ì—¬ í’€ì–´ë³´ë©´:

$$rS_n = r \sum_{j=0}^{n} ar^j = \sum_{j=0}^{n} ar^{j+1} = \sum_{k=1}^{n+1} ar^k$$

ë”°ë¼ì„œ:
$$rS_n - S_n = ar^{n+1} - a$$
$$S_n(r - 1) = ar^{n+1} - a$$
$$S_n = \frac{ar^{n+1} - a}{r - 1} \quad (r \neq 1)$$

### 5-c.9.3 Lean4ë¡œ íŠ¹ì • ê²½ìš° ê²€ì¦

```lean
-- r = 2, a = 1, n = 4ì¸ ê²½ìš°
-- 1 + 2 + 4 + 8 + 16 = 31
-- ê³µì‹: (1 * 2^5 - 1) / (2 - 1) = (32 - 1) / 1 = 31

example : âˆ‘ i âˆˆ range 5, (2 : Nat)^i = (2^5 - 1) / (2 - 1) := by
  native_decide

-- r = 3, a = 1, n = 3ì¸ ê²½ìš°
-- 1 + 3 + 9 + 27 = 40
-- ê³µì‹: (1 * 3^4 - 1) / (3 - 1) = (81 - 1) / 2 = 40

example : âˆ‘ i âˆˆ range 4, (3 : Nat)^i = (3^4 - 1) / (3 - 1) := by
  native_decide
```

### 5-c.9.4 í‘œ 2: ëª‡ ê°€ì§€ ìœ ìš©í•œ ìˆ˜ì—´ì˜ í•© ê³µì‹

| í•© | ë‹«íŒ í˜•ì‹ |
|---|---------|
| $\sum_{k=0}^{n} ar^k$ ($r \neq 0$) | $\frac{ar^{n+1} - a}{r - 1}$ ($r \neq 1$) |
| $\sum_{k=1}^{n} k$ | $\frac{n(n+1)}{2}$ |
| $\sum_{k=1}^{n} k^2$ | $\frac{n(n+1)(2n+1)}{6}$ |
| $\sum_{k=1}^{n} k^3$ | $\frac{n^2(n+1)^2}{4}$ |

```lean
-- 1 + 2 + ... + n = n(n+1)/2 ê²€ì¦ (n = 10)
example : âˆ‘ i âˆˆ range 11, i = 10 * 11 / 2 := by native_decide

-- 1Â² + 2Â² + ... + nÂ² = n(n+1)(2n+1)/6 ê²€ì¦ (n = 5)
example : âˆ‘ i âˆˆ range 6, i^2 = 5 * 6 * 11 / 6 := by native_decide

-- 1Â³ + 2Â³ + ... + nÂ³ = nÂ²(n+1)Â²/4 ê²€ì¦ (n = 4)
example : âˆ‘ i âˆˆ range 5, i^3 = 4^2 * 5^2 / 4 := by native_decide
```

---

## 5-c.10 ì—°ìŠµë¬¸ì œ

### ì—°ìŠµë¬¸ì œ 1: ìˆ˜ì—´ì˜ í•­ ê³„ì‚°

#### ì—°ìŠµ 1-1: ì¼ë°˜í•­ìœ¼ë¡œ í•­ ê³„ì‚°

$a_n = 2 \cdot (-3)^n + 5n$ì¼ ë•Œ $a_0, a_1, a_2, a_3$ì€ ë¬´ì—‡ì¸ê°€?

```lean
def ex1Seq : Nat â†’ Int := fun n => 2 * (-3)^n + 5 * n

-- ë¹ˆì¹¸ì„ ì±„ìš°ì‹œì˜¤
example : ex1Seq 0 = sorry := by native_decide
example : ex1Seq 1 = sorry := by native_decide
example : ex1Seq 2 = sorry := by native_decide
example : ex1Seq 3 = sorry := by native_decide
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
example : ex1Seq 0 = 2 := by native_decide    -- 2*1 + 0 = 2
example : ex1Seq 1 = -1 := by native_decide   -- 2*(-3) + 5 = -6 + 5 = -1
example : ex1Seq 2 = 28 := by native_decide   -- 2*9 + 10 = 18 + 10 = 28
example : ex1Seq 3 = -39 := by native_decide  -- 2*(-27) + 15 = -54 + 15 = -39
```

**ê³„ì‚° ê³¼ì •**:
- $a_0 = 2 \cdot (-3)^0 + 5 \cdot 0 = 2 \cdot 1 + 0 = 2$
- $a_1 = 2 \cdot (-3)^1 + 5 \cdot 1 = 2 \cdot (-3) + 5 = -6 + 5 = -1$
- $a_2 = 2 \cdot (-3)^2 + 5 \cdot 2 = 2 \cdot 9 + 10 = 18 + 10 = 28$
- $a_3 = 2 \cdot (-3)^3 + 5 \cdot 3 = 2 \cdot (-27) + 15 = -54 + 15 = -39$

</details>

#### ì—°ìŠµ 1-2: ìˆ˜ì—´ ìœ í˜• íŒë³„

ë‹¤ìŒ ìˆ˜ì—´ì´ ë“±ì°¨ìˆ˜ì—´ì¸ì§€, ë“±ë¹„ìˆ˜ì—´ì¸ì§€, ë‘˜ ë‹¤ ì•„ë‹Œì§€ íŒë³„í•˜ì‹œì˜¤.

(a) 3, 6, 12, 24, 48, ...  
(b) 5, 8, 11, 14, 17, ...  
(c) 1, 4, 9, 16, 25, ...

```lean
-- (a) 3, 6, 12, 24, 48, ...
def seqA : Nat â†’ Nat := fun n => sorry

-- (b) 5, 8, 11, 14, 17, ...
def seqB : Nat â†’ Nat := fun n => sorry

-- (c) 1, 4, 9, 16, 25, ...
def seqC : Nat â†’ Nat := fun n => sorry
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
-- (a) ë“±ë¹„ìˆ˜ì—´: ì²« í•­ 3, ê³µë¹„ 2
def seqA : Nat â†’ Nat := fun n => 3 * 2^n
#eval (List.range 5).map seqA    -- [3, 6, 12, 24, 48]

-- (b) ë“±ì°¨ìˆ˜ì—´: ì²« í•­ 5, ê³µì°¨ 3
def seqB : Nat â†’ Nat := fun n => 5 + 3 * n
#eval (List.range 5).map seqB    -- [5, 8, 11, 14, 17]

-- (c) ë‘˜ ë‹¤ ì•„ë‹˜: ì œê³±ìˆ˜ ìˆ˜ì—´
def seqC : Nat â†’ Nat := fun n => (n + 1)^2
#eval (List.range 5).map seqC    -- [1, 4, 9, 16, 25]
```

</details>

---

### ì—°ìŠµë¬¸ì œ 2: ì í™”ê´€ê³„

#### ì—°ìŠµ 2-1: ì í™”ê´€ê³„ë¡œ í•­ êµ¬í•˜ê¸°

ì í™”ê´€ê³„ $a_n = 3a_{n-1}$, ì´ˆê¸°ì¡°ê±´ $a_0 = 2$ì¼ ë•Œ $a_1, a_2, a_3, a_4$ë¥¼ êµ¬í•˜ì‹œì˜¤.

```lean
def recEx1 : Nat â†’ Nat
  | 0 => 2
  | n + 1 => sorry  -- ë¹ˆì¹¸ ì±„ìš°ê¸°

example : recEx1 1 = sorry := by native_decide
example : recEx1 2 = sorry := by native_decide
example : recEx1 3 = sorry := by native_decide
example : recEx1 4 = sorry := by native_decide
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
def recEx1 : Nat â†’ Nat
  | 0 => 2
  | n + 1 => 3 * recEx1 n

example : recEx1 1 = 6 := by native_decide     -- 3 * 2 = 6
example : recEx1 2 = 18 := by native_decide    -- 3 * 6 = 18
example : recEx1 3 = 54 := by native_decide    -- 3 * 18 = 54
example : recEx1 4 = 162 := by native_decide   -- 3 * 54 = 162
```

</details>

#### ì—°ìŠµ 2-2: ë‘ í•­ì„ ì°¸ì¡°í•˜ëŠ” ì í™”ê´€ê³„

ì í™”ê´€ê³„ $a_n = a_{n-1} + 2a_{n-2}$, ì´ˆê¸°ì¡°ê±´ $a_0 = 1, a_1 = 3$ì¼ ë•Œ  
ì²˜ìŒ 6ê°œ í•­ì„ êµ¬í•˜ì‹œì˜¤.

```lean
def recEx2 : Nat â†’ Nat
  | 0 => 1
  | 1 => 3
  | n + 2 => sorry  -- ë¹ˆì¹¸ ì±„ìš°ê¸°

-- ì²˜ìŒ 6ê°œ í•­ í™•ì¸
#eval (List.range 6).map recEx2
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
def recEx2 : Nat â†’ Nat
  | 0 => 1
  | 1 => 3
  | n + 2 => recEx2 (n + 1) + 2 * recEx2 n

#eval (List.range 6).map recEx2
-- ê²°ê³¼: [1, 3, 5, 11, 21, 43]
-- a_2 = 3 + 2*1 = 5
-- a_3 = 5 + 2*3 = 11
-- a_4 = 11 + 2*5 = 21
-- a_5 = 21 + 2*11 = 43
```

</details>

---

### ì—°ìŠµë¬¸ì œ 3: í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´

#### ì—°ìŠµ 3-1: í”¼ë³´ë‚˜ì¹˜ ìˆ˜ ê³„ì‚°

$f_{12}, f_{13}, f_{14}, f_{15}$ë¥¼ ê³„ì‚°í•˜ì‹œì˜¤.

```lean
-- fibëŠ” ì´ë¯¸ ì •ì˜ë¨
example : fib 12 = sorry := by native_decide
example : fib 13 = sorry := by native_decide
example : fib 14 = sorry := by native_decide
example : fib 15 = sorry := by native_decide
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
example : fib 12 = 144 := by native_decide
example : fib 13 = 233 := by native_decide
example : fib 14 = 377 := by native_decide
example : fib 15 = 610 := by native_decide
```

</details>

#### ì—°ìŠµ 3-2: í”¼ë³´ë‚˜ì¹˜ ì„±ì§ˆ ì¦ëª…

ì—°ì†ëœ ë‘ í”¼ë³´ë‚˜ì¹˜ ìˆ˜ëŠ” ì„œë¡œì†Œ(ìµœëŒ€ê³µì•½ìˆ˜ê°€ 1)ì„ì„ íŠ¹ì • ê²½ìš°ì— í™•ì¸í•˜ì‹œì˜¤.

```lean
-- gcd(f_n, f_{n+1}) = 1ì„ ëª‡ ê°€ì§€ ê²½ìš°ì— í™•ì¸
example : Nat.gcd (fib 5) (fib 6) = 1 := by native_decide
example : Nat.gcd (fib 10) (fib 11) = 1 := by sorry
example : Nat.gcd (fib 15) (fib 16) = 1 := by sorry
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
example : Nat.gcd (fib 5) (fib 6) = 1 := by native_decide
example : Nat.gcd (fib 10) (fib 11) = 1 := by native_decide
example : Nat.gcd (fib 15) (fib 16) = 1 := by native_decide
```

**ì°¸ê³ **: ì´ ì„±ì§ˆì€ ëª¨ë“  nì— ëŒ€í•´ ì„±ë¦½í•˜ë©°, ê·€ë‚©ë²•ìœ¼ë¡œ ì¦ëª…í•  ìˆ˜ ìˆë‹¤.

</details>

---

### ì—°ìŠµë¬¸ì œ 4: ìˆ˜ì—´ì˜ í•©

#### ì—°ìŠµ 4-1: í•© ê³„ì‚°

ë‹¤ìŒ í•©ì„ ê³„ì‚°í•˜ì‹œì˜¤.

(a) $\sum_{k=0}^{4} 3^k$  
(b) $\sum_{j=1}^{5} j$  
(c) $\sum_{i=0}^{3} (2i + 1)$

```lean
example : âˆ‘ k âˆˆ range 5, (3 : Nat)^k = sorry := by native_decide
example : âˆ‘ j âˆˆ range 6, j = sorry := by native_decide  -- range 6 = {0,1,2,3,4,5}
example : âˆ‘ i âˆˆ range 4, (2*i + 1) = sorry := by native_decide
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
-- (a) 1 + 3 + 9 + 27 + 81 = 121
example : âˆ‘ k âˆˆ range 5, (3 : Nat)^k = 121 := by native_decide

-- (b) 0 + 1 + 2 + 3 + 4 + 5 = 15
example : âˆ‘ j âˆˆ range 6, j = 15 := by native_decide

-- (c) 1 + 3 + 5 + 7 = 16
example : âˆ‘ i âˆˆ range 4, (2*i + 1) = 16 := by native_decide
```

</details>

#### ì—°ìŠµ 4-2: ë“±ë¹„ìˆ˜ì—´ í•© ê³µì‹ ì ìš©

$1 + 2 + 4 + 8 + ... + 2^{10}$ì„ ê³„ì‚°í•˜ì‹œì˜¤.

```lean
-- ì§ì ‘ ê³„ì‚°
example : âˆ‘ i âˆˆ range 11, (2 : Nat)^i = sorry := by native_decide

-- ê³µì‹ ì‚¬ìš©: (2^11 - 1) / (2 - 1) = 2^11 - 1 = 2048 - 1 = 2047
example : âˆ‘ i âˆˆ range 11, (2 : Nat)^i = 2^11 - 1 := by native_decide
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
example : âˆ‘ i âˆˆ range 11, (2 : Nat)^i = 2047 := by native_decide
example : âˆ‘ i âˆˆ range 11, (2 : Nat)^i = 2^11 - 1 := by native_decide
```

**ê³„ì‚°**: ë“±ë¹„ìˆ˜ì—´ í•© ê³µì‹ì—ì„œ $a = 1$, $r = 2$, $n = 10$ì´ë©´:
$$\sum_{j=0}^{10} 2^j = \frac{2^{11} - 1}{2 - 1} = 2^{11} - 1 = 2048 - 1 = 2047$$

</details>

---

### ì—°ìŠµë¬¸ì œ 5: í•© ê³µì‹ ê²€ì¦

#### ì—°ìŠµ 5-1: ìì—°ìˆ˜ í•© ê³µì‹

$\sum_{k=1}^{n} k = \frac{n(n+1)}{2}$ë¥¼ $n = 20$ì—ì„œ ê²€ì¦í•˜ì‹œì˜¤.

```lean
-- ì¢Œë³€: 1 + 2 + ... + 20
-- ìš°ë³€: 20 * 21 / 2 = 210
example : âˆ‘ i âˆˆ range 21, i = 20 * 21 / 2 := by sorry
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
example : âˆ‘ i âˆˆ range 21, i = 20 * 21 / 2 := by native_decide
-- 0 + 1 + 2 + ... + 20 = 210
```

</details>

#### ì—°ìŠµ 5-2: ì œê³±ìˆ˜ í•© ê³µì‹

$\sum_{k=1}^{n} k^2 = \frac{n(n+1)(2n+1)}{6}$ì„ $n = 10$ì—ì„œ ê²€ì¦í•˜ì‹œì˜¤.

```lean
-- ì¢Œë³€: 1Â² + 2Â² + ... + 10Â²
-- ìš°ë³€: 10 * 11 * 21 / 6 = 385
example : âˆ‘ i âˆˆ range 11, i^2 = 10 * 11 * 21 / 6 := by sorry
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
example : âˆ‘ i âˆˆ range 11, i^2 = 10 * 11 * 21 / 6 := by native_decide
-- 0 + 1 + 4 + 9 + 16 + 25 + 36 + 49 + 64 + 81 + 100 = 385
```

</details>

---

## 5-c.11 ë„ì „ ë¬¸ì œ

### ë„ì „ 1: ë£¨ì¹´ìŠ¤ ìˆ˜ì—´

**ë£¨ì¹´ìŠ¤ ìˆ˜ì—´**(Lucas sequence)ì€ í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´ê³¼ ê°™ì€ ì í™”ê´€ê³„ë¥¼ ê°€ì§€ì§€ë§Œ  
ì´ˆê¸°ì¡°ê±´ì´ $L_1 = 1, L_2 = 3$ì´ë‹¤.

```lean
-- ë£¨ì¹´ìŠ¤ ìˆ˜ì—´ ì •ì˜ (ë¹ˆì¹¸ ì±„ìš°ê¸°)
def lucas : Nat â†’ Nat
  | 0 => sorry
  | 1 => sorry
  | n + 2 => sorry

-- ê²€ì¦: ì²˜ìŒ 10ê°œ í•­ì´ 1, 3, 4, 7, 11, 18, 29, 47, 76, 123ì¸ì§€ í™•ì¸
#eval (List.range 10).map (fun n => lucas (n + 1))
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
def lucas : Nat â†’ Nat
  | 0 => 2    -- í™•ì¥ëœ ì •ì˜: L_0 = 2
  | 1 => 1
  | n + 2 => lucas (n + 1) + lucas n

#eval (List.range 10).map (fun n => lucas (n + 1))
-- ê²°ê³¼: [1, 3, 4, 7, 11, 18, 29, 47, 76, 123]
```

**ì°¸ê³ **: í”¼ë³´ë‚˜ì¹˜ì™€ ë£¨ì¹´ìŠ¤ ìˆ˜ì—´ ì‚¬ì´ì—ëŠ” ì•„ë¦„ë‹¤ìš´ ê´€ê³„ê°€ ìˆë‹¤:
$$L_n = f_{n-1} + f_{n+1}$$

</details>

### ë„ì „ 2: ê·€ë‚©ë²•ìœ¼ë¡œ í•© ê³µì‹ ì¦ëª…

$\sum_{i=0}^{n} i = \frac{n(n+1)}{2}$ë¥¼ ê·€ë‚©ë²•ìœ¼ë¡œ ì¦ëª…í•˜ì‹œì˜¤.

```lean
theorem sum_nat (n : Nat) : 2 * (âˆ‘ i âˆˆ range (n + 1), i) = n * (n + 1) := by
  induction n with
  | zero =>
    simp
  | succ n ih =>
    rw [Finset.sum_range_succ]
    sorry  -- ê·€ë‚© ë‹¨ê³„ ì™„ì„±í•˜ê¸°
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem sum_nat (n : Nat) : 2 * (âˆ‘ i âˆˆ range (n + 1), i) = n * (n + 1) := by
  induction n with
  | zero =>
    simp
  | succ n ih =>
    rw [Finset.sum_range_succ]
    rw [Nat.mul_add]
    rw [ih]
    ring
```

</details>

### ë„ì „ 3: êµëŒ€ í•©

$\sum_{k=0}^{n} (-1)^k$ì˜ ê°’ì´ $n$ì´ ì§ìˆ˜ë©´ 1, í™€ìˆ˜ë©´ 0ì„ì„ ëª‡ ê°€ì§€ ê²½ìš°ì— í™•ì¸í•˜ì‹œì˜¤.

```lean
-- n = 0, 2, 4 (ì§ìˆ˜): í•© = 1
-- n = 1, 3, 5 (í™€ìˆ˜): í•© = 0

example : âˆ‘ k âˆˆ range 1, ((-1 : Int)^k) = 1 := by native_decide  -- n=0
example : âˆ‘ k âˆˆ range 2, ((-1 : Int)^k) = sorry := by native_decide  -- n=1
example : âˆ‘ k âˆˆ range 3, ((-1 : Int)^k) = sorry := by native_decide  -- n=2
example : âˆ‘ k âˆˆ range 4, ((-1 : Int)^k) = sorry := by native_decide  -- n=3
example : âˆ‘ k âˆˆ range 5, ((-1 : Int)^k) = sorry := by native_decide  -- n=4
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
example : âˆ‘ k âˆˆ range 1, ((-1 : Int)^k) = 1 := by native_decide  -- 1
example : âˆ‘ k âˆˆ range 2, ((-1 : Int)^k) = 0 := by native_decide  -- 1 + (-1) = 0
example : âˆ‘ k âˆˆ range 3, ((-1 : Int)^k) = 1 := by native_decide  -- 1 - 1 + 1 = 1
example : âˆ‘ k âˆˆ range 4, ((-1 : Int)^k) = 0 := by native_decide  -- 1 - 1 + 1 - 1 = 0
example : âˆ‘ k âˆˆ range 5, ((-1 : Int)^k) = 1 := by native_decide  -- 1 - 1 + 1 - 1 + 1 = 1
```

**íŒ¨í„´**:
- $n = 2k$ (ì§ìˆ˜): í•­ì´ ì§ìˆ˜ ê°œì´ë¯€ë¡œ ìŒì´ ì§€ì–´ì ¸ ìƒì‡„, ë§ˆì§€ë§‰ 1ì´ ë‚¨ìŒ
- $n = 2k+1$ (í™€ìˆ˜): í•­ì´ í™€ìˆ˜ ê°œì´ë¯€ë¡œ ì™„ì „íˆ ìƒì‡„

</details>

---

## 5-c.12 ì „ìˆ  ìš”ì•½

### ìˆ˜ì—´ ê´€ë ¨ ì „ìˆ 

| ì „ìˆ  | ìš©ë„ | ì˜ˆì‹œ |
|------|------|------|
| `#eval` | í•­ ê³„ì‚° | `#eval fib 10` |
| `native_decide` | êµ¬ì²´ì  ê³„ì‚° ì¦ëª… | `example : fib 10 = 55 := by native_decide` |
| `rfl` | ì •ì˜ì— ì˜í•œ ë“±ì‹ | `example : fib 0 = 0 := rfl` |

### í•© ê´€ë ¨ ì „ìˆ 

| ì „ìˆ  | ìš©ë„ | ì˜ˆì‹œ |
|------|------|------|
| `Finset.sum_range_zero` | ë¹ˆ í•© = 0 | ê¸°ì € ì‚¬ë¡€ |
| `Finset.sum_range_succ` | í•©ì˜ ì í™”ê´€ê³„ | ê·€ë‚© ë‹¨ê³„ |
| `induction` | í•© ê³µì‹ ì¦ëª… | ê·€ë‚©ë²• |
| `ring` | ëŒ€ìˆ˜ì  ê³„ì‚° | ë‹¤í•­ì‹ ì •ë¦¬ |
| `omega` | ì„ í˜• ì‚°ìˆ  | ì •ìˆ˜ ë¶€ë“±ì‹ |

### í•µì‹¬ ì •ì˜ ë° ì •ë¦¬

| ì´ë¦„ | ì˜ë¯¸ |
|------|------|
| `Finset.range n` | {0, 1, ..., n-1} |
| `âˆ‘ i âˆˆ range n, f i` | f(0) + f(1) + ... + f(n-1) |
| `Finset.sum_range_zero f` | âˆ‘ x âˆˆ range 0, f x = 0 |
| `Finset.sum_range_succ f n` | âˆ‘ x âˆˆ range (n+1), f x = (âˆ‘ x âˆˆ range n, f x) + f n |

---

## ë‹¤ìŒ í¸ ì˜ˆê³ 

**ì œ5-dí¸: ì§‘í•©ì˜ í¬ê¸°ì™€ í–‰ë ¬**ì—ì„œëŠ”:
- ì…€ ìˆ˜ ìˆëŠ” ì§‘í•©ê³¼ ì…€ ìˆ˜ ì—†ëŠ” ì§‘í•©
- ì¹¸í† ë¥´ ëŒ€ê°ì„  ë…¼ì¦
- í–‰ë ¬ì˜ ì •ì˜ì™€ ì—°ì‚°
- 0-1 í–‰ë ¬ê³¼ ë¶€ìš¸ ê³±

ì„ í•™ìŠµí•œë‹¤.

---

**(ë)**
