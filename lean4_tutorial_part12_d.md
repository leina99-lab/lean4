# Part 12-D: ê´€ê³„ì˜ í‘œí˜„ â€” í–‰ë ¬ê³¼ ë°©í–¥ì„± ê·¸ë˜í”„ (Representing Relations)

> **Rosen ì´ì‚°ìˆ˜í•™ 8íŒ Â· Section 9.3 ê¸°ë°˜**
> ã€Mathematics in Leanã€ + Lean 4 ê³µì‹í™”

---

## 0. ë“¤ì–´ê°€ë©°: ì´ íŒŒíŠ¸ì—ì„œ ë°°ìš¸ ê²ƒ

ê´€ê³„ë¥¼ ìˆœì„œìŒì˜ ëª©ë¡ìœ¼ë¡œ ë‚˜ì—´í•˜ëŠ” ê²ƒì€ ì´í•´í•˜ê¸° ì‰½ì§€ë§Œ, ê´€ê³„ê°€ ì»¤ì§€ë©´ ê´€ë¦¬í•˜ê¸° ì–´ë ¤ì›Œì§„ë‹¤. ì´ íŒŒíŠ¸ì—ì„œëŠ” ê´€ê³„ë¥¼ í‘œí˜„í•˜ëŠ” ë‘ ê°€ì§€ ê°•ë ¥í•œ ë„êµ¬ë¥¼ ë°°ìš´ë‹¤:

1. **í–‰ë ¬**(matrix)ì„ ì´ìš©í•œ ê´€ê³„ì˜ í‘œí˜„ â€” **0-1 í–‰ë ¬**
2. í–‰ë ¬ë¡œ ê´€ê³„ì˜ ì„±ì§ˆ(ë°˜ì‚¬ì , ëŒ€ì¹­ì  ë“±)ì„ íŒë‹¨í•˜ëŠ” ë°©ë²•
3. ê´€ê³„ì˜ í•©ì§‘í•©ê³¼ êµì§‘í•©ì˜ í–‰ë ¬ í‘œí˜„
4. **ë¶€ìš¸ ê³±**(Boolean product)ìœ¼ë¡œ ê´€ê³„ì˜ í•©ì„± ê³„ì‚°
5. **ë°©í–¥ì„± ê·¸ë˜í”„**(directed graph, digraph)ë¡œ ê´€ê³„ í‘œí˜„í•˜ê¸°

### ì´ íŒŒíŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” í•µì‹¬ Lean 4 ê°œë…

| ê°œë… | ì„¤ëª… |
|------|------|
| `Fin n â†’ Fin n â†’ â„•` | n Ã— n í–‰ë ¬ì„ í•¨ìˆ˜ë¡œ í‘œí˜„ |
| `fin_cases` | Fin nì˜ ëª¨ë“  ê²½ìš° ë‚˜ëˆ„ê¸° |
| `decide` | ìœ í•œ ëª…ì œì˜ ìë™ íŒì • |
| `List.finRange n` | [0, 1, ..., n-1] ë¦¬ìŠ¤íŠ¸ |
| `List.contains` | ë¦¬ìŠ¤íŠ¸ ì›ì†Œ ì†Œì† ê²€ì‚¬ |

---

## 1. 0-1 í–‰ë ¬ë¡œ ê´€ê³„ í‘œí˜„í•˜ê¸°

### 1.1 í•µì‹¬ ì•„ì´ë””ì–´

ìœ í•œì§‘í•© ì‚¬ì´ì˜ ê´€ê³„ëŠ” **0ê³¼ 1ë¡œë§Œ ì´ë£¨ì–´ì§„ í–‰ë ¬**ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤. ì´ ì•„ì´ë””ì–´ëŠ” ë†€ë¼ìš¸ ì •ë„ë¡œ ë‹¨ìˆœí•˜ê³  ê°•ë ¥í•˜ë‹¤!

Rì„ A = {aâ‚, aâ‚‚, ..., aâ‚˜}ì—ì„œ B = {bâ‚, bâ‚‚, ..., bâ‚™}ìœ¼ë¡œì˜ ê´€ê³„ë¼ í•˜ì. (ì—¬ê¸°ì„œ Aì™€ Bì˜ ì›ì†Œê°€ íŠ¹ì •í•œ, ê·¸ëŸ¬ë‚˜ ì„ì˜ì˜ ìˆœì„œë¡œ ë‚˜ì—´ë˜ì—ˆë‹¤.) ê´€ê³„ Rì„ í–‰ë ¬ **M**\_R = [m_{ij}]ë¡œ í‘œí˜„í•  ìˆ˜ ìˆëŠ”ë°:

```
m_{ij} = 1   (aáµ¢, bâ±¼) âˆˆ Rì´ë©´ (ì¦‰, aáµ¢ì™€ bâ±¼ê°€ ê´€ë ¨ë˜ë©´)
m_{ij} = 0   (aáµ¢, bâ±¼) âˆ‰ Rì´ë©´ (ì¦‰, aáµ¢ì™€ bâ±¼ê°€ ê´€ë ¨ë˜ì§€ ì•Šìœ¼ë©´)
```

**ë¹„ìœ **: í•™ìƒê³¼ ê³¼ëª©ì˜ ìˆ˜ê°• ê´€ê³„ë¥¼ ìƒê°í•´ë³´ì. í–‰ì€ í•™ìƒ, ì—´ì€ ê³¼ëª©ì´ë‹¤. í•™ìƒ iê°€ ê³¼ëª© jë¥¼ ìˆ˜ê°•í•˜ë©´ ì¹¸ì— 1ì„ ì“°ê³ , ì•„ë‹ˆë©´ 0ì„ ì“´ë‹¤. ì´ê²ƒì´ ë°”ë¡œ 0-1 í–‰ë ¬ì´ë‹¤!

### 1.2 ì˜ˆì œ 1 (Rosen)

A = {1, 2, 3}ì´ê³  B = {1, 2}ë¼ê³  í•˜ì. Rì´ Aì—ì„œ Bë¡œì˜ ê´€ê³„ë¡œ a âˆˆ A, b âˆˆ B, a > bì´ë©´ (a, b)ë¥¼ í¬í•¨í•œë‹¤.

aâ‚ = 1, aâ‚‚ = 2, aâ‚ƒ = 3, bâ‚ = 1, bâ‚‚ = 2ì¼ ë•Œ Rì„ í‘œí˜„í•˜ëŠ” í–‰ë ¬ì€?

**í’€ì´**: R = {(2, 1), (3, 1), (3, 2)}ì´ë¯€ë¡œ

```
      bâ‚  bâ‚‚
aâ‚ [  0   0 ]    -- 1 > 1? âœ—, 1 > 2? âœ—
aâ‚‚ [  1   0 ]    -- 2 > 1? âœ“, 2 > 2? âœ—
aâ‚ƒ [  1   1 ]    -- 3 > 1? âœ“, 3 > 2? âœ“
```

```lean
-- ì˜ˆì œ 1: A = {1,2,3}, B = {1,2}, R: a > b
-- Lean 4ì—ì„œ 0-1 í–‰ë ¬ì„ í•¨ìˆ˜ë¡œ ì •ì˜
def M_R_ex1 : Fin 3 â†’ Fin 2 â†’ â„•
  | 0, 0 => 0  | 0, 1 => 0     -- aâ‚=1: 1>1? âœ—, 1>2? âœ—
  | 1, 0 => 1  | 1, 1 => 0     -- aâ‚‚=2: 2>1? âœ“, 2>2? âœ—
  | 2, 0 => 1  | 2, 1 => 1     -- aâ‚ƒ=3: 3>1? âœ“, 3>2? âœ“

-- í™•ì¸
#eval M_R_ex1 1 0  -- 1 (= (2,1) âˆˆ R)
#eval M_R_ex1 0 0  -- 0 (= (1,1) âˆ‰ R)
```

> **Lean 4 ì„¤ëª…**: `Fin n`ì€ 0ë¶€í„° n-1ê¹Œì§€ì˜ ìì—°ìˆ˜ íƒ€ì…ì´ë‹¤. `Fin 3`ì€ {0, 1, 2}ì´ë‹¤. ì—¬ê¸°ì„œ 0ì€ aâ‚=1ì—, 1ì€ aâ‚‚=2ì—, 2ëŠ” aâ‚ƒ=3ì— ëŒ€ì‘í•œë‹¤. í–‰ë ¬ì„ í•¨ìˆ˜ `Fin m â†’ Fin n â†’ â„•`ë¡œ ì •ì˜í•˜ë©´, `M i j`ë¡œ (i, j) ì„±ë¶„ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.

### 1.3 ì˜ˆì œ 2 (Rosen)

A = {aâ‚, aâ‚‚, aâ‚ƒ}ì´ê³  B = {bâ‚, bâ‚‚, bâ‚ƒ, bâ‚„, bâ‚…}ë¼ê³  í•˜ì. í–‰ë ¬ì´ ë‹¤ìŒê³¼ ê°™ì„ ë•Œ, ì´ í‘œí˜„í•˜ëŠ” ê´€ê³„ Rì—ëŠ” ì–´ë–¤ ìˆœì„œìŒì´ ìˆëŠ”ê°€?

```
M_R = [0 1 0 0 0]
      [1 0 1 1 0]
      [1 0 1 0 1]
```

**í’€ì´**: m_{ij} = 1ì¸ ìˆœì„œìŒ (aáµ¢, bâ±¼)ë¡œ êµ¬ì„±ë˜ë¯€ë¡œ:

R = {(aâ‚, bâ‚‚), (aâ‚‚, bâ‚), (aâ‚‚, bâ‚ƒ), (aâ‚‚, bâ‚„), (aâ‚ƒ, bâ‚), (aâ‚ƒ, bâ‚ƒ), (aâ‚ƒ, bâ‚…)}

```lean
-- ì˜ˆì œ 2: í–‰ë ¬ì—ì„œ ê´€ê³„ ì¶”ì¶œí•˜ê¸°
def M_R_ex2 : Fin 3 â†’ Fin 5 â†’ â„•
  | 0, 0 => 0  | 0, 1 => 1  | 0, 2 => 0  | 0, 3 => 0  | 0, 4 => 0
  | 1, 0 => 1  | 1, 1 => 0  | 1, 2 => 1  | 1, 3 => 1  | 1, 4 => 0
  | 2, 0 => 1  | 2, 1 => 0  | 2, 2 => 1  | 2, 3 => 0  | 2, 4 => 1

-- í–‰ë ¬ì—ì„œ ê´€ê³„(ìˆœì„œìŒ ë¦¬ìŠ¤íŠ¸) ì¶”ì¶œí•˜ëŠ” ì¼ë°˜ í•¨ìˆ˜
def extractRelation (M : Fin m â†’ Fin n â†’ â„•) : List (Fin m Ã— Fin n) :=
  List.join <| (List.finRange m).map fun i =>
    ((List.finRange n).filter fun j => M i j == 1).map fun j => (i, j)

#eval extractRelation M_R_ex2
-- [(0,1), (1,0), (1,2), (1,3), (2,0), (2,2), (2,4)]
```

---

## 2. í–‰ë ¬ë¡œ ê´€ê³„ì˜ ì„±ì§ˆ íŒë‹¨í•˜ê¸°

í–‰ë ¬ í‘œí˜„ì˜ ì§„ì •í•œ í˜ì€ ê´€ê³„ì˜ **ì„±ì§ˆ**ì„ í–‰ë ¬ì˜ **íŒ¨í„´**ìœ¼ë¡œ íŒë‹¨í•  ìˆ˜ ìˆë‹¤ëŠ” ë° ìˆë‹¤!

### 2.1 ë°˜ì‚¬ì  ê´€ê³„ (Reflexive)

ì§‘í•© Aì— ëŒ€í•œ ê´€ê³„ Rì€ ëª¨ë“  a âˆˆ Aì— ëŒ€í•´ (a, a) âˆˆ Rì´ë©´ **ë°˜ì‚¬ì **(reflexive)ì´ë‹¤.

í–‰ë ¬ë¡œ ë³´ë©´: **ì£¼ ëŒ€ê°ì„ **(main diagonal)ì˜ ëª¨ë“  ì›ì†Œê°€ 1ì´ë©´ Rì€ ë°˜ì‚¬ì ì´ë‹¤.

```
ë°˜ì‚¬ì  ê´€ê³„ì˜ í–‰ë ¬:        ë¹„ë°˜ì‚¬ì  ê´€ê³„ì˜ í–‰ë ¬:
[1  ?  ?  ?]              [0  ?  ?  ?]
[?  1  ?  ?]              [?  1  ?  ?]     â† ëŒ€ê°ì„ ì— 0ì´ í•˜ë‚˜ë¼ë„ ìˆìœ¼ë©´ âœ—
[?  ?  1  ?]              [?  ?  1  ?]
[?  ?  ?  1]              [?  ?  ?  1]
```

(ëŒ€ê°ì„  ì´ì™¸ì˜ ì„±ë¶„ì€ 0ì¼ ìˆ˜ë„ 1ì¼ ìˆ˜ë„ ìˆë‹¤.)

```lean
-- ë°˜ì‚¬ì  ê´€ê³„: ì£¼ ëŒ€ê°ì„ ì´ ëª¨ë‘ 1
def isReflexiveMatrix (M : Fin n â†’ Fin n â†’ â„•) : Prop :=
  âˆ€ i : Fin n, M i i = 1

-- ì˜ˆ: í•­ë“± í–‰ë ¬ì€ ë°˜ì‚¬ì 
def Iâ‚ƒ : Fin 3 â†’ Fin 3 â†’ â„•
  | 0, 0 => 1  | 0, 1 => 0  | 0, 2 => 0
  | 1, 0 => 0  | 1, 1 => 1  | 1, 2 => 0
  | 2, 0 => 0  | 2, 1 => 0  | 2, 2 => 1

example : isReflexiveMatrix Iâ‚ƒ := by
  intro i
  fin_cases i <;> rfl   -- i = 0, 1, 2 ê°ê°ì— ëŒ€í•´ rfl
```

> **Lean 4 ì„¤ëª…**: `fin_cases i`ëŠ” `i : Fin 3`ì¼ ë•Œ, i = 0, i = 1, i = 2ì˜ ì„¸ ê²½ìš°ë¡œ ë‚˜ëˆˆë‹¤. ìœ í•œ íƒ€ì…ì˜ **ëª¨ë“  ê²½ìš°ë¥¼ ë‚˜ì—´**í•˜ëŠ” ê°•ë ¥í•œ ì „ìˆ ì´ë‹¤! ê° ê²½ìš°ì— `rfl`(ì •ì˜ì— ì˜í•œ ê°™ìŒ)ìœ¼ë¡œ ì¦ëª…ì´ ì™„ë£Œëœë‹¤.

### 2.2 ëŒ€ì¹­ì  ê´€ê³„ (Symmetric)

ê´€ê³„ Rì´ **ëŒ€ì¹­ì **(symmetric)ì´ë©´: (a, b) âˆˆ Rì¼ ë•Œ í•­ìƒ (b, a) âˆˆ Rì´ë‹¤.

í–‰ë ¬ìœ¼ë¡œ ë³´ë©´: **M\_Rì´ ëŒ€ì¹­ í–‰ë ¬**(symmetric matrix)ì´ë‹¤. ì¦‰, **M\_R = (M\_R)áµ€** ì´ë‹¤!

```
ëŒ€ì¹­ì  ê´€ê³„ì˜ í–‰ë ¬:         ë¹„ëŒ€ì¹­ì  ê´€ê³„ì˜ í–‰ë ¬:
[1  1  0]                 [1  1  0]
[1  1  1]   M = Máµ€       [0  1  1]   mâ‚€â‚ = 1ì´ì§€ë§Œ mâ‚â‚€ = 0 â†’ âœ—
[0  1  1]                 [0  1  1]
```

```lean
-- ëŒ€ì¹­ì  ê´€ê³„: M i j = M j i (ëª¨ë“  i, jì— ëŒ€í•´)
def isSymmetricMatrix (M : Fin n â†’ Fin n â†’ â„•) : Prop :=
  âˆ€ i j : Fin n, M i j = M j i

-- ì˜ˆì œ: ëŒ€ì¹­ í–‰ë ¬
def M_sym : Fin 3 â†’ Fin 3 â†’ â„•
  | 0, 0 => 1  | 0, 1 => 1  | 0, 2 => 0
  | 1, 0 => 1  | 1, 1 => 1  | 1, 2 => 1
  | 2, 0 => 0  | 2, 1 => 1  | 2, 2 => 1

example : isSymmetricMatrix M_sym := by
  intro i j
  fin_cases i <;> fin_cases j <;> rfl
```

> **Lean 4 ì„¤ëª…**: `fin_cases i <;> fin_cases j`ëŠ” (i, j)ì˜ **ëª¨ë“  ì¡°í•©**ì„ ë‚˜ì—´í•œë‹¤. 3Ã—3 í–‰ë ¬ì´ë©´ 9ê°€ì§€ ê²½ìš°ë¥¼ ê°ê° í™•ì¸í•œë‹¤. `<;>`ëŠ” "ì• ì „ìˆ ì˜ ëª¨ë“  ê²°ê³¼ ëª©í‘œì— ë’¤ ì „ìˆ ì„ ì ìš©"í•˜ë¼ëŠ” ì˜ë¯¸ì´ë‹¤.

### 2.3 ë°˜ëŒ€ì¹­ì  ê´€ê³„ (Antisymmetric)

ê´€ê³„ Rì´ **ë°˜ëŒ€ì¹­ì **(antisymmetric)ì´ë©´: (a, b) âˆˆ Rì´ê³  (b, a) âˆˆ Rì´ë©´ a = bì´ë‹¤.

í–‰ë ¬ìœ¼ë¡œ ë³´ë©´: i â‰  jì´ê³  m_{ij} = 1ì´ë©´, m_{ji} = 0ì´ì–´ì•¼ í•œë‹¤. ì¦‰, **ëŒ€ê°ì„  ë°–ì—ì„œ 1ì´ ì„œë¡œ ë§ˆì£¼ë³´ì§€ ì•ŠëŠ”ë‹¤**.

```
ë°˜ëŒ€ì¹­ì  ê´€ê³„ì˜ í–‰ë ¬:
[1  1  0]
[0  1  0]    ëŒ€ê°ì„  ë°–: mâ‚€â‚=1 â†’ mâ‚â‚€=0 âœ“
[0  1  1]              mâ‚‚â‚=1 â†’ mâ‚â‚‚=0 âœ“
```

```lean
-- ë°˜ëŒ€ì¹­ì  ê´€ê³„: i â‰  jì´ê³  M i j = 1ì´ë©´ M j i = 0
def isAntisymmetricMatrix (M : Fin n â†’ Fin n â†’ â„•) : Prop :=
  âˆ€ i j : Fin n, i â‰  j â†’ M i j = 1 â†’ M j i = 0
```

### 2.4 ì˜ˆì œ 3 (Rosen)

ì–´ë–¤ ì§‘í•©ì— ëŒ€í•œ ê´€ê³„ Rì´ ë‹¤ìŒ í–‰ë ¬ë¡œ í‘œí˜„ë˜ë©´:

```
M_R = [1 1 0]
      [1 1 1]
      [0 1 1]
```

ì´ ê´€ê³„ Rì€ ë°˜ì‚¬ì ì¸ê°€? ëŒ€ì¹­ì ì¸ê°€? ë°˜ëŒ€ì¹­ì ì¸ê°€?

```lean
def M_R_ex3 : Fin 3 â†’ Fin 3 â†’ â„•
  | 0, 0 => 1  | 0, 1 => 1  | 0, 2 => 0
  | 1, 0 => 1  | 1, 1 => 1  | 1, 2 => 1
  | 2, 0 => 0  | 2, 1 => 1  | 2, 2 => 1

-- âœ“ ë°˜ì‚¬ì : ëŒ€ê°ì„ ì´ ëª¨ë‘ 1
example : isReflexiveMatrix M_R_ex3 := by
  intro i; fin_cases i <;> rfl

-- âœ“ ëŒ€ì¹­ì : M = Máµ€
example : isSymmetricMatrix M_R_ex3 := by
  intro i j; fin_cases i <;> fin_cases j <;> rfl

-- âœ— ë°˜ëŒ€ì¹­ì ì´ ì•„ë‹˜: mâ‚€â‚ = 1ì´ê³  mâ‚â‚€ = 1ì¸ë° 0 â‰  1
example : Â¬ isAntisymmetricMatrix M_R_ex3 := by
  intro h
  have := h 0 1 (by omega) rfl
  -- M_R_ex3 1 0 = 0ì´ì–´ì•¼ í•˜ëŠ”ë°, ì‹¤ì œë¡œ 1
  simp [M_R_ex3] at this
```

---

## 3. ê´€ê³„ì˜ í•©ì§‘í•©ê³¼ êµì§‘í•©ì˜ í–‰ë ¬

### 3.1 ê°œë…

Râ‚ê³¼ Râ‚‚ê°€ ì§‘í•© Aì— ëŒ€í•œ ê´€ê³„ì´ê³ , ì´ë¥¼ í‘œí˜„í•˜ëŠ” í–‰ë ¬ì´ ê°ê° **M**_{Râ‚}ê³¼ **M**_{Râ‚‚}ë¼ê³  í•˜ì.

- **í•©ì§‘í•©**ì˜ í–‰ë ¬: **M**_{Râ‚ âˆª Râ‚‚} = **M**_{Râ‚} âˆ¨ **M**_{Râ‚‚}
  - ì›ì†Œë³„ë¡œ OR ì—°ì‚°: ë‘˜ ì¤‘ í•˜ë‚˜ë¼ë„ 1ì´ë©´ 1
- **êµì§‘í•©**ì˜ í–‰ë ¬: **M**_{Râ‚ âˆ© Râ‚‚} = **M**_{Râ‚} âˆ§ **M**_{Râ‚‚}
  - ì›ì†Œë³„ë¡œ AND ì—°ì‚°: ë‘˜ ë‹¤ 1ì´ì–´ì•¼ 1

```lean
-- í•©ì§‘í•© (ì›ì†Œë³„ OR = max)
def matOr (Mâ‚ Mâ‚‚ : Fin n â†’ Fin n â†’ â„•) : Fin n â†’ Fin n â†’ â„• :=
  fun i j => max (Mâ‚ i j) (Mâ‚‚ i j)

-- êµì§‘í•© (ì›ì†Œë³„ AND = min)
def matAnd (Mâ‚ Mâ‚‚ : Fin n â†’ Fin n â†’ â„•) : Fin n â†’ Fin n â†’ â„• :=
  fun i j => min (Mâ‚ i j) (Mâ‚‚ i j)
```

### 3.2 ì˜ˆì œ 4 (Rosen)

ì§‘í•© Aì— ëŒ€í•œ ê´€ê³„ Râ‚ê³¼ Râ‚‚ê°€ ë‹¤ìŒ í–‰ë ¬ì— ì˜í•´ í‘œí˜„ëœë‹¤:

```
M_{Râ‚} = [1 0 1]    M_{Râ‚‚} = [1 0 1]
         [1 0 0]             [0 1 1]
         [0 1 0]             [1 0 0]
```

```lean
def M_R1 : Fin 3 â†’ Fin 3 â†’ â„•
  | 0, 0 => 1  | 0, 1 => 0  | 0, 2 => 1
  | 1, 0 => 1  | 1, 1 => 0  | 1, 2 => 0
  | 2, 0 => 0  | 2, 1 => 1  | 2, 2 => 0

def M_R2 : Fin 3 â†’ Fin 3 â†’ â„•
  | 0, 0 => 1  | 0, 1 => 0  | 0, 2 => 1
  | 1, 0 => 0  | 1, 1 => 1  | 1, 2 => 1
  | 2, 0 => 1  | 2, 1 => 0  | 2, 2 => 0

-- í–‰ë ¬ì„ ë³´ê¸° ì¢‹ê²Œ ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜
def showMatrix (M : Fin n â†’ Fin n â†’ â„•) : List (List â„•) :=
  (List.finRange n).map fun i =>
    (List.finRange n).map fun j => M i j

-- í•©ì§‘í•©: M_{Râ‚ âˆª Râ‚‚} = [[1,0,1], [1,1,1], [1,1,0]]
#eval showMatrix (matOr M_R1 M_R2)

-- êµì§‘í•©: M_{Râ‚ âˆ© Râ‚‚} = [[1,0,1], [0,0,0], [0,0,0]]
#eval showMatrix (matAnd M_R1 M_R2)
```

---

## 4. ë¶€ìš¸ ê³±ê³¼ ê´€ê³„ì˜ í•©ì„±

### 4.1 ë¶€ìš¸ ê³±ì´ë€?

ê´€ê³„ì˜ **í•©ì„±**(composition)ì„ í–‰ë ¬ë¡œ ê³„ì‚°í•˜ë ¤ë©´ **ë¶€ìš¸ ê³±**(Boolean product)ì´ í•„ìš”í•˜ë‹¤. ì¼ë°˜ í–‰ë ¬ ê³±ê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ, ë§ì…ˆì„ OR(âˆ¨)ë¡œ, ê³±ì…ˆì„ AND(âˆ§)ë¡œ ë°”ê¾¼ ê²ƒì´ë‹¤.

**ì¼ë°˜ í–‰ë ¬ ê³± vs ë¶€ìš¸ ê³± ë¹„êµ**:

| ì—°ì‚° | ì¼ë°˜ í–‰ë ¬ ê³± | ë¶€ìš¸ ê³± |
|------|----------|--------|
| ì›ì†Œ ê³± | Ã— (ê³±ì…ˆ) | âˆ§ (AND) |
| ì›ì†Œ í•© | + (ë§ì…ˆ) | âˆ¨ (OR) |
| ê²°ê³¼ | ì„ì˜ì˜ ìˆ˜ | 0 ë˜ëŠ” 1 |

> **ìˆ˜ì‹**: (i, j) ì„±ë¶„ = (r_{i1} âˆ§ s_{1j}) âˆ¨ (r_{i2} âˆ§ s_{2j}) âˆ¨ â‹¯ âˆ¨ (r_{in} âˆ§ s_{nj})

ì‰½ê²Œ ë§í•´ì„œ: "í–‰ë ¬ ê³±ì—ì„œ + ëŒ€ì‹  OR, Ã— ëŒ€ì‹  ANDë¥¼ ì‚¬ìš©í•œë‹¤."

ê·¸ëŸ°ë° ì™œ ì´ê²ƒì´ ê´€ê³„ì˜ í•©ì„±ì— ëŒ€ì‘í• ê¹Œ? S âˆ˜ Rì˜ ì •ì˜ë¥¼ ë– ì˜¬ë ¤ë³´ì:

(a, c) âˆˆ S âˆ˜ R âŸº ì–´ë–¤ bê°€ ì¡´ì¬í•˜ì—¬ (a, b) âˆˆ R **ì´ê³ ** (b, c) âˆˆ S

- "ì–´ë–¤ bê°€ ì¡´ì¬í•˜ì—¬" â†’ OR (âˆ¨)ë¡œ ëª¨ë“  bë¥¼ ê²€ì‚¬
- "(a, b) âˆˆ R **ì´ê³ ** (b, c) âˆˆ S" â†’ AND (âˆ§)ë¡œ ë‘ ì¡°ê±´ ê²°í•©

ë”°ë¼ì„œ **ë¶€ìš¸ ê³±ì€ ê´€ê³„ì˜ í•©ì„±ì„ ì •í™•íˆ ê³„ì‚°í•œë‹¤!**

### 4.2 Lean 4ì—ì„œì˜ êµ¬í˜„

```lean
-- ë¶€ìš¸ ê³± (Boolean product)
def boolProd (Mâ‚ : Fin m â†’ Fin n â†’ â„•) (Mâ‚‚ : Fin n â†’ Fin p â†’ â„•) :
    Fin m â†’ Fin p â†’ â„• :=
  fun i j =>
    if (List.finRange n).any (fun k => Mâ‚ i k == 1 && Mâ‚‚ k j == 1)
    then 1 else 0
```

### 4.3 ì˜ˆì œ 5 (Rosen)

Rê³¼ Së¥¼ í‘œí˜„í•˜ëŠ” í–‰ë ¬ì´ ë‹¤ìŒê³¼ ê°™ì„ ë•Œ, ê´€ê³„ S âˆ˜ Rì„ í‘œí˜„í•˜ëŠ” í–‰ë ¬ì„ êµ¬í•˜ë¼.

```
M_R = [1 0 1]    M_S = [0 1 0]
      [1 1 0]          [0 0 1]
      [0 0 0]          [1 0 1]
```

**í’€ì´** (ë¶€ìš¸ ê³± M_R âŠ™ M_S):

í–‰ 0, ì—´ 0: (1âˆ§0) âˆ¨ (0âˆ§0) âˆ¨ (1âˆ§1) = 0 âˆ¨ 0 âˆ¨ 1 = **1**
í–‰ 0, ì—´ 1: (1âˆ§1) âˆ¨ (0âˆ§0) âˆ¨ (1âˆ§0) = 1 âˆ¨ 0 âˆ¨ 0 = **1**
í–‰ 0, ì—´ 2: (1âˆ§0) âˆ¨ (0âˆ§1) âˆ¨ (1âˆ§1) = 0 âˆ¨ 0 âˆ¨ 1 = **1**
... (ë‚˜ë¨¸ì§€ë„ ê°™ì€ ë°©ì‹)

```lean
def M_R_5 : Fin 3 â†’ Fin 3 â†’ â„•
  | 0, 0 => 1  | 0, 1 => 0  | 0, 2 => 1
  | 1, 0 => 1  | 1, 1 => 1  | 1, 2 => 0
  | 2, 0 => 0  | 2, 1 => 0  | 2, 2 => 0

def M_S_5 : Fin 3 â†’ Fin 3 â†’ â„•
  | 0, 0 => 0  | 0, 1 => 1  | 0, 2 => 0
  | 1, 0 => 0  | 1, 1 => 0  | 1, 2 => 1
  | 2, 0 => 1  | 2, 1 => 0  | 2, 2 => 1

-- S âˆ˜ Rì˜ í–‰ë ¬ = M_R âŠ™ M_S
#eval showMatrix (boolProd M_R_5 M_S_5)
-- [[1, 1, 1], [0, 1, 1], [0, 0, 0]]
```

### 4.4 ê´€ê³„ì˜ ê±°ë“­ì œê³±

R^n (Rì„ në²ˆ í•©ì„±)ì€ í–‰ë ¬ì˜ **ë¶€ìš¸ ê±°ë“­ì œê³±**ìœ¼ë¡œ êµ¬í•  ìˆ˜ ìˆë‹¤:

**M**_{Râ¿} = **M**\_R^{[n]} (ë¶€ìš¸ ê³±ì„ në²ˆ ë°˜ë³µ)

```lean
-- ë¶€ìš¸ ê±°ë“­ì œê³±
def boolPow (M : Fin n â†’ Fin n â†’ â„•) : â„• â†’ Fin n â†’ Fin n â†’ â„•
  | 0 => fun i j => if i == j then 1 else 0  -- í•­ë“± í–‰ë ¬
  | k + 1 => boolProd (boolPow M k) M

-- ì˜ˆì œ 6 (Rosen)
def M_R_6 : Fin 3 â†’ Fin 3 â†’ â„•
  | 0, 0 => 0  | 0, 1 => 1  | 0, 2 => 0
  | 1, 0 => 0  | 1, 1 => 1  | 1, 2 => 1
  | 2, 0 => 1  | 2, 1 => 0  | 2, 2 => 0

-- RÂ²ì˜ í–‰ë ¬
#eval showMatrix (boolPow M_R_6 2)
-- [[0, 1, 1], [1, 1, 1], [0, 1, 0]]
```

---

## 5. ë°©í–¥ì„± ê·¸ë˜í”„ë¡œ ê´€ê³„ í‘œí˜„í•˜ê¸°

### 5.1 ë°©í–¥ì„± ê·¸ë˜í”„ë€?

ìˆœì„œìŒì˜ ëª©ë¡ì´ë‚˜ í–‰ë ¬ ì™¸ì—, ê´€ê³„ë¥¼ **ê·¸ë¦¼**ìœ¼ë¡œ í‘œí˜„í•˜ëŠ” ì¤‘ìš”í•œ ë°©ë²•ì´ ìˆë‹¤.

> **ì •ì˜ 1** (Rosen): **ë°©í–¥ì„± ê·¸ë˜í”„**(directed graph, digraph)ëŠ” **ê¼­ì§€ì **(vertex, node)ì˜ ì§‘í•© Vì™€ **ëª¨ì„œë¦¬**(edge, arc)ë¼ ë¶ˆë¦¬ëŠ” Vì˜ ìˆœì„œìŒ ì§‘í•© Eë¡œ êµ¬ì„±ëœë‹¤. ê¼­ì§€ì  aëŠ” ëª¨ì„œë¦¬ (a, b)ì˜ **ì‹œì‘ì **(initial vertex)ì´ë¼ê³  í•˜ê³ , ê¼­ì§€ì  bëŠ” ì´ ëª¨ì„œë¦¬ì˜ **ëì **(terminal vertex)ì´ë¼ê³  ë¶€ë¥¸ë‹¤.

í•µì‹¬ ê°œë…:
- (a, a) í˜•íƒœì˜ ëª¨ì„œë¦¬ë¥¼ **ë£¨í”„**(loop)ë¼ê³  ë¶€ë¥¸ë‹¤ â€” ìê¸° ìì‹ ìœ¼ë¡œ ëŒì•„ì˜¤ëŠ” í™”ì‚´í‘œ
- í™”ì‚´í‘œì—ëŠ” **ë°©í–¥**ì´ ìˆë‹¤: (a, b)ì™€ (b, a)ëŠ” ì„œë¡œ ë‹¤ë¥¸ ëª¨ì„œë¦¬ì´ë‹¤
- ì§‘í•© Aì— ëŒ€í•œ ê´€ê³„ Rì€ ê³§ ë°©í–¥ì„± ê·¸ë˜í”„ì´ë‹¤: ê¼­ì§€ì  = Aì˜ ì›ì†Œ, ëª¨ì„œë¦¬ = Rì˜ ìˆœì„œìŒ

**ë¹„ìœ **: SNSì—ì„œ "íŒ”ë¡œìš°" ê´€ê³„ë¥¼ ìƒê°í•˜ì. "Aê°€ Bë¥¼ íŒ”ë¡œìš°í•œë‹¤"ì™€ "Bê°€ Aë¥¼ íŒ”ë¡œìš°í•œë‹¤"ëŠ” ë‹¤ë¥´ë‹¤. ê° ì‚¬ëŒì´ ê¼­ì§€ì ì´ê³ , íŒ”ë¡œìš° ê´€ê³„ê°€ í™”ì‚´í‘œ(ëª¨ì„œë¦¬)ì´ë‹¤.

### 5.2 Lean 4ì—ì„œ ë°©í–¥ì„± ê·¸ë˜í”„ í‘œí˜„

```lean
-- ë°©í–¥ì„± ê·¸ë˜í”„ = ëª¨ì„œë¦¬(ìˆœì„œìŒ)ì˜ ë¦¬ìŠ¤íŠ¸
-- ì˜ˆì œ 8 (Rosen): ì§‘í•© {1, 2, 3, 4}ì— ê´€í•œ ê´€ê³„
-- Râ‚ = {(1,1), (1,3), (2,1), (2,3), (2,4), (3,1), (3,2), (4,1)}
-- Fin 4 ì‚¬ìš©: ì›ì†Œ 1â†’ì¸ë±ìŠ¤ 0, ì›ì†Œ 2â†’ì¸ë±ìŠ¤ 1, ì›ì†Œ 3â†’ì¸ë±ìŠ¤ 2, ì›ì†Œ 4â†’ì¸ë±ìŠ¤ 3
def Râ‚_edges : List (Fin 4 Ã— Fin 4) :=
  [(0,0), (0,2), (1,0), (1,2), (1,3), (2,0), (2,1), (3,0)]

-- ì¸ì ‘ í–‰ë ¬ (adjacency matrix) ìƒì„±
def adjMatrix (edges : List (Fin n Ã— Fin n)) : Fin n â†’ Fin n â†’ â„• :=
  fun i j => if edges.contains (i, j) then 1 else 0

#eval showMatrix (adjMatrix Râ‚_edges)
-- [[1,0,1,0], [1,0,1,1], [1,1,0,0], [1,0,0,0]]
```

### 5.3 ë°©í–¥ì„± ê·¸ë˜í”„ì—ì„œ ê´€ê³„ì˜ ì„±ì§ˆ ì½ê¸°

ë°©í–¥ì„± ê·¸ë˜í”„ë¥¼ ë³´ë©´ ê´€ê³„ì˜ ì„±ì§ˆì„ **ì‹œê°ì ìœ¼ë¡œ** íŒë‹¨í•  ìˆ˜ ìˆë‹¤:

| ì„±ì§ˆ | ê·¸ë˜í”„ì—ì„œì˜ ì˜ë¯¸ | í–‰ë ¬ì—ì„œì˜ ì˜ë¯¸ |
|------|--------------|------------|
| **ë°˜ì‚¬ì **(reflexive) | ëª¨ë“  ê¼­ì§€ì ì— ë£¨í”„ê°€ ìˆë‹¤ | ëŒ€ê°ì„  ëª¨ë‘ 1 |
| **ëŒ€ì¹­ì **(symmetric) | ëª¨ë“  ëª¨ì„œë¦¬ì˜ ë°˜ëŒ€ ë°©í–¥ë„ ìˆë‹¤ | M = Máµ€ |
| **ë°˜ëŒ€ì¹­ì **(antisymmetric) | ì„œë¡œ ë‹¤ë¥¸ ë‘ ê¼­ì§€ì  ì‚¬ì´ì— ì–‘ë°©í–¥ âœ— | ëŒ€ê°ì„  ë°–ì—ì„œ ëŒ€ì¹­ 1 ìŒ ì—†ìŒ |
| **ì „ì´ì **(transitive) | aâ†’bâ†’cì´ë©´ aâ†’cë„ ìˆë‹¤ | MÂ² â‰¤ M (ë¶€ìš¸ ê³±) |

### 5.4 ì˜ˆì œ 10 (Rosen)

ê·¸ë¦¼ 6ì˜ ê´€ê³„ Sâ‚ì— ëŒ€í•´ ì„±ì§ˆì„ íŒì •í•˜ë¼.

Sâ‚: ê° ê¼­ì§€ì ì— ë£¨í”„ê°€ ìˆê³ , aâ†’b ëª¨ì„œë¦¬ê°€ ìˆì§€ë§Œ bâ†’aëŠ” ì—†ê³ , bâ†’cëŠ” ì–‘ë°©í–¥ì´ë‹¤.

- **ë°˜ì‚¬ì **: ëª¨ë“  ê¼­ì§€ì ì— ë£¨í”„ â†’ âœ“
- **ëŒ€ì¹­ì **: aâ†’bì¸ë° bâ†’a ì•„ë‹˜ â†’ âœ—
- **ë°˜ëŒ€ì¹­ì **: bâ†”c ì–‘ë°©í–¥ì¸ë° bâ‰ c â†’ âœ—
- **ì „ì´ì **: aâ†’b, bâ†’cì¸ë° aâ†’c ì—†ìŒ â†’ âœ—

---

## 6. ì—°ìŠµ ë¬¸ì œ â€” ë ˆë²¨ 1: ê´„í˜¸ ì±„ìš°ê¸°

### ì—°ìŠµ 6.1: ê´€ê³„ì—ì„œ í–‰ë ¬ ë§Œë“¤ê¸° (Rosen ì—°ìŠµë¬¸ì œ 1a)

{1, 2, 3}ì— ëŒ€í•œ ê´€ê³„ {(1,1), (1,2), (1,3)}ì„ í–‰ë ¬ë¡œ í‘œí˜„í•˜ë¼.

```lean
def M_6_1 : Fin 3 â†’ Fin 3 â†’ â„•
  | 0, 0 => /- ? -/  | 0, 1 => /- ? -/  | 0, 2 => /- ? -/
  | 1, 0 => /- ? -/  | 1, 1 => /- ? -/  | 1, 2 => /- ? -/
  | 2, 0 => /- ? -/  | 2, 1 => /- ? -/  | 2, 2 => /- ? -/
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
-- R = {(1,1), (1,2), (1,3)} â†’ ì¸ë±ìŠ¤: {(0,0), (0,1), (0,2)}
def M_6_1 : Fin 3 â†’ Fin 3 â†’ â„•
  | 0, 0 => 1  | 0, 1 => 1  | 0, 2 => 1
  | 1, 0 => 0  | 1, 1 => 0  | 1, 2 => 0
  | 2, 0 => 0  | 2, 1 => 0  | 2, 2 => 0
```

**ì„¤ëª…**: ì²« ë²ˆì§¸ í–‰(aâ‚=1)ì—ì„œë§Œ ê´€ê³„ê°€ ìˆìœ¼ë¯€ë¡œ ì²« í–‰ë§Œ 1ì´ë‹¤.
</details>

### ì—°ìŠµ 6.2: í–‰ë ¬ì—ì„œ ê´€ê³„ ì½ê¸° (Rosen ì—°ìŠµë¬¸ì œ 3b)

```lean
-- ë‹¤ìŒ í–‰ë ¬ì— ëŒ€ì‘í•˜ëŠ” ê´€ê³„ì˜ ìˆœì„œìŒì„ ë‚˜ì—´í•˜ë¼ (ì˜¤ë¦„ì°¨ìˆœ)
-- M = [0 1 0]
--     [0 1 0]
--     [0 1 0]
-- R = { /- ì—¬ê¸°ë¥¼ ì±„ìš°ì„¸ìš” -/ }
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

R = {(1, 2), (2, 2), (3, 2)}

**ì„¤ëª…**: m_{ij} = 1ì¸ ìœ„ì¹˜: (0,1), (1,1), (2,1). ì›ì†Œë¡œ ë°”ê¾¸ë©´ (1,2), (2,2), (3,2). ëª¨ë“  ì›ì†Œê°€ 2ë²ˆ ì›ì†Œì™€ ê´€ë ¨ëœë‹¤.
</details>

### ì—°ìŠµ 6.3: ì„±ì§ˆ íŒì • (Rosen ì—°ìŠµë¬¸ì œ 7)

```lean
-- ì—°ìŠµë¬¸ì œ 3ì˜ í–‰ë ¬ë¡œ í‘œí˜„ëœ ê´€ê³„ë“¤ì´ ë°˜ì‚¬ì ì¸ì§€, ë¹„ë°˜ì‚¬ì ì¸ì§€,
-- ëŒ€ì¹­ì ì¸ì§€, ë°˜ëŒ€ì¹­ì ì¸ì§€, ì „ì´ì ì¸ì§€ íŒë‹¨í•˜ë¼

-- (b) M = [0 1 0]
--         [0 1 0]
--         [0 1 0]

-- ë°˜ì‚¬ì ? ëŒ€ê°ì„ : mâ‚€â‚€ = 0 â†’ âœ— (ë°˜ì‚¬ì  ì•„ë‹˜)
-- ëŒ€ì¹­ì ? mâ‚€â‚ = 1ì´ì§€ë§Œ mâ‚â‚€ = 0 â†’ âœ— (ëŒ€ì¹­ì  ì•„ë‹˜)
-- ë°˜ëŒ€ì¹­ì ? mâ‚€â‚ = 1ì´ê³  mâ‚â‚€ = 0 âœ“, mâ‚‚â‚ = 1ì´ê³  mâ‚â‚‚ = 0 âœ“ â†’ /- ì—¬ê¸°ë¥¼ ì±„ìš°ì„¸ìš” -/
-- ì „ì´ì ? (1,2) âˆˆ Rì´ê³  (2,2) âˆˆ Rì´ë©´ (1,2) âˆˆ R? â†’ /- ì—¬ê¸°ë¥¼ ì±„ìš°ì„¸ìš” -/
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

- ë°˜ëŒ€ì¹­ì ? âœ“ (ëŒ€ê°ì„  ë°–ì—ì„œ 1ì´ ë§ˆì£¼ë³´ì§€ ì•ŠìŒ)
- ì „ì´ì ? âœ“ (Rì˜ ëª¨ë“  ê²½ë¡œê°€ ë‹¤ì‹œ Rë¡œ ëŒì•„ì˜´)
  - (1,2)âˆˆR, (2,2)âˆˆR â†’ (1,2)âˆˆR âœ“
  - (2,2)âˆˆR, (2,2)âˆˆR â†’ (2,2)âˆˆR âœ“
  - (3,2)âˆˆR, (2,2)âˆˆR â†’ (3,2)âˆˆR âœ“
</details>

---

## 7. ì—°ìŠµ ë¬¸ì œ â€” ë ˆë²¨ 2: skeleton ì±„ìš°ê¸°

### ì—°ìŠµ 7.1: ë¶€ìš¸ ê³± ì§ì ‘ ê³„ì‚° (Rosen ì—°ìŠµë¬¸ì œ 15a)

Rì„ ë‹¤ìŒ í–‰ë ¬ë¡œ í‘œí˜„ë˜ëŠ” ê´€ê³„ë¼ í•˜ì. RÂ²ì„ í‘œí˜„í•˜ëŠ” í–‰ë ¬ì„ êµ¬í•˜ë¼.

```
M_R = [0 1 0]
      [0 0 1]
      [1 1 0]
```

```lean
def M_7_1 : Fin 3 â†’ Fin 3 â†’ â„•
  | 0, 0 => 0  | 0, 1 => 1  | 0, 2 => 0
  | 1, 0 => 0  | 1, 1 => 0  | 1, 2 => 1
  | 2, 0 => 1  | 2, 1 => 1  | 2, 2 => 0

-- RÂ² = M_R âŠ™ M_Rì˜ ê° ì„±ë¶„ì„ ê³„ì‚°í•˜ë¼
-- (0,0): (0âˆ§0)âˆ¨(1âˆ§0)âˆ¨(0âˆ§1) = ?
-- (0,1): (0âˆ§1)âˆ¨(1âˆ§0)âˆ¨(0âˆ§1) = ?
-- ... (ë‚˜ë¨¸ì§€ë„ ê³„ì‚°)

-- ê³„ì‚°ê¸° ê²€ì¦:
#eval showMatrix (boolPow M_7_1 2)
-- ë‹µ: sorry  -- ì§ì ‘ ê³„ì‚°í•œ ê²°ê³¼ì™€ ë¹„êµí•˜ë¼!
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```
RÂ²ì˜ í–‰ë ¬:
[0 0 1]    -- (0,0): 0, (0,1): 0, (0,2): 1âˆ§1=1
[1 1 0]    -- (1,0): 0âˆ¨0âˆ¨1=1, (1,1): 0âˆ¨0âˆ¨1=1, (1,2): 0
[0 1 1]    -- (2,0): 0, (2,1): 0âˆ¨0âˆ¨0=0â†’wait...
```

ì‹¤í–‰ìœ¼ë¡œ í™•ì¸:
`#eval showMatrix (boolPow M_7_1 2)` â†’ `[[0, 0, 1], [1, 1, 0], [0, 1, 1]]`
</details>

### ì—°ìŠµ 7.2: ë°˜ì‚¬ì  í–‰ë ¬ ì¦ëª… (Lean 4)

```lean
-- ë‹¤ìŒ í–‰ë ¬ì´ ë°˜ì‚¬ì  ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚´ëŠ”ì§€ ì¦ëª…í•˜ë¼
def M_7_2 : Fin 3 â†’ Fin 3 â†’ â„•
  | 0, 0 => 1  | 0, 1 => 0  | 0, 2 => 1
  | 1, 0 => 1  | 1, 1 => 1  | 1, 2 => 0
  | 2, 0 => 0  | 2, 1 => 1  | 2, 2 => 1

example : isReflexiveMatrix M_7_2 := by
  sorry
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
example : isReflexiveMatrix M_7_2 := by
  intro i
  fin_cases i <;> rfl
```
</details>

### ì—°ìŠµ 7.3: ëŒ€ì¹­ì ì´ ì•„ë‹˜ì„ ì¦ëª… (Lean 4)

```lean
-- M_7_2ê°€ ëŒ€ì¹­ì ì´ì§€ ì•ŠìŒì„ ì¦ëª…í•˜ë¼
example : Â¬ isSymmetricMatrix M_7_2 := by
  sorry
```

<details>
<summary>ğŸ’¡ íŒíŠ¸</summary>

ë°˜ë¡€ë¥¼ ì°¾ì•„ë¼. M_7_2 0 1 = 0ì´ì§€ë§Œ M_7_2 1 0 = 1ì´ë‹¤. `intro h`ë¡œ ê°€ì •í•œ í›„ `have := h 0 1`ë¡œ ëª¨ìˆœì„ ë„ì¶œí•œë‹¤.
</details>

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
example : Â¬ isSymmetricMatrix M_7_2 := by
  intro h
  have := h 0 1
  simp [M_7_2] at this
```
</details>

---

## 8. ì—°ìŠµ ë¬¸ì œ â€” ë ˆë²¨ 3: sorry ì±„ìš°ê¸° (ë…ë¦½ ì¦ëª…)

### ì—°ìŠµ 8.1: í•©ì§‘í•© í–‰ë ¬ì˜ ì„±ì§ˆ

ë‘ ë°˜ì‚¬ì  ê´€ê³„ì˜ í•©ì§‘í•©ë„ ë°˜ì‚¬ì ì„ì„ ì¦ëª…í•˜ë¼.

```lean
theorem union_reflexive
    (hâ‚ : isReflexiveMatrix Mâ‚) (hâ‚‚ : isReflexiveMatrix Mâ‚‚) :
    isReflexiveMatrix (matOr Mâ‚ Mâ‚‚) := by
  sorry
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem union_reflexive
    (hâ‚ : isReflexiveMatrix Mâ‚) (hâ‚‚ : isReflexiveMatrix Mâ‚‚) :
    isReflexiveMatrix (matOr Mâ‚ Mâ‚‚) := by
  intro i
  simp [matOr, hâ‚ i, hâ‚‚ i]
```
</details>

### ì—°ìŠµ 8.2: êµì§‘í•© í–‰ë ¬ì˜ ëŒ€ì¹­ì„±

ë‘ ëŒ€ì¹­ì  ê´€ê³„ì˜ êµì§‘í•©ë„ ëŒ€ì¹­ì ì„ì„ ì¦ëª…í•˜ë¼.

```lean
theorem inter_symmetric
    (hâ‚ : isSymmetricMatrix Mâ‚) (hâ‚‚ : isSymmetricMatrix Mâ‚‚) :
    isSymmetricMatrix (matAnd Mâ‚ Mâ‚‚) := by
  sorry
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem inter_symmetric
    (hâ‚ : isSymmetricMatrix Mâ‚) (hâ‚‚ : isSymmetricMatrix Mâ‚‚) :
    isSymmetricMatrix (matAnd Mâ‚ Mâ‚‚) := by
  intro i j
  simp [matAnd, hâ‚ i j, hâ‚‚ i j]
```
</details>

### ì—°ìŠµ 8.3: ëŒ€ì¹­ í–‰ë ¬ì˜ ì „ì¹˜ (ë„ì „!)

ê´€ê³„ê°€ ëŒ€ì¹­ì ì´ë©´ M\_R = (M\_R)áµ€ ì„ì„ ì¦ëª…í•˜ë¼. (ì „ì¹˜ í–‰ë ¬ ì •ì˜ í¬í•¨)

```lean
-- ì „ì¹˜ í–‰ë ¬ ì •ì˜
def transpose (M : Fin n â†’ Fin n â†’ â„•) : Fin n â†’ Fin n â†’ â„• :=
  fun i j => M j i

-- ëŒ€ì¹­ì  â†” M = Máµ€
theorem symmetric_iff_transpose (M : Fin n â†’ Fin n â†’ â„•) :
    isSymmetricMatrix M â†” (âˆ€ i j, M i j = transpose M i j) := by
  sorry
```

<details>
<summary>ğŸ’¡ ë‹µ ë³´ê¸°</summary>

```lean
theorem symmetric_iff_transpose (M : Fin n â†’ Fin n â†’ â„•) :
    isSymmetricMatrix M â†” (âˆ€ i j, M i j = transpose M i j) := by
  constructor
  Â· intro h i j
    simp [transpose, h i j]
  Â· intro h i j
    have := h i j
    simp [transpose] at this
    exact this
```
</details>

---

## 9. ì‚¬ìš©ëœ Lean 4 ì „ìˆ  Â· í•¨ìˆ˜ ì •ë¦¬

| ì „ìˆ /í•¨ìˆ˜ | ìš©ë„ | ì˜ˆì‹œ |
|---------|------|------|
| `Fin n` | 0ë¶€í„° n-1ê¹Œì§€ì˜ ìœ í•œ íƒ€ì… | `Fin 3` = {0, 1, 2} |
| `fin_cases i` | Fin nì˜ ëª¨ë“  ê²½ìš° ë¶„ê¸° | í–‰ë ¬ ì„±ë¶„ ê²€ì‚¬ì— ì‚¬ìš© |
| `<;>` | ëª¨ë“  í•˜ìœ„ ëª©í‘œì— ì „ìˆ  ì ìš© | `fin_cases i <;> rfl` |
| `List.finRange n` | [0, 1, ..., n-1] ë¦¬ìŠ¤íŠ¸ | í–‰ë ¬ ì¶œë ¥ì— ì‚¬ìš© |
| `List.any` | í•˜ë‚˜ë¼ë„ ì°¸ì´ë©´ true | ë¶€ìš¸ ê³±ì—ì„œ OR |
| `List.contains` | ì›ì†Œ ì†Œì† ê²€ì‚¬ | ì¸ì ‘ í–‰ë ¬ ìƒì„± |
| `max`, `min` | ìµœëŒ€/ìµœì†Œ | í•©ì§‘í•©/êµì§‘í•© í–‰ë ¬ |
| `showMatrix` | í–‰ë ¬ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ì¶œë ¥ | `#eval showMatrix M` |

---

## 10. í•µì‹¬ ìš”ì•½

1. ìœ í•œì§‘í•© ì‚¬ì´ì˜ ê´€ê³„ëŠ” **0-1 í–‰ë ¬**ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤: m_{ij} = 1ì´ë©´ (aáµ¢, bâ±¼) âˆˆ R.
2. í–‰ë ¬ì˜ íŒ¨í„´ìœ¼ë¡œ ê´€ê³„ì˜ ì„±ì§ˆì„ íŒë‹¨í•œë‹¤:
   - **ë°˜ì‚¬ì **: ëŒ€ê°ì„  ëª¨ë‘ 1
   - **ëŒ€ì¹­ì **: M = Máµ€ (ëŒ€ì¹­ í–‰ë ¬)
   - **ë°˜ëŒ€ì¹­ì **: ëŒ€ê°ì„  ë°–ì—ì„œ 1ì´ ë§ˆì£¼ë³´ì§€ ì•ŠìŒ
3. ê´€ê³„ì˜ **í•©ì§‘í•©** = í–‰ë ¬ì˜ ì›ì†Œë³„ OR, **êµì§‘í•©** = ì›ì†Œë³„ AND.
4. ê´€ê³„ì˜ **í•©ì„±** S âˆ˜ Rì€ í–‰ë ¬ì˜ **ë¶€ìš¸ ê³±** M\_R âŠ™ M\_Së¡œ ê³„ì‚°í•œë‹¤.
5. **ë°©í–¥ì„± ê·¸ë˜í”„**ëŠ” ê´€ê³„ì˜ ì‹œê°ì  í‘œí˜„: ê¼­ì§€ì  = ì›ì†Œ, í™”ì‚´í‘œ = ìˆœì„œìŒ.
6. Lean 4ì—ì„œ `Fin n â†’ Fin n â†’ â„•`ë¡œ í–‰ë ¬ì„, `List (Fin n Ã— Fin n)`ìœ¼ë¡œ ê·¸ë˜í”„ë¥¼ í‘œí˜„í•œë‹¤.
7. `fin_cases` ì „ìˆ ì€ ìœ í•œ íƒ€ì…ì˜ ëª¨ë“  ê²½ìš°ë¥¼ ë‚˜ì—´í•˜ëŠ” ê°•ë ¥í•œ ë„êµ¬ì´ë‹¤.

---

> **ë‹¤ìŒ íŒŒíŠ¸ ì˜ˆê³ **: Part 12-Eì—ì„œëŠ” **ê´€ê³„ì˜ íì‡„** (Section 9.4)ë¥¼ ë‹¤ë£¬ë‹¤. ë°˜ì‚¬ì  íì‡„, ëŒ€ì¹­ì  íì‡„, **ì „ì´ íì‡„**(transitive closure)ì˜ ê°œë…ê³¼ **ì›Œì…œ ì•Œê³ ë¦¬ì¦˜**(Warshall's Algorithm)ì„ ë°°ìš°ê³ , Lean 4ë¡œ êµ¬í˜„í•œë‹¤!
